<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KukaiCoreSwift - LedgerWallet</title>
    <link rel="stylesheet" type="text/css" href="https://kukai-core-swift.kukai.app/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kukai-core-swift.kukai.app/">
            <strong>
                KukaiCoreSwift
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Conforms To</a></li></ul></li><li><a href="#initializers">Initializers</a><ul><li class="initializer"><a href="#ledgerwallet.init?(address:publickey:derivationpath:curve:ledgeruuid:)">init?(address:​public​Key:​derivation​Path:​curve:​ledger​UUID:​)</a></li></ul></li><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#ledgerwallet.type">type</a></li><li class="variable"><a href="#ledgerwallet.address">address</a></li><li class="variable"><a href="#ledgerwallet.publickey">public​Key</a></li><li class="variable"><a href="#ledgerwallet.derivationpath">derivation​Path</a></li><li class="variable"><a href="#ledgerwallet.curve">curve</a></li><li class="variable"><a href="#ledgerwallet.ledgeruuid">ledger​UUID</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#ledgerwallet.sign(_:isoperation:completion:)">sign(_:​is​Operation:​completion:​)</a></li><li class="function"><a href="#ledgerwallet.privatekeycurve()">private​Key​Curve()</a></li><li class="function"><a href="#ledgerwallet.publickeybase58encoded()">public​Key​Base58encoded()</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Ledger​Wallet</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">class</span> <span class="type">LedgerWallet</span>: <a href="https://kukai-core-swift.kukai.app/Wallet"><span class="type">Wallet</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>A Tezos wallet class, used to cache infomration regarding the paired ledger device used to sign the payload.
This class can only be created by fetching data from a Ledger device and supplying this data to the constructor.</p>

</div>
<div class="discussion">
    <p>It is not possible to call the async sign function of this class, it will return null. Signing with a ledger is a complicated async process.
Please use the LedgerService class to setup a bluetooth connection, connect to the device and request a payload signing.</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        <figure>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %697 Pages: 1 -->
<svg width="872pt" height="116pt"
 viewBox="0.00 0.00 872.00 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>%697</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 868,-112 868,4 -4,4"/>
<!-- LedgerWallet -->
<g id="node1" class="node class current">
<title>LedgerWallet</title>
<g id="a_node1"><a xlink:href="https://kukai-core-swift.kukai.app/LedgerWallet" xlink:title="LedgerWallet">
<path fill="none" stroke="#000000" stroke-width="3" d="M528,-108C528,-108 336,-108 336,-108 330,-108 324,-102 324,-96 324,-96 324,-84 324,-84 324,-78 330,-72 336,-72 336,-72 528,-72 528,-72 534,-72 540,-78 540,-84 540,-84 540,-96 540,-96 540,-102 534,-108 528,-108"/>
<text text-anchor="middle" x="432" y="-86.3" font-family="Menlo" font-size="14.00" fill="#000000">LedgerWallet</text>
</a>
</g>
</g>
<!-- Wallet -->
<g id="node2" class="node protocol">
<title>Wallet</title>
<g id="a_node2"><a xlink:href="https://kukai-core-swift.kukai.app/Wallet" xlink:title="Wallet">
<path fill="none" stroke="#000000" d="M528,-36C528,-36 336,-36 336,-36 330,-36 324,-30 324,-24 324,-24 324,-12 324,-12 324,-6 330,0 336,0 336,0 528,0 528,0 534,0 540,-6 540,-12 540,-12 540,-24 540,-24 540,-30 534,-36 528,-36"/>
<text text-anchor="middle" x="432" y="-14.3" font-family="Menlo" font-size="14.00" fill="#000000">Wallet</text>
</a>
</g>
</g>
<!-- LedgerWallet&#45;&gt;Wallet -->
<g id="edge1" class="edge conformsTo">
<title>LedgerWallet&#45;&gt;Wallet</title>
<path fill="none" stroke="#000000" d="M432,-71.8314C432,-64.131 432,-54.9743 432,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="435.5001,-46.4132 432,-36.4133 428.5001,-46.4133 435.5001,-46.4132"/>
</g>
</g>
</svg>


    <figcaption hidden>Inheritance graph for LedgerWallet.</figcaption>
</figure>
        <h3>Conforms To</h3>
<dl>
    <dt class="protocol"><code><a href="https://kukai-core-swift.kukai.app/Wallet">Wallet</a></code></dt>
<dd><p>Wallet protocol to allow generic handling of all wallets types for signing operations and caching data locally.</p>
</dd>
</dl>
</section>
    <section id="initializers">
        <h2>Initializers</h2>

        <div role="article" class="initializer" id="ledgerwallet.init?(address:publickey:derivationpath:curve:ledgeruuid:)">
    <h3>
        <code><a href="#ledgerwallet.init?(address:publickey:derivationpath:curve:ledgeruuid:)">init?(address:​public​Key:​derivation​Path:​curve:​ledger​UUID:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">init</span>?(<span class="variable">address</span>: <span class="type">String</span>, <span class="variable">publicKey</span>: <span class="type">String</span>, <span class="variable">derivationPath</span>: <span class="type">String</span>, <span class="variable">curve</span>: <span class="type">EllipticalCurve</span>, <span class="variable">ledgerUUID</span>: <span class="type">String</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create an instance of a LedgerWallet. Can return nil if invalid public key supplied</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>address</th>
    <td><code class="type">String</code></td>
    <td><p>The TZ address pulled from the Ledger device</p>
</td>
</tr>
<tr>
    <th>public​Key</th>
    <td><code class="type">String</code></td>
    <td><p>The hex string denoting the public key, pulled from the ledger device</p>
</td>
</tr>
<tr>
    <th>derivation​Path</th>
    <td><code class="type">String</code></td>
    <td><p>The derivation path used to fetch the address / publicKey</p>
</td>
</tr>
<tr>
    <th>curve</th>
    <td><code class="type">Elliptical​Curve</code></td>
    <td><p>The elliptical curve used to fetch the address / public key</p>
</td>
</tr>
<tr>
    <th>ledger​UUID</th>
    <td><code class="type">String</code></td>
    <td><p>The unique Ledger UUID to identify the Ledger</p>
</td>
</tr>
  </tbody>
</table>
</div>
    </section>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="ledgerwallet.type">
    <h3>
        <code><a href="#ledgerwallet.type">type</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">type</span> = <span class="variable">WalletType</span>.<span class="variable">ledger</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The wallet type, hardcoded to always be <code>WalletType.ledger</code></p>

</div>
</div>
<div role="article" class="variable" id="ledgerwallet.address">
    <h3>
        <code><a href="#ledgerwallet.address">address</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">address</span>: <span class="type">String</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The TZ address pulled from the Ledger device, cached to avoid complex retrieval when fetching balances etc.</p>

</div>
</div>
<div role="article" class="variable" id="ledgerwallet.publickey">
    <h3>
        <code><a href="#ledgerwallet.publickey">public​Key</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">publicKey</span>: <span class="type">String</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The raw hex public key extracted from the Ledger, needed in order to perform REVEAL operations</p>

</div>
</div>
<div role="article" class="variable" id="ledgerwallet.derivationpath">
    <h3>
        <code><a href="#ledgerwallet.derivationpath">derivation​Path</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">derivationPath</span>: <span class="type">String</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The derivation path used to fetch the address and public key</p>

</div>
</div>
<div role="article" class="variable" id="ledgerwallet.curve">
    <h3>
        <code><a href="#ledgerwallet.curve">curve</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">curve</span>: <span class="type">EllipticalCurve</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The elliptical curve used to fetch the address and public key</p>

</div>
</div>
<div role="article" class="variable" id="ledgerwallet.ledgeruuid">
    <h3>
        <code><a href="#ledgerwallet.ledgeruuid">ledger​UUID</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">ledgerUUID</span>: <span class="type">String</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The unique ledger UUID, that corresponds to this wallet address</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="ledgerwallet.sign(_:isoperation:completion:)">
    <h3>
        <code><a href="#ledgerwallet.sign(_:isoperation:completion:)">sign(_:​is​Operation:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">sign</span>(<span class="keyword">_</span> <span class="variable">hex</span>: <span class="type">String</span>, <span class="variable">isOperation</span>: <span class="type">Bool</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<span class="type">UInt8</span>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sign a hex string.
If the string starts with &quot;03&quot; and is not 32 characters long, it will be treated as a watermarked operation and Ledger will be asked to parse + display the operation details.
Else it will be treated as an unknown operation and will simply display the Blake2b hash.
Please be careful when asking the Ledger to parse (passing in an operation), Ledgers have very limited display ability. Keep it to a single operation, not invoking a smart contract</p>

</div>
</div>
<div role="article" class="function" id="ledgerwallet.privatekeycurve()">
    <h3>
        <code><a href="#ledgerwallet.privatekeycurve()">private​Key​Curve()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">privateKeyCurve</span>() -&gt; <span class="type">EllipticalCurve</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Function to extract the curve used to create the public key</p>

</div>
</div>
<div role="article" class="function" id="ledgerwallet.publickeybase58encoded()">
    <h3>
        <code><a href="#ledgerwallet.publickeybase58encoded()">public​Key​Base58encoded()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">publicKeyBase58encoded</span>() -&gt; <span class="type">String</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Function to convert the public key into a Base58 encoded string</p>

</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2023-09-21T10:15:52+0000">September 21, 2023</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
