<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KukaiCoreSwift - DexterCalculationService</title>
    <link rel="stylesheet" type="text/css" href="https://kukai.app/kukai-core-swift/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kukai.app/kukai-core-swift/">
            <strong>
                KukaiCoreSwift
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#dextercalculationservice.shared">shared</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#dextercalculationservice.calculatextztotoken(xtztosell:dexterxtzpool:dextertokenpool:maxslippage:)">calculate​Xtz​ToToken(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​max​Slippage:​)</a></li><li class="function"><a href="#dextercalculationservice.calcualtetokentoxtz(tokentosell:dexterxtzpool:dextertokenpool:maxslippage:)">calcualte​Token​ToXTZ(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​max​Slippage:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenexpectedreturn(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Expected​Return(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenminimumreturn(tokenamount:slippage:)">xtz​ToToken​Minimum​Return(token​Amount:​slippage:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenrequiredxtzfor(tokenamount:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Required​Xtz​For(token​Amount:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenexchangerate(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Exchange​Rate(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenexchangeratedisplay(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Exchange​Rate​Display(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenmarketrate(dexterxtzpool:dextertokenpool:)">xtz​ToToken​Market​Rate(dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.xtztotokenpriceimpact(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Price​Impact(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzexpectedreturn(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Expected​Return(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzminimumreturn(xtzamount:slippage:)">token​ToXtz​Minimum​Return(xtz​Amount:​slippage:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzrequiredtokenfor(xtzamount:dexterxtzpool:dextertokenpool:)">token​ToXtz​Required​Token​For(xtz​Amount:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzexchangerate(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Exchange​Rate(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzexchangeratedisplay(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Exchange​Rate​Display(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzmarketrate(dexterxtzpool:dextertokenpool:)">token​ToXtz​Market​Rate(dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li><li class="function"><a href="#dextercalculationservice.tokentoxtzpriceimpact(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Price​Impact(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Dexter​Calculation​Service</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">class</span> <span class="type">DexterCalculationService</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Wrapper around the Dexter JS library for performing calculations: https://gitlab.com/camlcase-dev/dexter-calculations/</p>

</div>

    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="dextercalculationservice.shared">
    <h3>
        <code><a href="#dextercalculationservice.shared">shared</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> <span class="variable">shared</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Public shared instace to avoid having multiple copies of the underlying <code>JSContext</code> created</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="dextercalculationservice.calculatextztotoken(xtztosell:dexterxtzpool:dextertokenpool:maxslippage:)">
    <h3>
        <code><a href="#dextercalculationservice.calculatextztotoken(xtztosell:dexterxtzpool:dextertokenpool:maxslippage:)">calculate​Xtz​ToToken(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​max​Slippage:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">calculateXtzToToken</span>(<span class="variable">xtzToSell</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">maxSlippage</span>: <span class="type">Double</span>) -&gt; <a href="https://kukai.app/kukai-core-swift/DexterCalculationResult"><span class="type">DexterCalculationResult</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>A helper function to create all the necessary calculations for a xtzToToken exchange, to perform the operation and display the info to the user in a confirmation screen.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​ToSell</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>max​Slippage</th>
    <td><code class="type">Double</code></td>
    <td><p><code>Double</code> containing the max slippage a user will accept for their trade.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>DexterCalculationResult</code> containing the results of all the necessary calculations.</p>

</div>
<div role="article" class="function" id="dextercalculationservice.calcualtetokentoxtz(tokentosell:dexterxtzpool:dextertokenpool:maxslippage:)">
    <h3>
        <code><a href="#dextercalculationservice.calcualtetokentoxtz(tokentosell:dexterxtzpool:dextertokenpool:maxslippage:)">calcualte​Token​ToXTZ(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​max​Slippage:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">calcualteTokenToXTZ</span>(<span class="variable">tokenToSell</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">maxSlippage</span>: <span class="type">Double</span>) -&gt; <a href="https://kukai.app/kukai-core-swift/DexterCalculationResult"><span class="type">DexterCalculationResult</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>A helper function to create all the necessary calculations for a tokenToXtz exchange, to perform the operation and display the info to the user in a confirmation screen.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​ToSell</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>max​Slippage</th>
    <td><code class="type">Double</code></td>
    <td><p><code>Double</code> containing the max slippage a user will accept for their trade.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>DexterCalculationResult</code> containing the results of all the necessary calculations.</p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenexpectedreturn(xtztosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenexpectedreturn(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Expected​Return(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenExpectedReturn</span>(<span class="variable">xtzToSell</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The <code>TokenAmount</code> expected to be returned for the supplied <code>XTZAmount</code>, given the dexter contracts xtzPool and tokenPool.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​ToSell</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>TokenAmount</code> containing the amount the user can expect in return for their XTZ</p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenminimumreturn(tokenamount:slippage:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenminimumreturn(tokenamount:slippage:)">xtz​ToToken​Minimum​Return(token​Amount:​slippage:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenMinimumReturn</span>(<span class="variable">tokenAmount</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">slippage</span>: <span class="type">Double</span>) -&gt; <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The minimum possible <code>TokenAmount</code> returned, taking into account slippage.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​Amount</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> returned from <code>xtzToTokenExpectedReturn()</code>.</p>
</td>
</tr>
<tr>
    <th>slippage</th>
    <td><code class="type">Double</code></td>
    <td><p>A double value between 0 and 1, indicating the maximum percentage of slippage a user will accept.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>TokenAmount</code> containing the minimum amount the user can expect in return for their XTZ</p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenrequiredxtzfor(tokenamount:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenrequiredxtzfor(tokenamount:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Required​Xtz​For(token​Amount:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenRequiredXtzFor</span>(<span class="variable">tokenAmount</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculate the <code>XTZAmount</code> required in order to receive the supplied <code>TokenAmount</code>.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​Amount</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> the user wants to receive.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>XTZAmount</code> containing the amount of XTZ required in order to recieve the amount of token.</p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenexchangerate(xtztosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenexchangerate(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Exchange​Rate(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenExchangeRate</span>(<span class="variable">xtzToSell</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The exchange rate for a given trade, taking into account slippage and fees</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​ToSell</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 XTZ to the requested <code>Token</code></p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenexchangeratedisplay(xtztosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenexchangeratedisplay(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Exchange​Rate​Display(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenExchangeRateDisplay</span>(<span class="variable">xtzToSell</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The exchange rate for a given trade, taking into account slippage and fees, formatted and truncated for easier display in the UI.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​ToSell</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 XTZ to the requested <code>Token</code></p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenmarketrate(dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenmarketrate(dexterxtzpool:dextertokenpool:)">xtz​ToToken​Market​Rate(dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenMarketRate</span>(<span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Before a user has entered in an amount to trade, its useful to show them the base exchange rate, ignoring slippage.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 XTZ to the requested <code>Token</code></p>

</div>
<div role="article" class="function" id="dextercalculationservice.xtztotokenpriceimpact(xtztosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.xtztotokenpriceimpact(xtztosell:dexterxtzpool:dextertokenpool:)">xtz​ToToken​Price​Impact(xtz​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">xtzToTokenPriceImpact</span>(<span class="variable">xtzToSell</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calcualte the percentage the price impact the given trade would incur. Since this is already taken into account for the other functions, this function returns in the scale of 0 - 100, for display purposes.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​ToSell</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the slippage percentage, 0 - 100.</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzexpectedreturn(tokentosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzexpectedreturn(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Expected​Return(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzExpectedReturn</span>(<span class="variable">tokenToSell</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The <code>XTZAmount</code> expected to be returned for the supplied <code>TokenAmount</code>, given the dexter contracts xtzPool and tokenPool.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​ToSell</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>XTZAmount</code> containing the amount the user can expect in return for their <code>Token</code></p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzminimumreturn(xtzamount:slippage:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzminimumreturn(xtzamount:slippage:)">token​ToXtz​Minimum​Return(xtz​Amount:​slippage:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzMinimumReturn</span>(<span class="variable">xtzAmount</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">slippage</span>: <span class="type">Double</span>) -&gt; <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The minimum possible <code>XTZAmount</code> returned, taking into account slippage.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​Amount</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> returned from <code>tokenToXtzExpectedReturn()</code>.</p>
</td>
</tr>
<tr>
    <th>slippage</th>
    <td><code class="type">Double</code></td>
    <td><p>A double value between 0 and 1, indicating the maximum percentage of slippage a user will accept.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>XTZAmount</code> containing the minimum amount the user can expect in return for their Token</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzrequiredtokenfor(xtzamount:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzrequiredtokenfor(xtzamount:dexterxtzpool:dextertokenpool:)">token​ToXtz​Required​Token​For(xtz​Amount:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzRequiredTokenFor</span>(<span class="variable">xtzAmount</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculate the <code>TokenAmount</code> required in order to receive the supplied <code>XTZAmount</code>.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>xtz​Amount</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> the user wants to receive.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>TokenAmount</code> containing the amount of <code>Token</code> required in order to recieve the amount of XTZ.</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzexchangerate(tokentosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzexchangerate(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Exchange​Rate(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzExchangeRate</span>(<span class="variable">tokenToSell</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The exchange rate for a given trade, taking into account slippage and fees</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​ToSell</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 of the given <code>Token</code> to XTZ</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzexchangeratedisplay(tokentosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzexchangeratedisplay(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Exchange​Rate​Display(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzExchangeRateDisplay</span>(<span class="variable">tokenToSell</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The exchange rate for a given trade, taking into account slippage and fees, formatted and truncated for easier display in the UI.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​ToSell</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 of the given <code>Token</code> to XTZ</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzmarketrate(dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzmarketrate(dexterxtzpool:dextertokenpool:)">token​ToXtz​Market​Rate(dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzMarketRate</span>(<span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Before a user has entered in an amount to trade, its useful to show them the base exchange rate, ignoring slippage.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the exchange rate from 1 of the given <code>Token</code> to XTZ</p>

</div>
<div role="article" class="function" id="dextercalculationservice.tokentoxtzpriceimpact(tokentosell:dexterxtzpool:dextertokenpool:)">
    <h3>
        <code><a href="#dextercalculationservice.tokentoxtzpriceimpact(tokentosell:dexterxtzpool:dextertokenpool:)">token​ToXtz​Price​Impact(token​ToSell:​dexter​Xtz​Pool:​dexter​Token​Pool:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">tokenToXtzPriceImpact</span>(<span class="variable">tokenToSell</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">dexterXtzPool</span>: <a href="https://kukai.app/kukai-core-swift/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">dexterTokenPool</span>: <a href="https://kukai.app/kukai-core-swift/TokenAmount"><span class="type">TokenAmount</span></a>) -&gt; <span class="type">Decimal</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calcualte the percentage slippage the given trade would incur. Since this is already taken into account for the other functions, this function returns in the scale of 0 - 100, for display purposes.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​ToSell</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> to sell.</p>
</td>
</tr>
<tr>
    <th>dexter​Xtz​Pool</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The <code>XTZAmount</code> representing the current pool of XTZ that the dexter contract holds. Can be fetched with xxxxx.</p>
</td>
</tr>
<tr>
    <th>dexter​Token​Pool</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The <code>TokenAmount</code> representing the current pool of the given <code>Token</code> that the dexter contract holds. Must have the same number of decimalPlaces as the token it represents. Can be fetched with xxxxx.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p><code>Decimal</code> containing the slippage percentage, 0 - 100.</p>

</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-06-22T13:39:19+0000">June 22, 2021</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
