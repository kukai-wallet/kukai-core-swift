/*! For license information please see taquito_local_forging.js.LICENSE.txt */
var taquito_local_forging;(()=>{var t={8460:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function n(t,...e){if(!((r=t)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}Object.defineProperty(e,"__esModule",{value:!0}),e.anumber=r,e.abytes=n,e.ahash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)},e.aexists=function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},e.aoutput=function(t,e){n(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}},6423:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashMD=void 0,e.setBigUint64=o,e.Chi=function(t,e,r){return t&e^~t&r},e.Maj=function(t,e,r){return t&e^t&r^e&r};const n=r(8460),i=r(9074);function o(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}class s extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){(0,n.aexists)(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.aexists)(this),(0,n.aoutput)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:a}=this;let{pos:f}=this;e[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>s-f&&(this.process(r,0),f=0);for(let t=f;t<s;t++)e[t]=0;o(r,s-8,BigInt(8*this.length),a),this.process(r,0);const c=(0,i.createView)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<d;t++)c.setUint32(4*t,h[t],a)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.HashMD=s},6910:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},9688:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=e.SHA256=void 0;const n=r(6423),i=r(9074),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class f extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)a[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=a[t-15],r=a[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[t]=o+a[t-7]+n+a[t-16]|0}let{A:r,B:s,C:f,D:c,E:u,F:d,G:h,H:l}=this;for(let t=0;t<64;t++){const e=l+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+(0,n.Chi)(u,d,h)+o[t]+a[t]|0,b=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,s,f)|0;l=h,h=d,d=u,u=c+e|0,c=f,f=s,s=r,r=e+b|0}r=r+this.A|0,s=s+this.B|0,f=f+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,l=l+this.H|0,this.set(r,s,f,c,u,d,h,l)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}e.SHA256=f;class c extends f{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)((()=>new f)),e.sha224=(0,i.wrapConstructor)((()=>new c))},9074:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.isLE=void 0,e.isBytes=function(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name},e.u8=function(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},e.u32=function(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))},e.createView=function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)},e.rotr=function(t,e){return t<<32-e|t>>>e},e.rotl=function(t,e){return t<<e|t>>>32-e>>>0},e.byteSwap=o,e.byteSwap32=function(t){for(let e=0;e<t.length;e++)t[e]=o(t[e])},e.bytesToHex=function(t){(0,i.abytes)(t);let e="";for(let r=0;r<t.length;r++)e+=s[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){const r=f(t.charCodeAt(i)),o=f(t.charCodeAt(i+1));if(void 0===r||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+o}return n},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=c,e.toBytes=u,e.concatBytes=function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];(0,i.abytes)(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r},e.checkOpts=function(t,e){if(void 0!==e&&"[object Object]"!=={}.toString.call(e))throw new Error("Options should be object or undefined");return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(u(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(u(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.wrapXOFConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(u(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return n.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")};const n=r(6910),i=r(8460);function o(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.byteSwapIfBE=e.isLE?t=>t:t=>o(t);const s=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0"))),a={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(t){return t>=a._0&&t<=a._9?t-a._0:t>=a.A&&t<=a.F?t-(a.A-10):t>=a.a&&t<=a.f?t-(a.a-10):void 0}function c(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function u(t){return"string"==typeof t&&(t=c(t)),(0,i.abytes)(t),t}e.nextTick=async()=>{},e.Hash=class{clone(){return this._cloneInto()}}},3447:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6411);function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function o(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function s(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function f(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function c(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function u(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function h(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),u(t/4294967296>>>0,e,r),u(t>>>0,e,r+4),e}function l(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),d(t>>>0,e,r),d(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=o,e.writeInt16LE=o,e.readInt32BE=s,e.readUint32BE=a,e.readInt32LE=f,e.readUint32LE=c,e.writeUint32BE=u,e.writeInt32BE=u,e.writeUint32LE=d,e.writeInt32LE=d,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=s(t,e),n=s(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=f(t,e);return 4294967296*f(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r},e.writeUint64BE=h,e.writeInt64BE=h,e.writeUint64LE=l,e.writeInt64LE=l,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=t/8+r-1;o>=r;o--)n+=e[o]*i,i*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+t/8;o++)n+=e[o]*i,i*=256;return n},e.writeUintBE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,s=t/8+i-1;s>=i;s--)r[s]=e/o&255,o*=256;return r},e.writeUintLE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+t/8;s++)r[s]=e/o&255,o*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},1703:(t,e,r)=>{"use strict";var n=r(3447),i=r(8767);e.cS=128,e.On=64,e.J4=64,e.Cc=16,e.wU=16,e.wm=Math.pow(2,32)-1,e.np=255,e._n=255;var o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]];!function(){function t(t,r){if(void 0===t&&(t=64),this.digestLength=t,this.blockSize=e.cS,this._state=new Int32Array(o),this._buffer=new Uint8Array(e.cS),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),t<1||t>e.On)throw new Error("blake2b: wrong digest length");r&&this.validateConfig(r);var i=0;r&&r.key&&(i=r.key.length);var s=1,a=1;r&&r.tree&&(s=r.tree.fanout,a=r.tree.maxDepth),this._state[0]^=t|i<<8|s<<16|a<<24,r&&r.tree&&(this._state[1]^=r.tree.leafSize,this._state[2]^=r.tree.nodeOffsetLowBits,this._state[3]^=r.tree.nodeOffsetHighBits,this._state[4]^=r.tree.nodeDepth|r.tree.innerDigestLength<<8,this._lastNode=r.tree.lastNode),r&&r.salt&&(this._state[8]^=n.readUint32LE(r.salt,0),this._state[9]^=n.readUint32LE(r.salt,4),this._state[10]^=n.readUint32LE(r.salt,8),this._state[11]^=n.readUint32LE(r.salt,12)),r&&r.personalization&&(this._state[12]^=n.readUint32LE(r.personalization,0),this._state[13]^=n.readUint32LE(r.personalization,4),this._state[14]^=n.readUint32LE(r.personalization,8),this._state[15]^=n.readUint32LE(r.personalization,12)),this._initialState=new Uint32Array(this._state),r&&r.key&&i>0&&(this._paddedKey=new Uint8Array(e.cS),this._paddedKey.set(r.key),this._buffer.set(this._paddedKey),this._bufferLength=e.cS)}t.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=e.cS):this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._finished=!1,this},t.prototype.validateConfig=function(t){if(t.key&&t.key.length>e.J4)throw new Error("blake2b: wrong key length");if(t.salt&&t.salt.length!==e.wU)throw new Error("blake2b: wrong salt length");if(t.personalization&&t.personalization.length!==e.Cc)throw new Error("blake2b: wrong personalization length");if(t.tree){if(t.tree.fanout<0||t.tree.fanout>e.np)throw new Error("blake2b: wrong tree fanout");if(t.tree.maxDepth<0||t.tree.maxDepth>e._n)throw new Error("blake2b: wrong tree depth");if(t.tree.leafSize<0||t.tree.leafSize>e.wm)throw new Error("blake2b: wrong leaf size");if(t.tree.innerDigestLength<0||t.tree.innerDigestLength>e.On)throw new Error("blake2b: wrong tree inner digest length")}},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var n=e.cS-this._bufferLength,i=0;if(0===r)return this;if(r>n){for(var o=0;o<n;o++)this._buffer[this._bufferLength+o]=t[i+o];this._processBlock(e.cS),i+=n,r-=n,this._bufferLength=0}for(;r>e.cS;){for(o=0;o<e.cS;o++)this._buffer[o]=t[i+o];this._processBlock(e.cS),i+=e.cS,r-=e.cS,this._bufferLength=0}for(o=0;o<r;o++)this._buffer[this._bufferLength+o]=t[i+o];return this._bufferLength+=r,this},t.prototype.finish=function(t){if(!this._finished){for(var r=this._bufferLength;r<e.cS;r++)this._buffer[r]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var i=this._buffer.subarray(0,64);for(r=0;r<16;r++)n.writeUint32LE(this._state[r],i,4*r);return t.set(i.subarray(0,t.length)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.clean=function(){i.wipe(this._vtmp),i.wipe(this._mtmp),i.wipe(this._state),i.wipe(this._buffer),i.wipe(this._initialState),this._paddedKey&&i.wipe(this._paddedKey),this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._lastNode=!1,this._finished=!1},t.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._buffer.set(t.buffer),this._bufferLength=t.bufferLength,this._ctr.set(t.ctr),this._flag.set(t.flag),this._lastNode=t.lastNode,this._paddedKey&&i.wipe(this._paddedKey),this._paddedKey=t.paddedKey?new Uint8Array(t.paddedKey):void 0,this._initialState.set(t.initialState),this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),i.wipe(t.buffer),i.wipe(t.initialState),t.paddedKey&&i.wipe(t.paddedKey),t.bufferLength=0,i.wipe(t.ctr),i.wipe(t.flag),t.lastNode=!1},t.prototype._G=function(t,e,r,n,i,o,s,a,f,c,u,d,h){var l=t[e],b=t[o],p=t[r],g=t[s],m=t[n],y=t[a],w=t[i],v=t[f],A=65535&l,E=l>>>16,_=65535&b,S=b>>>16;E+=p>>>16,_+=65535&g,S+=g>>>16,_+=(E+=(A+=65535&p)>>>16)>>>16,A=65535&(l=65535&A|E<<16),E=l>>>16,_=65535&(b=65535&_|(S+=_>>>16)<<16),S=b>>>16,E+=c>>>16,_+=65535&u,S+=u>>>16,l=65535&(A+=65535&c)|(E+=A>>>16)<<16,A=v^=b=65535&(_+=E>>>16)|(S+=_>>>16)<<16,v=w^=l,w=A,A=65535&m,E=m>>>16,_=65535&y,S=y>>>16,E+=w>>>16,_+=65535&v,S+=v>>>16,A=(p^=m=65535&(A+=65535&w)|(E+=A>>>16)<<16)<<8|(g^=y=65535&(_+=E>>>16)|(S+=_>>>16)<<16)>>>24,p=g<<8|p>>>24,g=A,A=65535&l,E=l>>>16,_=65535&b,S=b>>>16,E+=p>>>16,_+=65535&g,S+=g>>>16,_+=(E+=(A+=65535&p)>>>16)>>>16,A=65535&(l=65535&A|E<<16),E=l>>>16,_=65535&(b=65535&_|(S+=_>>>16)<<16),S=b>>>16,E+=d>>>16,_+=65535&h,S+=h>>>16,A=(w^=l=65535&(A+=65535&d)|(E+=A>>>16)<<16)<<16|(v^=b=65535&(_+=E>>>16)|(S+=_>>>16)<<16)>>>16,w=v<<16|w>>>16,v=A,A=65535&m,E=m>>>16,_=65535&y,S=y>>>16,E+=w>>>16,_+=65535&v,S+=v>>>16,A=(g^=y=65535&(_+=(E+=(A+=65535&w)>>>16)>>>16)|(S+=_>>>16)<<16)<<1|(p^=m=65535&A|E<<16)>>>31,p=p<<1|g>>>31,g=A,t[e]=l,t[o]=b,t[r]=p,t[s]=g,t[n]=m,t[a]=y,t[i]=w,t[f]=v},t.prototype._incrementCounter=function(t){for(var e=0;e<3;e++){var r=this._ctr[e]+t;if(this._ctr[e]=r>>>0,this._ctr[e]===r)return;t=1}},t.prototype._processBlock=function(t){this._incrementCounter(t);var e=this._vtmp;e.set(this._state),e.set(o,16),e[24]^=this._ctr[0],e[25]^=this._ctr[1],e[26]^=this._ctr[2],e[27]^=this._ctr[3],e[28]^=this._flag[0],e[29]^=this._flag[1],e[30]^=this._flag[2],e[31]^=this._flag[3];for(var r=this._mtmp,i=0;i<32;i++)r[i]=n.readUint32LE(this._buffer,4*i);for(var a=0;a<12;a++)this._G(e,0,8,16,24,1,9,17,25,r[s[a][0]],r[s[a][0]+1],r[s[a][1]],r[s[a][1]+1]),this._G(e,2,10,18,26,3,11,19,27,r[s[a][2]],r[s[a][2]+1],r[s[a][3]],r[s[a][3]+1]),this._G(e,4,12,20,28,5,13,21,29,r[s[a][4]],r[s[a][4]+1],r[s[a][5]],r[s[a][5]+1]),this._G(e,6,14,22,30,7,15,23,31,r[s[a][6]],r[s[a][6]+1],r[s[a][7]],r[s[a][7]+1]),this._G(e,0,10,20,30,1,11,21,31,r[s[a][8]],r[s[a][8]+1],r[s[a][9]],r[s[a][9]+1]),this._G(e,2,12,22,24,3,13,23,25,r[s[a][10]],r[s[a][10]+1],r[s[a][11]],r[s[a][11]+1]),this._G(e,4,14,16,26,5,15,17,27,r[s[a][12]],r[s[a][12]+1],r[s[a][13]],r[s[a][13]+1]),this._G(e,6,8,18,28,7,9,19,29,r[s[a][14]],r[s[a][14]+1],r[s[a][15]],r[s[a][15]+1]);for(i=0;i<16;i++)this._state[i]^=e[i]^e[i+16]}}()},7379:(t,e,r)=>{"use strict";e.TP=e.wE=e.Ee=void 0;r(7687),r(5121),r(8767);function n(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Ee=64,e.wE=64,e.TP=32,new Uint8Array(32)[0]=9;n(),n([1]),n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16])},6411:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},7687:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(7841),i=r(3447),o=r(8767);function s(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=s,e.randomUint32=function(t=e.defaultRandomSource){const r=s(4,t),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function f(t,r=a,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const f=r.length,c=256-256%f;for(;t>0;){const e=s(Math.ceil(256*t/c),n);for(let n=0;n<e.length&&t>0;n++){const o=e[n];o<c&&(i+=r.charAt(o%f),t--)}(0,o.wipe)(e)}return i}e.randomString=f,e.randomStringForEntropy=function(t,r=a,n=e.defaultRandomSource){return f(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},4262:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0,e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},1052:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(8767);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(5423);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,n.wipe)(e),r}}},7841:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(4262),i=r(1052);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},5121:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3447),i=r(8767);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var o=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,o=e<<3,s=e%128<112?128:256;this._buffer[r]=128;for(var f=r+1;f<s-8;f++)this._buffer[f]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(f=0;f<this.digestLength/8;f++)n.writeUint32BE(this._stateHi[f],t,8*f),n.writeUint32BE(this._stateLo[f],t,8*f+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,i,o,a,f){for(var c,u,d,h,l,b,p,g,m=r[0],y=r[1],w=r[2],v=r[3],A=r[4],E=r[5],_=r[6],S=r[7],R=i[0],I=i[1],T=i[2],O=i[3],M=i[4],P=i[5],L=i[6],B=i[7];f>=128;){for(var x=0;x<16;x++){var N=8*x+a;t[x]=n.readUint32BE(o,N),e[x]=n.readUint32BE(o,N+4)}for(x=0;x<80;x++){var U,H,D=m,C=y,k=w,F=v,K=A,Z=E,G=_,q=R,z=I,V=T,j=O,$=M,Y=P,X=L;if(l=65535&(u=B),b=u>>>16,p=65535&(c=S),g=c>>>16,l+=65535&(u=(M>>>14|A<<18)^(M>>>18|A<<14)^(A>>>9|M<<23)),b+=u>>>16,p+=65535&(c=(A>>>14|M<<18)^(A>>>18|M<<14)^(M>>>9|A<<23)),g+=c>>>16,l+=65535&(u=M&P^~M&L),b+=u>>>16,p+=65535&(c=A&E^~A&_),g+=c>>>16,c=s[2*x],l+=65535&(u=s[2*x+1]),b+=u>>>16,p+=65535&c,g+=c>>>16,c=t[x%16],b+=(u=e[x%16])>>>16,p+=65535&c,g+=c>>>16,p+=(b+=(l+=65535&u)>>>16)>>>16,l=65535&(u=h=65535&l|b<<16),b=u>>>16,p=65535&(c=d=65535&p|(g+=p>>>16)<<16),g=c>>>16,l+=65535&(u=(R>>>28|m<<4)^(m>>>2|R<<30)^(m>>>7|R<<25)),b+=u>>>16,p+=65535&(c=(m>>>28|R<<4)^(R>>>2|m<<30)^(R>>>7|m<<25)),g+=c>>>16,b+=(u=R&I^R&T^I&T)>>>16,p+=65535&(c=m&y^m&w^y&w),g+=c>>>16,U=65535&(p+=(b+=(l+=65535&u)>>>16)>>>16)|(g+=p>>>16)<<16,H=65535&l|b<<16,l=65535&(u=j),b=u>>>16,p=65535&(c=F),g=c>>>16,b+=(u=h)>>>16,p+=65535&(c=d),g+=c>>>16,y=D,w=C,v=k,A=F=65535&(p+=(b+=(l+=65535&u)>>>16)>>>16)|(g+=p>>>16)<<16,E=K,_=Z,S=G,m=U,I=q,T=z,O=V,M=j=65535&l|b<<16,P=$,L=Y,B=X,R=H,x%16==15)for(N=0;N<16;N++)c=t[N],l=65535&(u=e[N]),b=u>>>16,p=65535&c,g=c>>>16,c=t[(N+9)%16],l+=65535&(u=e[(N+9)%16]),b+=u>>>16,p+=65535&c,g+=c>>>16,d=t[(N+1)%16],l+=65535&(u=((h=e[(N+1)%16])>>>1|d<<31)^(h>>>8|d<<24)^(h>>>7|d<<25)),b+=u>>>16,p+=65535&(c=(d>>>1|h<<31)^(d>>>8|h<<24)^d>>>7),g+=c>>>16,d=t[(N+14)%16],b+=(u=((h=e[(N+14)%16])>>>19|d<<13)^(d>>>29|h<<3)^(h>>>6|d<<26))>>>16,p+=65535&(c=(d>>>19|h<<13)^(h>>>29|d<<3)^d>>>6),g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,t[N]=65535&p|g<<16,e[N]=65535&l|b<<16}l=65535&(u=R),b=u>>>16,p=65535&(c=m),g=c>>>16,c=r[0],b+=(u=i[0])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[0]=m=65535&p|g<<16,i[0]=R=65535&l|b<<16,l=65535&(u=I),b=u>>>16,p=65535&(c=y),g=c>>>16,c=r[1],b+=(u=i[1])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[1]=y=65535&p|g<<16,i[1]=I=65535&l|b<<16,l=65535&(u=T),b=u>>>16,p=65535&(c=w),g=c>>>16,c=r[2],b+=(u=i[2])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[2]=w=65535&p|g<<16,i[2]=T=65535&l|b<<16,l=65535&(u=O),b=u>>>16,p=65535&(c=v),g=c>>>16,c=r[3],b+=(u=i[3])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[3]=v=65535&p|g<<16,i[3]=O=65535&l|b<<16,l=65535&(u=M),b=u>>>16,p=65535&(c=A),g=c>>>16,c=r[4],b+=(u=i[4])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[4]=A=65535&p|g<<16,i[4]=M=65535&l|b<<16,l=65535&(u=P),b=u>>>16,p=65535&(c=E),g=c>>>16,c=r[5],b+=(u=i[5])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[5]=E=65535&p|g<<16,i[5]=P=65535&l|b<<16,l=65535&(u=L),b=u>>>16,p=65535&(c=_),g=c>>>16,c=r[6],b+=(u=i[6])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[6]=_=65535&p|g<<16,i[6]=L=65535&l|b<<16,l=65535&(u=B),b=u>>>16,p=65535&(c=S),g=c>>>16,c=r[7],b+=(u=i[7])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(b+=(l+=65535&u)>>>16)>>>16)>>>16,r[7]=S=65535&p|g<<16,i[7]=B=65535&l|b<<16,a+=128,f-=128}return a}e.hash=function(t){var e=new o;e.update(t);var r=e.digest();return e.clean(),r}},8767:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},7403:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*f+1>>>0,c=new Uint8Array(o);t[r];){var u=t.charCodeAt(r);if(u>255)return;var d=e[u];if(255===d)return;for(var h=0,l=o-1;(0!==d||h<i)&&-1!==l;l--,h++)d+=s*c[l]>>>0,c[l]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,r++}for(var b=o-i;b!==o&&0===c[b];)b++;for(var p=new Uint8Array(n+(o-b)),g=n;b!==o;)p[g++]=c[b++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var f=(o-i)*c+1>>>0,u=new Uint8Array(f);i!==o;){for(var d=e[i],h=0,l=f-1;(0!==d||h<n)&&-1!==l;l--,h++)d+=256*u[l]>>>0,u[l]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var b=f-n;b!==f&&0===u[b];)b++;for(var p=a.repeat(r);b<f;++b)p+=t.charAt(u[b]);return p},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},7991:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],f=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),u=0,d=f>0?s-4:s;for(r=0;r<d;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[u++]=255&e),1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(f(t,a,a+s>c?c:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2823:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8379).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function f(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=f(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=f(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,f=0,u=r;u<a;u+=n)f=c(t,u,u+n,e),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var d=1;for(f=c(t,u,t.length,e),u=0;u<s;u++)d*=e;this.imuln(d),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,f=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var u=f>>>26,d=67108863&f,h=Math.min(c,e.length-1),l=Math.max(0,c-t.length+1);l<=h;l++){var b=c-l|0;u+=(s=(i=0|t.words[b])*(o=0|e.words[l])+d)/67108864|0,d=67108863&s}r.words[c]=0|d,f=0|u}return 0!==f?r.words[c]=0|f:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-f.length]+f+r:f+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],l=h[t];r="";var b=this.clone();for(b.negative=0;!b.isZero();){var p=b.modn(l).toString(t);r=(b=b.idivn(l)).isZero()?p+r:u[c-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,f="le"===e,c=new t(o),u=this.clone();if(f){for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var b=function(t,e,r){var n,i,o,s=t.words,a=e.words,f=r.words,c=0,u=0|s[0],d=8191&u,h=u>>>13,l=0|s[1],b=8191&l,p=l>>>13,g=0|s[2],m=8191&g,y=g>>>13,w=0|s[3],v=8191&w,A=w>>>13,E=0|s[4],_=8191&E,S=E>>>13,R=0|s[5],I=8191&R,T=R>>>13,O=0|s[6],M=8191&O,P=O>>>13,L=0|s[7],B=8191&L,x=L>>>13,N=0|s[8],U=8191&N,H=N>>>13,D=0|s[9],C=8191&D,k=D>>>13,F=0|a[0],K=8191&F,Z=F>>>13,G=0|a[1],q=8191&G,z=G>>>13,V=0|a[2],j=8191&V,$=V>>>13,Y=0|a[3],X=8191&Y,W=Y>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ft=8191&at,ct=at>>>13,ut=0|a[8],dt=8191&ut,ht=ut>>>13,lt=0|a[9],bt=8191&lt,pt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(d,K))|0)+((8191&(i=(i=Math.imul(d,Z))+Math.imul(h,K)|0))<<13)|0;c=((o=Math.imul(h,Z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(b,K),i=(i=Math.imul(b,Z))+Math.imul(p,K)|0,o=Math.imul(p,Z);var mt=(c+(n=n+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,z)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,z)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,K),i=(i=Math.imul(m,Z))+Math.imul(y,K)|0,o=Math.imul(y,Z),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(p,q)|0,o=o+Math.imul(p,z)|0;var yt=(c+(n=n+Math.imul(d,j)|0)|0)+((8191&(i=(i=i+Math.imul(d,$)|0)+Math.imul(h,j)|0))<<13)|0;c=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(v,K),i=(i=Math.imul(v,Z))+Math.imul(A,K)|0,o=Math.imul(A,Z),n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(b,j)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(p,j)|0,o=o+Math.imul(p,$)|0;var wt=(c+(n=n+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,X)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,K),i=(i=Math.imul(_,Z))+Math.imul(S,K)|0,o=Math.imul(S,Z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,z)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,z)|0,n=n+Math.imul(m,j)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(y,j)|0,o=o+Math.imul(y,$)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(p,X)|0,o=o+Math.imul(p,W)|0;var vt=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(I,K),i=(i=Math.imul(I,Z))+Math.imul(T,K)|0,o=Math.imul(T,Z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,z)|0,n=n+Math.imul(v,j)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(A,j)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var At=(c+(n=n+Math.imul(d,rt)|0)|0)+((8191&(i=(i=i+Math.imul(d,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(M,K),i=(i=Math.imul(M,Z))+Math.imul(P,K)|0,o=Math.imul(P,Z),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,z)|0,n=n+Math.imul(_,j)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(S,j)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,nt)|0;var Et=(c+(n=n+Math.imul(d,ot)|0)|0)+((8191&(i=(i=i+Math.imul(d,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,K),i=(i=Math.imul(B,Z))+Math.imul(x,K)|0,o=Math.imul(x,Z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,z)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,z)|0,n=n+Math.imul(I,j)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(T,j)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(c+(n=n+Math.imul(d,ft)|0)|0)+((8191&(i=(i=i+Math.imul(d,ct)|0)+Math.imul(h,ft)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,Z))+Math.imul(H,K)|0,o=Math.imul(H,Z),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,z)|0,n=n+Math.imul(M,j)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(P,j)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var St=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ht)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(C,K),i=(i=Math.imul(C,Z))+Math.imul(k,K)|0,o=Math.imul(k,Z),n=n+Math.imul(U,q)|0,i=(i=i+Math.imul(U,z)|0)+Math.imul(H,q)|0,o=o+Math.imul(H,z)|0,n=n+Math.imul(B,j)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(x,j)|0,o=o+Math.imul(x,$)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(b,dt)|0,i=(i=i+Math.imul(b,ht)|0)+Math.imul(p,dt)|0,o=o+Math.imul(p,ht)|0;var Rt=(c+(n=n+Math.imul(d,bt)|0)|0)+((8191&(i=(i=i+Math.imul(d,pt)|0)+Math.imul(h,bt)|0))<<13)|0;c=((o=o+Math.imul(h,pt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,z))+Math.imul(k,q)|0,o=Math.imul(k,z),n=n+Math.imul(U,j)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(H,j)|0,o=o+Math.imul(H,$)|0,n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(A,ft)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(m,dt)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,dt)|0,o=o+Math.imul(y,ht)|0;var It=(c+(n=n+Math.imul(b,bt)|0)|0)+((8191&(i=(i=i+Math.imul(b,pt)|0)+Math.imul(p,bt)|0))<<13)|0;c=((o=o+Math.imul(p,pt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(C,j),i=(i=Math.imul(C,$))+Math.imul(k,j)|0,o=Math.imul(k,$),n=n+Math.imul(U,X)|0,i=(i=i+Math.imul(U,W)|0)+Math.imul(H,X)|0,o=o+Math.imul(H,W)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(v,dt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(A,dt)|0,o=o+Math.imul(A,ht)|0;var Tt=(c+(n=n+Math.imul(m,bt)|0)|0)+((8191&(i=(i=i+Math.imul(m,pt)|0)+Math.imul(y,bt)|0))<<13)|0;c=((o=o+Math.imul(y,pt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(C,X),i=(i=Math.imul(C,W))+Math.imul(k,X)|0,o=Math.imul(k,W),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(H,Q)|0,o=o+Math.imul(H,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ft)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(_,dt)|0,i=(i=i+Math.imul(_,ht)|0)+Math.imul(S,dt)|0,o=o+Math.imul(S,ht)|0;var Ot=(c+(n=n+Math.imul(v,bt)|0)|0)+((8191&(i=(i=i+Math.imul(v,pt)|0)+Math.imul(A,bt)|0))<<13)|0;c=((o=o+Math.imul(A,pt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(C,Q),i=(i=Math.imul(C,tt))+Math.imul(k,Q)|0,o=Math.imul(k,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(H,rt)|0,o=o+Math.imul(H,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,dt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,dt)|0,o=o+Math.imul(T,ht)|0;var Mt=(c+(n=n+Math.imul(_,bt)|0)|0)+((8191&(i=(i=i+Math.imul(_,pt)|0)+Math.imul(S,bt)|0))<<13)|0;c=((o=o+Math.imul(S,pt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,rt),i=(i=Math.imul(C,nt))+Math.imul(k,rt)|0,o=Math.imul(k,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,st)|0)+Math.imul(H,ot)|0,o=o+Math.imul(H,st)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(M,dt)|0,i=(i=i+Math.imul(M,ht)|0)+Math.imul(P,dt)|0,o=o+Math.imul(P,ht)|0;var Pt=(c+(n=n+Math.imul(I,bt)|0)|0)+((8191&(i=(i=i+Math.imul(I,pt)|0)+Math.imul(T,bt)|0))<<13)|0;c=((o=o+Math.imul(T,pt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(C,ot),i=(i=Math.imul(C,st))+Math.imul(k,ot)|0,o=Math.imul(k,st),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,ct)|0)+Math.imul(H,ft)|0,o=o+Math.imul(H,ct)|0,n=n+Math.imul(B,dt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(x,dt)|0,o=o+Math.imul(x,ht)|0;var Lt=(c+(n=n+Math.imul(M,bt)|0)|0)+((8191&(i=(i=i+Math.imul(M,pt)|0)+Math.imul(P,bt)|0))<<13)|0;c=((o=o+Math.imul(P,pt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(C,ft),i=(i=Math.imul(C,ct))+Math.imul(k,ft)|0,o=Math.imul(k,ct),n=n+Math.imul(U,dt)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(H,dt)|0,o=o+Math.imul(H,ht)|0;var Bt=(c+(n=n+Math.imul(B,bt)|0)|0)+((8191&(i=(i=i+Math.imul(B,pt)|0)+Math.imul(x,bt)|0))<<13)|0;c=((o=o+Math.imul(x,pt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(C,dt),i=(i=Math.imul(C,ht))+Math.imul(k,dt)|0,o=Math.imul(k,ht);var xt=(c+(n=n+Math.imul(U,bt)|0)|0)+((8191&(i=(i=i+Math.imul(U,pt)|0)+Math.imul(H,bt)|0))<<13)|0;c=((o=o+Math.imul(H,pt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863;var Nt=(c+(n=Math.imul(C,bt))|0)+((8191&(i=(i=Math.imul(C,pt))+Math.imul(k,bt)|0))<<13)|0;return c=((o=Math.imul(k,pt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,f[0]=gt,f[1]=mt,f[2]=yt,f[3]=wt,f[4]=vt,f[5]=At,f[6]=Et,f[7]=_t,f[8]=St,f[9]=Rt,f[10]=It,f[11]=Tt,f[12]=Ot,f[13]=Mt,f[14]=Pt,f[15]=Lt,f[16]=Bt,f[17]=xt,f[18]=Nt,0!==c&&(f[19]=c,r.length++),r};function p(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(b=l),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?b(this,t,e):n<63?l(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,f=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=f;c++){var u=o-c,d=(0|t.words[u])*(0|e.words[c]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,f=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var d=f,h=c,l=0;l<s;l++){var b=r[u+l],p=n[u+l],g=r[u+l+s],m=n[u+l+s],y=d*g-h*m;m=d*m+h*g,g=y,r[u+l]=b+g,n[u+l]=p+m,r[u+l+s]=b-g,n[u+l+s]=p-m,l!==a&&(y=f*d-c*h,h=f*h+c*d,d=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),f=new Array(n),c=new Array(n),u=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,f,n,i),this.transform(c,o,u,d,n,i);for(var l=0;l<n;l++){var b=a[l]*u[l]-f[l]*d[l];f[l]=a[l]*d[l]+f[l]*u[l],a[l]=b}return this.conjugate(a,f,n),this.transform(a,f,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,f=(0|this.words[e])-a<<r;this.words[e]=f|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,f=r;if(i-=s,i=Math.max(0,i),f){for(var c=0;c<s;c++)f.words[c]=this.words[c];f.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-o|d>>>o,u=d&a}return f&&0!==u&&(f.words[f.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var f=(0|t.words[i])*e;a=((o-=67108863&f)>>26)-(f/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,f=n.length-i.length;if("mod"!==e){(a=new o(null)).length=f+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=n.clone()._ishlnsubmul(i,1,f);0===u.negative&&(n=u,a&&(a.words[f]=1));for(var d=f-1;d>=0;d--){var h=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),f=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),d=e.clone();!e.isZero();){for(var h=0,l=1;!(e.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(u),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var b=0,p=1;!(r.words[0]&p)&&b<26;++b,p<<=1);if(b>0)for(r.iushrn(b);b-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(u),f.isub(d)),a.iushrn(1),f.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(f)):(r.isub(e),a.isub(i),f.isub(s))}return{a,b:f,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),f=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,u=1;!(e.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);for(var d=0,h=1;!(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(f),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new _(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(w,y),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,y),i(A,y),i(E,y),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return m[t]=e,e},_.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),f=a.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,c).cmp(f);)u.redIAdd(f);for(var d=this.pow(u,i),h=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),b=s;0!==l.cmp(a);){for(var p=l,g=0;0!==p.cmp(a);g++)p=p.redSqr();n(g<b);var m=this.pow(d,new o(1).iushln(b-g-1));h=h.redMul(m),d=m.redSqr(),l=l.redMul(d),b=g}return h},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,f=e.bitLength()%26;for(0===f&&(f=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],u=f-1;u>=0;u--){var d=c>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===n&&0===u)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}f=26}return i},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,_),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},7048:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(3553);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},9216:(t,e,r)=>{const n=r(7403);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7639:(t,e,r)=>{"use strict";var n=r(9216);t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=Uint8Array.from(e),i=t(r),o=r.length+4,s=new Uint8Array(o);return s.set(r,0),s.set(i.subarray(0,4),r.length),n.encode(s,o)},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},9848:(t,e,r)=>{"use strict";var{sha256:n}=r(9688),i=r(7639);t.exports=i((function(t){return n(n(t))}))},1048:(t,e,r)=>{"use strict";var n=r(7991),i=r(9318),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=f,e.IS=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|p(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){var e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return l(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return l(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);var i=function(t){if(f.isBuffer(t)){var e=0|b(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return u(t),a(t<0?0:0|b(t))}function h(t){for(var e=t.length<0?0:0|b(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function b(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function p(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(t).length;default:if(i)return n?-1:C(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){var o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===f)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var d=!0,h=0;h<f;h++)if(c(t,o+h)!==c(e,h)){d=!1;break}if(d)return o}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(Z(a))return s;t[r+s]=a}return s}function A(t,e,r,n){return F(C(e,t.length-r),t,r,n)}function E(t,e,r,n){return F(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return F(k(e),t,r,n)}function S(t,e,r,n){return F(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,f,c=t[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&c)<<6|63&o)>127&&(u=f);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(f=(15&c)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(u=f)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return d(t)},f.allocUnsafeSlow=function(t){return d(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(K(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=f.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(K(o,Uint8Array))i+o.length>n.length?f.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(K(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=t.slice(e,r),d=0;d<a;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=G[t[o]];return i}function L(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||x(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||x(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=f.isBuffer(t)?t:f.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var D=/[^+/0-9A-Za-z-_]/g;function C(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function k(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}var G=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},3360:(t,e,r)=>{"use strict";var n=e;n.version=r(183).rE,n.utils=r(1874),n.rand=r(7048),n.curve=r(7131),n.curves=r(6443),n.ec=r(5064),n.eddsa=r(4807)},5174:(t,e,r)=>{"use strict";var n=r(2823),i=r(1874),o=i.getNAF,s=i.getJSF,a=i.assert;function f(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,f,c=[];for(s=0;s<n.length;s+=r.step){f=0;for(var u=s+r.step-1;u>=s;u--)f=(f<<1)+n[u];c.push(f)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<c.length;s++)(f=c[s])===l?h=h.mixedAdd(r.points[s]):f===-l&&(h=h.mixedAdd(r.points[s].neg()));d=d.add(h)}return d.toP()},f.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r,this._bitLength),f=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var u=0;c>=0&&0===s[c];c--)u++;if(c>=0&&u++,f=f.dblp(u),c<0)break;var d=s[c];a(0!==d),f="affine"===t.type?d>0?f.mixedAdd(i[d-1>>1]):f.mixedAdd(i[-d-1>>1].neg()):d>0?f.add(i[d-1>>1]):f.add(i[-d-1>>1].neg())}return"affine"===t.type?f.toP():f},f.prototype._wnafMulAdd=function(t,e,r,n,i){var a,f,c,u=this._wnafT1,d=this._wnafT2,h=this._wnafT3,l=0;for(a=0;a<n;a++){var b=(c=e[a])._getNAFPoints(t);u[a]=b.wnd,d[a]=b.points}for(a=n-1;a>=1;a-=2){var p=a-1,g=a;if(1===u[p]&&1===u[g]){var m=[e[p],null,null,e[g]];0===e[p].y.cmp(e[g].y)?(m[1]=e[p].add(e[g]),m[2]=e[p].toJ().mixedAdd(e[g].neg())):0===e[p].y.cmp(e[g].y.redNeg())?(m[1]=e[p].toJ().mixedAdd(e[g]),m[2]=e[p].add(e[g].neg())):(m[1]=e[p].toJ().mixedAdd(e[g]),m[2]=e[p].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],w=s(r[p],r[g]);for(l=Math.max(w[0].length,l),h[p]=new Array(l),h[g]=new Array(l),f=0;f<l;f++){var v=0|w[0][f],A=0|w[1][f];h[p][f]=y[3*(v+1)+(A+1)],h[g][f]=0,d[p]=m}}else h[p]=o(r[p],u[p],this._bitLength),h[g]=o(r[g],u[g],this._bitLength),l=Math.max(h[p].length,l),l=Math.max(h[g].length,l)}var E=this.jpoint(null,null,null),_=this._wnafT4;for(a=l;a>=0;a--){for(var S=0;a>=0;){var R=!0;for(f=0;f<n;f++)_[f]=0|h[f][a],0!==_[f]&&(R=!1);if(!R)break;S++,a--}if(a>=0&&S++,E=E.dblp(S),a<0)break;for(f=0;f<n;f++){var I=_[f];0!==I&&(I>0?c=d[f][I-1>>1]:I<0&&(c=d[f][-I-1>>1].neg()),E="affine"===c.type?E.mixedAdd(c):E.add(c))}}for(a=0;a<n;a++)d[a]=null;return i?E:E.toP()},f.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},1547:(t,e,r)=>{"use strict";var n=r(1874),i=r(2823),o=r(5615),s=r(5174),a=n.assert;function f(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,r,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(f,s),t.exports=f,f.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},f.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},f.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},f.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var f=a.fromRed().isOdd();return(e&&!f||!e&&f)&&(a=a.redNeg()),this.point(t,a)},f.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},f.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),f.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},f.prototype.point=function(t,e,r,n){return new c(this,t,e,r,n)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),f=i.redMul(s),c=o.redMul(a),u=i.redMul(a),d=s.redMul(o);return this.curve.point(f,c,d,u)},c.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),f=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(f);this.zOne?(t=s.redSub(a).redSub(f).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(f)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),t=s.redSub(a).redISub(f).redMul(o),e=c.redMul(n.redSub(f)),r=c.redMul(o))}else n=a.redAdd(f),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(f)),r=n.redMul(o);return this.curve.point(t,e,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),f=r.redAdd(e),c=o.redMul(s),u=a.redMul(f),d=o.redMul(f),h=s.redMul(a);return this.curve.point(c,u,h,d)},c.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),f=i.redSub(a),c=i.redAdd(a),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),d=n.redMul(f).redMul(u);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=f.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(f).redMul(c)),this.curve.point(d,e,r)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},c.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},7131:(t,e,r)=>{"use strict";var n=e;n.base=r(5174),n.short=r(277),n.mont=r(3245),n.edwards=r(1547)},3245:(t,e,r)=>{"use strict";var n=r(2823),i=r(5615),o=r(5174),s=r(1874);function a(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function f(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(f,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new f(this,t,e)},a.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},f.prototype.precompute=function(){},f.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},f.fromJSON=function(t,e){return new f(t,e[0],e[1]||t.one)},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},f.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},f.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),f=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,f)},f.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},f.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},f.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},277:(t,e,r)=>{"use strict";var n=r(1874),i=r(2823),o=r(5615),s=r(5174),a=n.assert;function f(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,r,n){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(t,e,r,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(f,s),t.exports=f,f.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},f.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},f.prototype._getEndoBasis=function(t){for(var e,r,n,o,s,a,f,c,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,l=this.n.clone(),b=new i(1),p=new i(0),g=new i(0),m=new i(1),y=0;0!==h.cmpn(0);){var w=l.div(h);c=l.sub(w.mul(h)),u=g.sub(w.mul(b));var v=m.sub(w.mul(p));if(!n&&c.cmp(d)<0)e=f.neg(),r=b,n=c.neg(),o=u;else if(n&&2==++y)break;f=c,l=h,h=c,g=b,b=u,m=p,p=v}s=c.neg(),a=u;var A=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(A)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},f.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),f=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:f.add(c).neg()}},f.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},f.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},f.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],f=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),n[2*o]=a,n[2*o+1]=f,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return c},o(c,s.BasePoint),f.prototype.point=function(t,e,r){return new c(this,t,e,r)},f.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,s.BasePoint),f.prototype.jpoint=function(t,e,r){return new u(this,t,e,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=o.redSub(s);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),d=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(d).redISub(d),l=f.redMul(d.redISub(h)).redISub(o.redMul(u)),b=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,l,b)},u.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),u=r.redMul(f),d=a.redSqr().redIAdd(c).redISub(u).redISub(u),h=a.redMul(u.redISub(d)).redISub(i.redMul(c)),l=this.z.redMul(s);return this.curve.jpoint(d,h,l)},u.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,f=a.redSqr().redSqr(),c=s.redAdd(s);for(e=0;e<t;e++){var u=o.redSqr(),d=c.redSqr(),h=d.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(f)),b=o.redMul(d),p=l.redSqr().redISub(b.redAdd(b)),g=b.redISub(p),m=l.redMul(g);m=m.redIAdd(m).redISub(h);var y=c.redMul(a);e+1<t&&(f=f.redMul(h)),o=p,a=y,c=m}return this.curve.jpoint(o,c.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=f,e=a.redMul(s.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(u).redISub(h);l=l.redIAdd(l);var b=u.redAdd(u).redIAdd(u),p=b.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),t=p.redISub(l).redISub(l),e=b.redMul(l.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},u.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(s).redISub(s);t=f;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var b=h.redIAdd(h),p=(b=b.redIAdd(b)).redAdd(b);t=l.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=l.redMul(b.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},u.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),f=e.redAdd(e),c=(f=f.redIAdd(f)).redMul(s),u=a.redSqr().redISub(c.redAdd(c)),d=c.redISub(u),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=a.redMul(d).redISub(h),b=r.redAdd(r).redMul(n);return this.curve.jpoint(u,l,b)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(f),u=e.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(a).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(c.redMul(f.redISub(c)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,h,l)},u.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},u.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6443:(t,e,r)=>{"use strict";var n,i=e,o=r(9499),s=r(7131),a=r(1874).assert;function f(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new f(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=f,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(3986)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},5064:(t,e,r)=>{"use strict";var n=r(2823),i=r(4742),o=r(1874),s=r(6443),a=r(7048),f=o.assert,c=r(7531),u=r(7782);function d(t){if(!(this instanceof d))return new d(t);"string"==typeof t&&(f(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=d,d.prototype.keyPair=function(t){return new c(this,t)},d.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},d.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},d.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(t,e,r){var i;if(n.isBN(t)||"number"==typeof t)i=(t=new n(t,16)).byteLength();else if("object"==typeof t)i=t.length,t=new n(t,16);else{var o=t.toString();i=o.length+1>>>1,t=new n(o,16)}"number"!=typeof r&&(r=8*i);var s=r-this.n.bitLength();return s>0&&(t=t.ushrn(s)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},d.prototype.sign=function(t,e,r,o){if("object"==typeof r&&(o=r,r=null),o||(o={}),"string"!=typeof t&&"number"!=typeof t&&!n.isBN(t)){f("object"==typeof t&&t&&"number"==typeof t.length,"Expected message to be an array-like, a hex string, or a BN instance"),f(t.length>>>0===t.length);for(var s=0;s<t.length;s++)f((255&t[s])===t[s])}e=this.keyFromPrivate(e,r),t=this._truncateToN(t,!1,o.msgBitLength),f(!t.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),c=e.getPrivate().toArray("be",a),d=t.toArray("be",a);f(new n(d).eq(t),"Can not sign message");for(var h=new i({hash:this.hash,entropy:c,nonce:d,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),b=0;;b++){var p=o.k?o.k(b):new n(h.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(l)>=0)){var g=this.g.mul(p);if(!g.isInfinity()){var m=g.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var w=p.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t));if(0!==(w=w.umod(this.n)).cmpn(0)){var v=(g.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return o.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),v^=1),new u({r:y,s:w,recoveryParam:v})}}}}}},d.prototype.verify=function(t,e,r,n,i){i||(i={}),t=this._truncateToN(t,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var o=(e=new u(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,f=s.invm(this.n),c=f.mul(t).umod(this.n),d=f.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),d)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(t,e,r,i){f((3&r)===r,"The recovery param is more than two bits"),e=new u(e,i);var o=this.n,s=new n(t),a=e.r,c=e.s,d=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var l=e.r.invm(o),b=o.sub(s).mul(l).umod(o),p=c.mul(l).umod(o);return this.g.mulAdd(b,a,p)},d.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new u(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},7531:(t,e,r)=>{"use strict";var n=r(2823),i=r(1874).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e,r){return this.ec.verify(t,e,this,void 0,r)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7782:(t,e,r)=>{"use strict";var n=r(2823),i=r(1874),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function f(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===t[e.place])return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function c(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var o=f(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var s=f(t,r);if(!1===s)return!1;if(128&t[r.place])return!1;var c=t.slice(r.place,s+r.place);if(r.place+=s,2!==t[r.place++])return!1;var u=f(t,r);if(!1===u)return!1;if(t.length!==u+r.place)return!1;if(128&t[r.place])return!1;var d=t.slice(r.place,u+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(c),this.s=new n(d),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=c(e),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];u(n,e.length),(n=n.concat(e)).push(2),u(n,r.length);var o=n.concat(r),s=[48];return u(s,o.length),s=s.concat(o),i.encode(s,t)}},4807:(t,e,r)=>{"use strict";var n=r(9499),i=r(6443),o=r(1874),s=o.assert,a=o.parseBytes,f=r(4672),c=r(8401);function u(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=u,u.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),f=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:o})},u.prototype.verify=function(t,e,r){if(t=a(t),(e=this.makeSignature(e)).S().gte(e.eddsa.curve.n)||e.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return f.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return f.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=!!(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return o.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}},4672:(t,e,r)=>{"use strict";var n=r(1874),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},8401:(t,e,r)=>{"use strict";var n=r(2823),i=r(1874),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function f(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(o(e.length===2*t.encodingLength,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(f,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(f,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(f,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(f,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=f},3986:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},1874:(t,e,r)=>{"use strict";var n=e,i=r(2823),o=r(7784),s=r(9042);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e,r){var n,i=new Array(Math.max(t.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<e+1,s=t.clone();for(n=0;n<i.length;n++){var a,f=s.andln(o-1);s.isOdd()?(a=f>(o>>1)-1?(o>>1)-f:f,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,f=t.andln(3)+i&3,c=e.andln(3)+o&3;3===f&&(f=-1),3===c&&(c=-1),s=1&f?3!=(n=t.andln(7)+i&7)&&5!==n||2!==c?f:-f:0,r[0].push(s),a=1&c?3!=(n=e.andln(7)+o&7)&&5!==n||2!==f?c:-c:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},3737:function(t,e,r){var n=r(1048).hp;!function(t){"use strict";function e(t){for(var e=0,r=Math.min(65536,t.length+1),n=new Uint16Array(r),i=[],o=0;;){var s=e<t.length;if(!s||o>=r-1){var a=n.subarray(0,o);if(i.push(String.fromCharCode.apply(null,a)),!s)return i.join("");t=t.subarray(e),e=0,o=0}var f=t[e++];if(128&f){if(192==(224&f)){var c=63&t[e++];n[o++]=(31&f)<<6|c}else if(224==(240&f)){c=63&t[e++];var u=63&t[e++];n[o++]=(31&f)<<12|c<<6|u}else if(240==(248&f)){var d=(7&f)<<18|(c=63&t[e++])<<12|(u=63&t[e++])<<6|63&t[e++];d>65535&&(d-=65536,n[o++]=d>>>10&1023|55296,d=56320|1023&d),n[o++]=d}}else n[o++]=f}}var r="Failed to ",i=function(t,e,n){if(t)throw new Error("".concat(r).concat(e,": the '").concat(n,"' option is unsupported."))},o="function"==typeof n&&n.from,s=o?function(t){return n.from(t)}:function(t){for(var e=0,r=t.length,n=0,i=Math.max(32,r+(r>>>1)+7),o=new Uint8Array(i>>>3<<3);e<r;){var s=t.charCodeAt(e++);if(s>=55296&&s<=56319){if(e<r){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(s>=55296&&s<=56319)continue}if(n+4>o.length){i+=8,i=(i*=1+e/t.length*2)>>>3<<3;var f=new Uint8Array(i);f.set(o),o=f}if(4294967168&s){if(4294965248&s)if(4294901760&s){if(4292870144&s)continue;o[n++]=s>>>18&7|240,o[n++]=s>>>12&63|128,o[n++]=s>>>6&63|128}else o[n++]=s>>>12&15|224,o[n++]=s>>>6&63|128;else o[n++]=s>>>6&31|192;o[n++]=63&s|128}else o[n++]=s}return o.slice?o.slice(0,n):o.subarray(0,n)};function a(){this.encoding="utf-8"}a.prototype.encode=function(t,e){return i(e&&e.stream,"encode","stream"),s(t)};var f=!o&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,c=["utf-8","utf8","unicode-1-1-utf-8"],u=e;o?u=function(t,e){return(t instanceof n?t:n.from(t.buffer,t.byteOffset,t.byteLength)).toString(e)}:f&&(u=function(t){try{return function(t){var e;try{var r=new Blob([t],{type:"text/plain;charset=UTF-8"});e=URL.createObjectURL(r);var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}finally{e&&URL.revokeObjectURL(e)}}(t)}catch(r){return e(t)}});var d="construct 'TextDecoder'",h="".concat(r," ").concat(d,": the ");function l(t,e){if(i(e&&e.fatal,d,"fatal"),t=t||"utf-8",!(o?n.isEncoding(t):-1!==c.indexOf(t.toLowerCase())))throw new RangeError("".concat(h," encoding label provided ('").concat(t,"') is invalid."));this.encoding=t,this.fatal=!1,this.ignoreBOM=!1}l.prototype.decode=function(t,e){var r;return i(e&&e.stream,"decode","stream"),r=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),u(r,this.encoding)},t.TextEncoder=t.TextEncoder||a,t.TextDecoder=t.TextDecoder||l}("undefined"!=typeof window?window:void 0!==r.g?r.g:this)},9499:(t,e,r)=>{var n=e;n.utils=r(461),n.common=r(2191),n.sha=r(5746),n.ripemd=r(4169),n.hmac=r(1825),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},2191:(t,e,r)=>{"use strict";var n=r(461),i=r(7784);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},1825:(t,e,r)=>{"use strict";var n=r(461),i=r(7784);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},4169:(t,e,r)=>{"use strict";var n=r(461),i=r(2191),o=n.rotl32,s=n.sum32,a=n.sum32_3,f=n.sum32_4,c=i.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(u,c),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],u=this.h[4],y=r,w=n,v=i,A=c,E=u,_=0;_<80;_++){var S=s(o(f(r,d(_,n,i,c),t[b[_]+e],h(_)),g[_]),u);r=u,u=c,c=o(i,10),i=n,n=S,S=s(o(f(y,d(79-_,w,v,A),t[p[_]+e],l(_)),m[_]),E),y=E,E=A,A=o(v,10),v=w,w=S}S=a(this.h[1],i,A),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],n,v),this.h[0]=S},u.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5746:(t,e,r)=>{"use strict";e.sha1=r(2986),e.sha224=r(5393),e.sha256=r(536),e.sha384=r(2348),e.sha512=r(2157)},2986:(t,e,r)=>{"use strict";var n=r(461),i=r(2191),o=r(600),s=n.rotl32,a=n.sum32,f=n.sum32_5,c=o.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,u),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],u=this.h[2],h=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var b=~~(n/20),p=f(s(i,5),c(b,o,u,h),l,r[n],d[b]);l=h,h=u,u=s(o,30),o=i,i=p}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],l)},h.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},5393:(t,e,r)=>{"use strict";var n=r(461),i=r(536);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},536:(t,e,r)=>{"use strict";var n=r(461),i=r(2191),o=r(600),s=r(7784),a=n.sum32,f=n.sum32_4,c=n.sum32_5,u=o.ch32,d=o.maj32,h=o.s0_256,l=o.s1_256,b=o.g0_256,p=o.g1_256,g=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=f(p(r[n-2]),r[n-7],b(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],w=this.h[5],v=this.h[6],A=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=c(A,l(y),u(y,w,v),this.k[n],r[n]),_=a(h(i),d(i,o,g));A=v,v=w,w=y,y=a(m,E),m=g,g=o,o=i,i=a(E,_)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],A)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},2348:(t,e,r)=>{"use strict";var n=r(461),i=r(2157);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},2157:(t,e,r)=>{"use strict";var n=r(461),i=r(2191),o=r(7784),s=n.rotr64_hi,a=n.rotr64_lo,f=n.shr64_hi,c=n.shr64_lo,u=n.sum64,d=n.sum64_hi,h=n.sum64_lo,l=n.sum64_4_hi,b=n.sum64_4_lo,p=n.sum64_5_hi,g=n.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function v(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function A(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function E(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function _(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function S(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function R(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,1)^s(t,e,8)^f(t,e,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function M(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(w,m),t.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=(g=r[n-4],m=r[n-3],y=void 0,(y=s(g,m,19)^s(m,g,29)^f(g,m,6))<0&&(y+=4294967296),y),o=M(r[n-4],r[n-3]),a=r[n-14],c=r[n-13],u=T(r[n-30],r[n-29]),d=O(r[n-30],r[n-29]),h=r[n-32],p=r[n-31];r[n]=l(i,o,a,c,u,d,h,p),r[n+1]=b(i,o,a,c,u,d,h,p)}var g,m,y},w.prototype._update=function(t,e){this._prepareBlock(t,e);var r,n,i,a=this.W,f=this.h[0],c=this.h[1],l=this.h[2],b=this.h[3],m=this.h[4],y=this.h[5],w=this.h[6],T=this.h[7],O=this.h[8],M=this.h[9],P=this.h[10],L=this.h[11],B=this.h[12],x=this.h[13],N=this.h[14],U=this.h[15];o(this.k.length===a.length);for(var H=0;H<a.length;H+=2){var D=N,C=U,k=(i=void 0,(i=s(r=O,n=M,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),F=I(O,M),K=v(O,0,P,0,B),Z=A(0,M,0,L,0,x),G=this.k[H],q=this.k[H+1],z=a[H],V=a[H+1],j=p(D,C,k,F,K,Z,G,q,z,V),$=g(D,C,k,F,K,Z,G,q,z,V);D=S(f,c),C=R(f,c),k=E(f,0,l,0,m),F=_(0,c,0,b,0,y);var Y=d(D,C,k,F),X=h(D,C,k,F);N=B,U=x,B=P,x=L,P=O,L=M,O=d(w,T,j,$),M=h(T,T,j,$),w=m,T=y,m=l,y=b,l=f,b=c,f=d(j,$,Y,X),c=h(j,$,Y,X)}u(this.h,0,f,c),u(this.h,2,l,b),u(this.h,4,m,y),u(this.h,6,w,T),u(this.h,8,O,M),u(this.h,10,P,L),u(this.h,12,B,x),u(this.h,14,N,U)},w.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},600:(t,e,r)=>{"use strict";var n=r(461).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},461:(t,e,r)=>{"use strict";var n=r(7784),i=r(5615);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function f(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=f(i.toString(16))}return r},e.zero2=a,e.zero8=f,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,f=e;a<s.length;a++,f+=4){var c;c="big"===i?t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[a]=c>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var f=0,c=e;return f+=(c=c+n>>>0)<e?1:0,f+=(c=c+o>>>0)<o?1:0,t+r+i+s+(f+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,f,c){var u=0,d=e;return u+=(d=d+n>>>0)<e?1:0,u+=(d=d+o>>>0)<o?1:0,u+=(d=d+a>>>0)<a?1:0,t+r+i+s+f+(u+=(d=d+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,f,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},4742:(t,e,r)=>{"use strict";var n=r(9499),i=r(9042),o=r(7784);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},9318:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,c=f>>1,u=-7,d=r?i-1:0,h=r?-1:1,l=t[e+d];for(d+=h,o=l&(1<<-u)-1,l>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===f)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=c}return(l?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,f,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,b=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+d>=1?h/f:h*Math.pow(2,1-d))*f>=2&&(s++,f/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*f-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[r+l]=255&a,l+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+l]=255&s,l+=b,s/=256,c-=8);t[r+l-b]|=128*p}},5615:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},7784:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},9042:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},2100:(t,e,r)=>{var n=r(1048).hp;t.exports=function(t){return ArrayBuffer.isView(t)?n.from(t.buffer,t.byteOffset,t.byteLength):n.from(t)}},5765:(t,e,r)=>{"use strict";const n=r(7991),i=r(9318),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.IS=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|p(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return l(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return l(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);const i=function(t){if(f.isBuffer(t)){const e=0|b(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return u(t),a(t<0?0:0|b(t))}function h(t){const e=t.length<0?0:0|b(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function b(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function p(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===f)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){let r=!0;for(let n=0;n<f;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(X(n))return s;t[r+s]=n}return s}function A(t,e,r,n){return $(V(e,t.length-r),t,r,n)}function E(t,e,r,n){return $(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return $(j(e),t,r,n)}function S(t,e,r,n){return $(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,f;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(f=(31&e)<<6|63&r,f>127&&(o=f));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(f=(15&e)<<12|(63&r)<<6|63&n,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(f=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return d(t)},f.allocUnsafeSlow=function(t){return d(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(Y(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=f.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),u=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==u[t]){o=c[t],s=u[t];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function O(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=W[t[n]];return i}function L(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){Z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function U(t,e,r,n,i){Z(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function H(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,o){return e=+e,r>>>=0,o||H(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function C(t,e,r,n,o){return e=+e,r>>>=0,o||H(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),f.prototype.readBigInt64BE=J((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||x(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||x(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=J((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=J((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);x(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);x(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=J((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=J((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return C(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return C(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=f.isBuffer(t)?t:f.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const k={};function F(t,e,r){k[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function K(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Z(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new k.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,o)}function G(t,e){if("number"!=typeof t)throw new k.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw G(t,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function V(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const W=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},5423:()=>{},8379:()=>{},3553:()=>{},183:t=>{"use strict";t.exports={rE:"6.6.1"}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};(()=>{"use strict";r.r(n),r.d(n,{CODEC:()=>i,LocalForger:()=>ko,ProtocolsHash:()=>No,Uint8ArrayConsumer:()=>fn,VERSION:()=>Ho,decoders:()=>pi,encoders:()=>Po,getCodec:()=>Co,localForger:()=>Fo,opMapping:()=>o,opMappingReverse:()=>s}),r(3737);const t=t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""),e=(t,e=8)=>t.toString(16).padStart(e,"0");var i;!function(t){t.SECRET="secret",t.RAW="raw",t.TZ1="tz1",t.BRANCH="branch",t.ZARITH="zarith",t.PUBLIC_KEY="public_key",t.PKH="pkh",t.PKH_ARR="pkhArr",t.DELEGATE="delegate",t.SCRIPT="script",t.BALLOT_STATEMENT="ballotStmt",t.PROPOSAL="proposal",t.PROPOSAL_ARR="proposalArr",t.INT32="int32",t.INT16="int16",t.PARAMETERS="parameters",t.ADDRESS="address",t.SMART_CONTRACT_ADDRESS="smart_contract_address",t.SMART_ROLLUP_ADDRESS="smart_rollup_address",t.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",t.VALUE="value",t.PADDED_BYTES="padded_bytes",t.SMART_ROLLUP_MESSAGE="smart_rollup_message",t.MANAGER="manager",t.BLOCK_PAYLOAD_HASH="blockPayloadHash",t.ENTRYPOINT="entrypoint",t.OPERATION="operation",t.OP_ACTIVATE_ACCOUNT="activate_account",t.OP_DELEGATION="delegation",t.OP_TRANSACTION="transaction",t.OP_ORIGINATION="origination",t.OP_BALLOT="ballot",t.OP_FAILING_NOOP="failing_noop",t.OP_ATTESTATION="attestation",t.OP_ATTESTATION_WITH_DAL="attestation_with_dal",t.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",t.OP_REVEAL="reveal",t.OP_PROPOSALS="proposals",t.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",t.OP_TRANSFER_TICKET="transfer_ticket",t.BURN_LIMIT="burn_limit",t.OP_INCREASE_PAID_STORAGE="increase_paid_storage",t.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",t.OP_UPDATE_COMPANION_KEY="update_companion_key",t.SIGNATURE_PROOF="signature_proof",t.OP_DRAIN_DELEGATE="drain_delegate",t.DEPOSITS_LIMIT="deposits_limit",t.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",t.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",t.PVM_KIND="pvm_kind",t.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",t.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",t.OP_DAL_PUBLISH_COMMITMENT="dal_publish_commitment",t.SLOT_HEADER="slot_header"}(i||(i={}));const o={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT","9d":"Ticket","9e":"IS_IMPLICIT_ACCOUNT"},s=(()=>{const t={};return Object.keys(o).forEach((e=>{t[o[e]]=e})),t})(),a={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",23:"attestation_with_dal",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",115:"update_companion_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",230:"dal_publish_commitment",17:"failing_noop"},f=(()=>{const t={};return Object.keys(a).forEach((r=>{const n="string"==typeof r?parseInt(r,10):r;t[a[n]]=e(n,2)})),t})(),c={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},u=(()=>{const t={};return Object.keys(c).forEach((e=>{t[c[e]]=e})),t})();r(5765),r(1703);var d=r(9848),h=r.n(d),l=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,b=Math.ceil,p=Math.floor,g="[BigNumber Error] ",m=g+"Number primitive has more than 15 significant digits: ",y=1e14,w=14,v=9007199254740991,A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],E=1e7,_=1e9;function S(t){var e=0|t;return t>0||t===e?e:e-1}function R(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=w-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function I(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,f=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=f==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return f>c^r?1:-1;for(a=(f=i.length)<(c=o.length)?f:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return f==c?0:f>c^r?1:-1}function T(t,e,r,n){if(t<e||t>r||t!==p(t))throw Error(g+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function O(t){var e=t.c.length-1;return S(t.e/w)==e&&t.c[e]%2!=0}function M(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function P(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var L=function t(e){var r,n,i,o,s,a,f,c,u,d,h=q.prototype={constructor:q,toString:null,valueOf:null},L=new q(1),B=20,x=4,N=-7,U=21,H=-1e7,D=1e7,C=!1,k=1,F=0,K={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Z="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function q(t,e){var r,o,s,a,f,c,u,d,h=this;if(!(h instanceof q))return new q(t,e);if(null==e){if(t&&!0===t._isBigNumber)return h.s=t.s,void(!t.c||t.e>D?h.c=h.e=null:t.e<H?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice()));if((c="number"==typeof t)&&0*t==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,f=t;f>=10;f/=10,a++);return void(a>D?h.c=h.e=null:(h.e=a,h.c=[t]))}d=String(t)}else{if(!l.test(d=String(t)))return i(h,d,c);h.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(a=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(a<0&&(a=f),a+=+d.slice(f+1),d=d.substring(0,f)):a<0&&(a=d.length)}else{if(T(e,2,Z.length,"Base"),10==e&&G)return $(h=new q(t),B+h.e+1,x);if(d=String(t),c="number"==typeof t){if(0*t!=0)return i(h,d,c,e);if(h.s=1/t<0?(d=d.slice(1),-1):1,q.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(m+t)}else h.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=Z.slice(0,e),a=f=0,u=d.length;f<u;f++)if(r.indexOf(o=d.charAt(f))<0){if("."==o){if(f>a){a=u;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,f=-1,a=0;continue}return i(h,String(t),c,e)}c=!1,(a=(d=n(d,e,10,h.s)).indexOf("."))>-1?d=d.replace(".",""):a=d.length}for(f=0;48===d.charCodeAt(f);f++);for(u=d.length;48===d.charCodeAt(--u););if(d=d.slice(f,++u)){if(u-=f,c&&q.DEBUG&&u>15&&(t>v||t!==p(t)))throw Error(m+h.s*t);if((a=a-f-1)>D)h.c=h.e=null;else if(a<H)h.c=[h.e=0];else{if(h.e=a,h.c=[],f=(a+1)%w,a<0&&(f+=w),f<u){for(f&&h.c.push(+d.slice(0,f)),u-=w;f<u;)h.c.push(+d.slice(f,f+=w));f=w-(d=d.slice(f)).length}else f-=u;for(;f--;d+="0");h.c.push(+d)}}else h.c=[h.e=0]}function z(t,e,r,n){var i,o,s,a,f;if(null==r?r=x:T(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)f=R(t.c),f=1==n||2==n&&(s<=N||s>=U)?M(f,s):P(f,s,"0");else if(o=(t=$(new q(t),e,r)).e,a=(f=R(t.c)).length,1==n||2==n&&(e<=o||o<=N)){for(;a<e;f+="0",a++);f=M(f,o)}else if(e-=s,f=P(f,o,"0"),o+1>a){if(--e>0)for(f+=".";e--;f+="0");}else if((e+=o-a)>0)for(o+1==a&&(f+=".");e--;f+="0");return t.s<0&&i?"-"+f:f}function V(t,e){for(var r,n,i=1,o=new q(t[0]);i<t.length;i++)(!(n=new q(t[i])).s||(r=I(o,n))===e||0===r&&o.s===e)&&(o=n);return o}function j(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*w-1)>D?t.c=t.e=null:r<H?t.c=[t.e=0]:(t.e=r,t.c=e),t}function $(t,e,r,n){var i,o,s,a,f,c,u,d=t.c,h=A;if(d){t:{for(i=1,a=d[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=w,s=e,f=d[c=0],u=p(f/h[i-s-1]%10);else if((c=b((o+1)/w))>=d.length){if(!n)break t;for(;d.length<=c;d.push(0));f=u=0,i=1,s=(o%=w)-w+1}else{for(f=a=d[c],i=1;a>=10;a/=10,i++);u=(s=(o%=w)-w+i)<0?0:p(f/h[i-s-1]%10)}if(n=n||e<0||null!=d[c+1]||(s<0?f:f%h[i-s-1]),n=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?s>0?f/h[i-s]:0:d[c-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,n?(e-=t.e+1,d[0]=h[(w-e%w)%w],t.e=-e||0):d[0]=t.e=0,t;if(0==o?(d.length=c,a=1,c--):(d.length=c+1,a=h[w-o],d[c]=s>0?p(f/h[i-s]%h[s])*a:0),n)for(;;){if(0==c){for(o=1,s=d[0];s>=10;s/=10,o++);for(s=d[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,d[0]==y&&(d[0]=1));break}if(d[c]+=a,d[c]!=y)break;d[c--]=0,a=1}for(o=d.length;0===d[--o];d.pop());}t.e>D?t.c=t.e=null:t.e<H&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=R(t.c),e=r<=N||r>=U?M(e,r):P(e,r,"0"),t.s<0?"-"+e:e)}return q.clone=t,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(g+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(T(r=t[e],0,_,e),B=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(T(r=t[e],0,8,e),x=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(T(r[0],-_,0,e),T(r[1],0,_,e),N=r[0],U=r[1]):(T(r,-_,_,e),N=-(U=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)T(r[0],-_,-1,e),T(r[1],1,_,e),H=r[0],D=r[1];else{if(T(r,-_,_,e),!r)throw Error(g+e+" cannot be zero: "+r);H=-(D=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(g+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw C=!r,Error(g+"crypto unavailable");C=r}else C=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(T(r=t[e],0,9,e),k=r),t.hasOwnProperty(e="POW_PRECISION")&&(T(r=t[e],0,_,e),F=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(g+e+" not an object: "+r);K=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(g+e+" invalid: "+r);G="0123456789"==r.slice(0,10),Z=r}}return{DECIMAL_PLACES:B,ROUNDING_MODE:x,EXPONENTIAL_AT:[N,U],RANGE:[H,D],CRYPTO:C,MODULO_MODE:k,POW_PRECISION:F,FORMAT:K,ALPHABET:Z}},q.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!q.DEBUG)return!0;var e,r,n=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-_&&i<=_&&i===p(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%w)<1&&(e+=w),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=y||r!==p(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(g+"Invalid BigNumber: "+t)},q.maximum=q.max=function(){return V(arguments,-1)},q.minimum=q.min=function(){return V(arguments,1)},q.random=(o=9007199254740992,s=Math.random()*o&2097151?function(){return p(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,o,a=0,f=[],c=new q(L);if(null==t?t=B:T(t,0,_),i=b(t/w),C)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(o=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(f.push(o%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw C=!1,Error(g+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(o=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(f.push(o%1e14),a+=7);a=i/7}if(!C)for(;a<i;)(o=s())<9e15&&(f[a++]=o%1e14);for(i=f[--a],t%=w,i&&t&&(o=A[w-t],f[a]=p(i/o)*o);0===f[a];f.pop(),a--);if(a<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=w);for(a=1,o=f[0];o>=10;o/=10,a++);a<w&&(n-=w-a)}return c.e=n,c.c=f,c}),q.sum=function(){for(var t=1,e=arguments,r=new q(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,o,s=[0],a=0,f=t.length;a<f;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var f,c,u,d,h,l,b,p,g=n.indexOf("."),m=B,y=x;for(g>=0&&(d=F,F=0,n=n.replace(".",""),l=(p=new q(i)).pow(n.length-g),F=d,p.c=e(P(R(l.c),l.e,"0"),10,o,t),p.e=p.c.length),u=d=(b=e(n,i,o,a?(f=Z,t):(f=t,Z))).length;0==b[--d];b.pop());if(!b[0])return f.charAt(0);if(g<0?--u:(l.c=b,l.e=u,l.s=s,b=(l=r(l,p,m,y,o)).c,h=l.r,u=l.e),g=b[c=u+m+1],d=o/2,h=h||c<0||null!=b[c+1],h=y<4?(null!=g||h)&&(0==y||y==(l.s<0?3:2)):g>d||g==d&&(4==y||h||6==y&&1&b[c-1]||y==(l.s<0?8:7)),c<1||!b[0])n=h?P(f.charAt(1),-m,f.charAt(0)):f.charAt(0);else{if(b.length=c,h)for(--o;++b[--c]>o;)b[c]=0,c||(++u,b=[1].concat(b));for(d=b.length;!b[--d];);for(g=0,n="";g<=d;n+=f.charAt(b[g++]));n=P(n,u,f.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,f=t.length,c=e%E,u=e/E|0;for(t=t.slice();f--;)a=((i=c*(o=t[f]%E)+(n=u*o+(s=t[f]/E|0)*c)%E*E+a)/r|0)+(n/E|0)+u*s,t[f]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var f,c,u,d,h,l,b,g,m,v,A,E,_,R,I,T,O,M=n.s==i.s?1:-1,P=n.c,L=i.c;if(!(P&&P[0]&&L&&L[0]))return new q(n.s&&i.s&&(P?!L||P[0]!=L[0]:L)?P&&0==P[0]||!L?0*M:M/0:NaN);for(m=(g=new q(M)).c=[],M=o+(c=n.e-i.e)+1,a||(a=y,c=S(n.e/w)-S(i.e/w),M=M/w|0),u=0;L[u]==(P[u]||0);u++);if(L[u]>(P[u]||0)&&c--,M<0)m.push(1),d=!0;else{for(R=P.length,T=L.length,u=0,M+=2,(h=p(a/(L[0]+1)))>1&&(L=t(L,h,a),P=t(P,h,a),T=L.length,R=P.length),_=T,A=(v=P.slice(0,T)).length;A<T;v[A++]=0);O=L.slice(),O=[0].concat(O),I=L[0],L[1]>=a/2&&I++;do{if(h=0,(f=e(L,v,T,A))<0){if(E=v[0],T!=A&&(E=E*a+(v[1]||0)),(h=p(E/I))>1)for(h>=a&&(h=a-1),b=(l=t(L,h,a)).length,A=v.length;1==e(l,v,b,A);)h--,r(l,T<b?O:L,b,a),b=l.length,f=1;else 0==h&&(f=h=1),b=(l=L.slice()).length;if(b<A&&(l=[0].concat(l)),r(v,l,A,a),A=v.length,-1==f)for(;e(L,v,T,A)<1;)h++,r(v,T<A?O:L,A,a),A=v.length}else 0===f&&(h++,v=[0]);m[u++]=h,v[0]?v[A++]=P[_]||0:(v=[P[_]],A=1)}while((_++<R||null!=v[0])&&M--);d=null!=v[0],m[0]||m.splice(0,1)}if(a==y){for(u=1,M=m[0];M>=10;M/=10,u++);$(g,o+(g.e=u+c*w-1)+1,s,d)}else g.e=c,g.r=+d;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,f=/^([^.]+)\.$/,c=/^\.([^.]+)$/,u=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(d,"");if(u.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(a,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,o=o.replace(f,"$1").replace(c,"0.$1")),e!=o))return new q(o,i);if(q.DEBUG)throw Error(g+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},h.absoluteValue=h.abs=function(){var t=new q(this);return t.s<0&&(t.s=1),t},h.comparedTo=function(t,e){return I(this,new q(t,e))},h.decimalPlaces=h.dp=function(t,e){var r,n,i,o=this;if(null!=t)return T(t,0,_),null==e?e=x:T(e,0,8),$(new q(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-S(this.e/w))*w,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(t,e){return r(this,new q(t,e),B,x)},h.dividedToIntegerBy=h.idiv=function(t,e){return r(this,new q(t,e),0,1)},h.exponentiatedBy=h.pow=function(t,e){var r,n,i,o,s,a,f,c,u=this;if((t=new q(t)).c&&!t.isInteger())throw Error(g+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new q(e)),s=t.e>14,!u.c||!u.c[0]||1==u.c[0]&&!u.e&&1==u.c.length||!t.c||!t.c[0])return c=new q(Math.pow(+Y(u),s?t.s*(2-O(t)):+Y(t))),e?c.mod(e):c;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new q(NaN);(n=!a&&u.isInteger()&&e.isInteger())&&(u=u.mod(e))}else{if(t.e>9&&(u.e>0||u.e<-1||(0==u.e?u.c[0]>1||s&&u.c[1]>=24e7:u.c[0]<8e13||s&&u.c[0]<=9999975e7)))return o=u.s<0&&O(t)?-0:0,u.e>-1&&(o=1/o),new q(a?1/o:o);F&&(o=b(F/w+2))}for(s?(r=new q(.5),a&&(t.s=1),f=O(t)):f=(i=Math.abs(+Y(t)))%2,c=new q(L);;){if(f){if(!(c=c.times(u)).c)break;o?c.c.length>o&&(c.c.length=o):n&&(c=c.mod(e))}if(i){if(0===(i=p(i/2)))break;f=i%2}else if($(t=t.times(r),t.e+1,1),t.e>14)f=O(t);else{if(0==(i=+Y(t)))break;f=i%2}u=u.times(u),o?u.c&&u.c.length>o&&(u.c.length=o):n&&(u=u.mod(e))}return n?c:(a&&(c=L.div(c)),e?c.mod(e):o?$(c,F,x,void 0):c)},h.integerValue=function(t){var e=new q(this);return null==t?t=x:T(t,0,8),$(e,e.e+1,t)},h.isEqualTo=h.eq=function(t,e){return 0===I(this,new q(t,e))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(t,e){return I(this,new q(t,e))>0},h.isGreaterThanOrEqualTo=h.gte=function(t,e){return 1===(e=I(this,new q(t,e)))||0===e},h.isInteger=function(){return!!this.c&&S(this.e/w)>this.c.length-2},h.isLessThan=h.lt=function(t,e){return I(this,new q(t,e))<0},h.isLessThanOrEqualTo=h.lte=function(t,e){return-1===(e=I(this,new q(t,e)))||0===e},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new q(t,e)).s,!a||!e)return new q(NaN);if(a!=e)return t.s=-e,s.plus(t);var f=s.e/w,c=t.e/w,u=s.c,d=t.c;if(!f||!c){if(!u||!d)return u?(t.s=-e,t):new q(d?s:NaN);if(!u[0]||!d[0])return d[0]?(t.s=-e,t):new q(u[0]?s:3==x?-0:0)}if(f=S(f),c=S(c),u=u.slice(),a=f-c){for((o=a<0)?(a=-a,i=u):(c=f,i=d),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=u.length)<(e=d.length))?a:e,a=e=0;e<n;e++)if(u[e]!=d[e]){o=u[e]<d[e];break}if(o&&(i=u,u=d,d=i,t.s=-t.s),(e=(n=d.length)-(r=u.length))>0)for(;e--;u[r++]=0);for(e=y-1;n>a;){if(u[--n]<d[n]){for(r=n;r&&!u[--r];u[r]=e);--u[r],u[n]+=y}u[n]-=d[n]}for(;0==u[0];u.splice(0,1),--c);return u[0]?j(t,u,c):(t.s=3==x?-1:1,t.c=[t.e=0],t)},h.modulo=h.mod=function(t,e){var n,i,o=this;return t=new q(t,e),!o.c||!t.s||t.c&&!t.c[0]?new q(NaN):!t.c||o.c&&!o.c[0]?new q(o):(9==k?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,k),(t=o.minus(n.times(t))).c[0]||1!=k||(t.s=o.s),t)},h.multipliedBy=h.times=function(t,e){var r,n,i,o,s,a,f,c,u,d,h,l,b,p,g,m=this,v=m.c,A=(t=new q(t,e)).c;if(!(v&&A&&v[0]&&A[0]))return!m.s||!t.s||v&&!v[0]&&!A||A&&!A[0]&&!v?t.c=t.e=t.s=null:(t.s*=m.s,v&&A?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=S(m.e/w)+S(t.e/w),t.s*=m.s,(f=v.length)<(d=A.length)&&(b=v,v=A,A=b,i=f,f=d,d=i),i=f+d,b=[];i--;b.push(0));for(p=y,g=E,i=d;--i>=0;){for(r=0,h=A[i]%g,l=A[i]/g|0,o=i+(s=f);o>i;)r=((c=h*(c=v[--s]%g)+(a=l*c+(u=v[s]/g|0)*h)%g*g+b[o]+r)/p|0)+(a/g|0)+l*u,b[o--]=c%p;b[o]=r}return r?++n:b.splice(0,1),j(t,b,n)},h.negated=function(){var t=new q(this);return t.s=-t.s||null,t},h.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new q(t,e)).s,!i||!e)return new q(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/w,s=t.e/w,a=n.c,f=t.c;if(!o||!s){if(!a||!f)return new q(i/0);if(!a[0]||!f[0])return f[0]?t:new q(a[0]?n:0*i)}if(o=S(o),s=S(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=f):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=f.length)<0&&(r=f,f=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+f[e]+i)/y|0,a[e]=y===a[e]?0:a[e]%y;return i&&(a=[i].concat(a),++s),j(t,a,s)},h.precision=h.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return T(t,1,_),null==e?e=x:T(e,0,8),$(new q(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*w+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},h.shiftedBy=function(t){return T(t,-9007199254740991,v),this.times("1e"+t)},h.squareRoot=h.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,f=s.s,c=s.e,u=B+4,d=new q("0.5");if(1!==f||!a||!a[0])return new q(!f||f<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(f=Math.sqrt(+Y(s)))||f==1/0?(((e=R(a)).length+c)%2==0&&(e+="0"),f=Math.sqrt(+e),c=S((c+1)/2)-(c<0||c%2),n=new q(e=f==1/0?"5e"+c:(e=f.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new q(f+""),n.c[0])for((f=(c=n.e)+u)<3&&(f=0);;)if(o=n,n=d.times(o.plus(r(s,o,u,1))),R(o.c).slice(0,f)===(e=R(n.c)).slice(0,f)){if(n.e<c&&--f,"9999"!=(e=e.slice(f-3,f+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(n,n.e+B+2,1),t=!n.times(n).eq(s));break}if(!i&&($(o,o.e+B+2,0),o.times(o).eq(s))){n=o;break}u+=4,f+=4,i=1}return $(n,n.e+B+1,x,t)},h.toExponential=function(t,e){return null!=t&&(T(t,0,_),t++),z(this,t,e,1)},h.toFixed=function(t,e){return null!=t&&(T(t,0,_),t=t+this.e+1),z(this,t,e)},h.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=K;else if("object"!=typeof r)throw Error(g+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var o,s=n.split("."),a=+r.groupSize,f=+r.secondaryGroupSize,c=r.groupSeparator||"",u=s[0],d=s[1],h=i.s<0,l=h?u.slice(1):u,b=l.length;if(f&&(o=a,a=f,f=o,b-=o),a>0&&b>0){for(o=b%a||a,u=l.substr(0,o);o<b;o+=a)u+=c+l.substr(o,a);f>0&&(u+=c+l.slice(o)),h&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((f=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},h.toFraction=function(t){var e,n,i,o,s,a,f,c,u,d,h,l,b=this,p=b.c;if(null!=t&&(!(f=new q(t)).isInteger()&&(f.c||1!==f.s)||f.lt(L)))throw Error(g+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+Y(f));if(!p)return new q(b);for(e=new q(L),u=n=new q(L),i=c=new q(L),l=R(p),s=e.e=l.length-b.e-1,e.c[0]=A[(a=s%w)<0?w+a:a],t=!t||f.comparedTo(e)>0?s>0?e:u:f,a=D,D=1/0,f=new q(l),c.c[0]=0;d=r(f,e,0,1),1!=(o=n.plus(d.times(i))).comparedTo(t);)n=i,i=o,u=c.plus(d.times(o=u)),c=o,e=f.minus(d.times(o=e)),f=o;return o=r(t.minus(n),i,0,1),c=c.plus(o.times(u)),n=n.plus(o.times(i)),c.s=u.s=b.s,h=r(u,i,s*=2,x).minus(b).abs().comparedTo(r(c,n,s,x).minus(b).abs())<1?[u,i]:[c,n],D=a,h},h.toNumber=function(){return+Y(this)},h.toPrecision=function(t,e){return null!=t&&T(t,1,_),z(this,t,e,2)},h.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=N||o>=U?M(R(r.c),o):P(R(r.c),o,"0"):10===t&&G?e=P(R((r=$(new q(r),B+o+1,x)).c),r.e,"0"):(T(t,2,Z.length,"Base"),e=n(P(R(r.c),o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},h.valueOf=h.toJSON=function(){return Y(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=e&&q.set(e),q}();const B=L;var x,N,U=r(2100),H=r.n(U);(N=x||(x={}))[N.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",N[N.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",N[N.INVALID_LENGTH=2]="INVALID_LENGTH",N[N.VALID=3]="VALID",N[N.PREFIX_NOT_ALLOWED=4]="PREFIX_NOT_ALLOWED",N[N.INVALID_ENCODING=5]="INVALID_ENCODING",N[N.OTHER=6]="OTHER";const D={[x.NO_PREFIX_MATCHED]:"unsupported Base58 prefix",[x.INVALID_CHECKSUM]:"invalid checksum",[x.INVALID_LENGTH]:"invalid length",[x.PREFIX_NOT_ALLOWED]:"Base58 prefix not allowed in this context",[x.INVALID_ENCODING]:"invalid Base58 encoding"};class C extends Error{}class k extends C{constructor(t,e,r){let n,i,o;void 0!==t&&("string"==typeof t?(o=t,void 0!==e&&("string"==typeof e?n=e:(i=e,n=void 0!==r?r:D[e]))):(i=t,n=D[t],o=n)),super(o),this.name=this.constructor.name,this.result=i,this.errorDetail=n}}class F extends C{}class K extends k{constructor(t,e){super(`Invalid address "${t}"`,e),this.address=t,this.name=this.constructor.name}}class Z extends k{constructor(t,e){super(`Invalid block hash "${t}"`,e),this.blockHash=t,this.name=this.constructor.name}}class G extends k{constructor(t,e){super(`Invalid hex string "${t}"`,e),this.hexString=t,this.name=this.constructor.name}}class q extends k{constructor(t){super("Invalid private key",t),this.name=this.constructor.name}}class z extends k{constructor(t,e){super(void 0!==t?`Invalid public key "${t}"`:"Invalid public key",e),this.publicKey=t,this.name=this.constructor.name}}class V extends k{constructor(t,e){super(`Invalid signature "${t}"`,e),this.signature=t,this.name=this.constructor.name}}class j extends k{constructor(t,e){super(`Invalid contract address "${t}"`,e),this.contractAddress=t,this.name=this.constructor.name}}class $ extends k{constructor(t,e){super(`Invalid public key hash "${t}"`,e),this.keyHash=t,this.name=this.constructor.name}}class Y extends k{constructor(t,e){super(`Invalid operation kind "${t}"`,e),this.operationKind=t,this.name=this.constructor.name}}class X extends F{constructor(t){super(t),this.name=this.constructor.name}}r(7379),r(3360);const W="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function J(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function Q(t,...e){if(!J(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function et(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function rt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function nt(t,e){return t<<32-e|t>>>e}const it=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),ot=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function st(t){if(Q(t),it)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=ot[t[r]];return e}const at={_0:48,_9:57,A:65,F:70,a:97,f:102};function ft(t){return t>=at._0&&t<=at._9?t-at._0:t>=at.A&&t<=at.F?t-(at.A-10):t>=at.a&&t<=at.f?t-(at.a-10):void 0}function ct(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(it)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){const r=ft(t.charCodeAt(i)),o=ft(t.charCodeAt(i+1));if(void 0===r||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+o}return n}function ut(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function dt(t){return"string"==typeof t&&(t=ut(t)),Q(t),t}function ht(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];Q(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}class lt{}function bt(t){const e=e=>t().update(dt(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function pt(t=32){if(W&&"function"==typeof W.getRandomValues)return W.getRandomValues(new Uint8Array(t));if(W&&"function"==typeof W.randomBytes)return Uint8Array.from(W.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function gt(t,e,r){return t&e^t&r^e&r}class mt extends lt{constructor(t,e,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(t),this.view=rt(this.buffer)}update(t){tt(this),Q(t=dt(t));const{view:e,buffer:r,blockLen:n}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=rt(t);for(;n<=i-o;o+=n)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){tt(this),function(t,e){Q(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;e[o++]=128,et(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=rt(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=a/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)s.setUint32(4*t,c[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.destroyed=o,t.finished=i,t.length=n,t.pos=s,n%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const yt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vt=new Uint32Array(64);class At extends mt{constructor(t=32){super(64,t,8,!1),this.A=0|yt[0],this.B=0|yt[1],this.C=0|yt[2],this.D=0|yt[3],this.E=0|yt[4],this.F=0|yt[5],this.G=0|yt[6],this.H=0|yt[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)vt[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=vt[t-15],r=vt[t-2],n=nt(e,7)^nt(e,18)^e>>>3,i=nt(r,17)^nt(r,19)^r>>>10;vt[t]=i+vt[t-7]+n+vt[t-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:f,H:c}=this;for(let t=0;t<64;t++){const e=c+(nt(s,6)^nt(s,11)^nt(s,25))+((u=s)&a^~u&f)+wt[t]+vt[t]|0,d=(nt(r,2)^nt(r,13)^nt(r,22))+gt(r,n,i)|0;c=f,f=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+d|0}var u;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,f,c)}roundClean(){et(vt)}destroy(){this.set(0,0,0,0,0,0,0,0),et(this.buffer)}}const Et=bt((()=>new At)),_t=BigInt(0),St=BigInt(1);function Rt(t,e=""){if("boolean"!=typeof t)throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t);return t}function It(t,e,r=""){const n=J(t),i=t?.length,o=void 0!==e;if(!n||o&&i!==e)throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${e}`:"")+", got "+(n?`length=${i}`:"type="+typeof t));return t}function Tt(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?_t:BigInt("0x"+t)}function Ot(t){return Tt(st(t))}function Mt(t){return Q(t),Tt(st(Uint8Array.from(t).reverse()))}function Pt(t,e){return ct(t.toString(16).padStart(2*e,"0"))}function Lt(t,e){return Pt(t,e).reverse()}function Bt(t,e,r){let n;if("string"==typeof e)try{n=ct(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!J(e))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const xt=t=>"bigint"==typeof t&&_t<=t;function Nt(t){let e;for(e=0;t>_t;t>>=St,e+=1);return e}function Ut(t,e){return t>>BigInt(e)&St}const Ht=t=>(St<<BigInt(t))-St;function Dt(t,e,r={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function n(e,r,n){const i=t[e];if(n&&void 0===i)return;const o=typeof i;if(o!==r||null===i)throw new Error(`param "${e}" is invalid: expected ${r}, got ${o}`)}Object.entries(e).forEach((([t,e])=>n(t,e,!1))),Object.entries(r).forEach((([t,e])=>n(t,e,!0)))}const Ct=()=>{throw new Error("not implemented")};function kt(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(void 0!==i)return i;const o=t(r,...n);return e.set(r,o),o}}const Ft=BigInt(0),Kt=BigInt(1),Zt=BigInt(2),Gt=BigInt(3),qt=BigInt(4),zt=BigInt(5),Vt=BigInt(7),jt=BigInt(8),$t=BigInt(9),Yt=BigInt(16);function Xt(t,e){const r=t%e;return r>=Ft?r:e+r}function Wt(t,e){if(t===Ft)throw new Error("invert: expected non-zero number");if(e<=Ft)throw new Error("invert: expected positive modulus, got "+e);let r=Xt(t,e),n=e,i=Ft,o=Kt,s=Kt,a=Ft;for(;r!==Ft;){const t=n/r,e=n%r,f=i-s*t,c=o-a*t;n=r,r=e,i=s,o=a,s=f,a=c}if(n!==Kt)throw new Error("invert: does not exist");return Xt(i,e)}function Jt(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Qt(t,e){const r=(t.ORDER+Kt)/qt,n=t.pow(e,r);return Jt(t,n,e),n}function te(t,e){const r=(t.ORDER-zt)/jt,n=t.mul(e,Zt),i=t.pow(n,r),o=t.mul(e,i),s=t.mul(t.mul(o,Zt),i),a=t.mul(o,t.sub(s,t.ONE));return Jt(t,a,e),a}function ee(t){if(t<Gt)throw new Error("sqrt is not defined for small field");let e=t-Kt,r=0;for(;e%Zt===Ft;)e/=Zt,r++;let n=Zt;const i=fe(t);for(;1===se(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return Qt;let o=i.pow(n,e);const s=(e+Kt)/Zt;return function(t,n){if(t.is0(n))return n;if(1!==se(t,n))throw new Error("Cannot find square root");let i=r,a=t.mul(t.ONE,o),f=t.pow(n,e),c=t.pow(n,s);for(;!t.eql(f,t.ONE);){if(t.is0(f))return t.ZERO;let e=1,r=t.sqr(f);for(;!t.eql(r,t.ONE);)if(e++,r=t.sqr(r),e===i)throw new Error("Cannot find square root");const n=Kt<<BigInt(i-e-1),o=t.pow(a,n);i=e,a=t.sqr(o),f=t.mul(f,a),c=t.mul(c,o)}return c}}const re=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ne(t){return Dt(t,re.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}function ie(t,e,r){if(r<Ft)throw new Error("invalid exponent, negatives unsupported");if(r===Ft)return t.ONE;if(r===Kt)return e;let n=t.ONE,i=e;for(;r>Ft;)r&Kt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Kt;return n}function oe(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce(((e,r,i)=>t.is0(r)?e:(n[i]=e,t.mul(e,r))),t.ONE),o=t.inv(i);return e.reduceRight(((e,r,i)=>t.is0(r)?e:(n[i]=t.mul(e,n[i]),t.mul(e,r))),o),n}function se(t,e){const r=(t.ORDER-Kt)/Zt,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function ae(t,e){void 0!==e&&function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}(e);const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function fe(t,e,r=!1,n={}){if(t<=Ft)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s,a=!1;if("object"==typeof e&&null!=e){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(i=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),s=t.allowedLengths}else"number"==typeof e&&(i=e),n.sqrt&&(o=n.sqrt);const{nBitLength:f,nByteLength:c}=ae(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:r,BITS:f,BYTES:c,MASK:Ht(f),ZERO:Ft,ONE:Kt,allowedLengths:s,create:e=>Xt(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return Ft<=e&&e<t},is0:t=>t===Ft,isValidNot0:t=>!d.is0(t)&&d.isValid(t),isOdd:t=>(t&Kt)===Kt,neg:e=>Xt(-e,t),eql:(t,e)=>t===e,sqr:e=>Xt(e*e,t),add:(e,r)=>Xt(e+r,t),sub:(e,r)=>Xt(e-r,t),mul:(e,r)=>Xt(e*r,t),pow:(t,e)=>ie(d,t,e),div:(e,r)=>Xt(e*Wt(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Wt(e,t),sqrt:o||(e=>{return u||(u=(r=t)%qt===Gt?Qt:r%jt===zt?te:r%Yt===$t?function(t){const e=fe(t),r=ee(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),s=(t+Vt)/Yt;return(t,e)=>{let r=t.pow(e,s),a=t.mul(r,n);const f=t.mul(r,i),c=t.mul(r,o),u=t.eql(t.sqr(a),e),d=t.eql(t.sqr(f),e);r=t.cmov(r,a,u),a=t.cmov(c,f,d);const h=t.eql(t.sqr(a),e),l=t.cmov(r,a,h);return Jt(t,l,e),l}}(r):ee(r)),u(d,e);var r}),toBytes:t=>r?Lt(t,c):Pt(t,c),fromBytes:(e,n=!0)=>{if(s){if(!s.includes(e.length)||e.length>c)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);const t=new Uint8Array(c);t.set(e,r?0:t.length-e.length),e=t}if(e.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);let i=r?Mt(e):Ot(e);if(a&&(i=Xt(i,t)),!n&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:t=>oe(d,t),cmov:(t,e,r)=>r?e:t});return Object.freeze(d)}function ce(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ue(t){const e=ce(t);return e+Math.ceil(e/2)}const de=BigInt(0),he=BigInt(1);function le(t,e){const r=e.negate();return t?r:e}function be(t,e){const r=oe(t.Fp,e.map((t=>t.Z)));return e.map(((e,n)=>t.fromAffine(e.toAffine(r[n]))))}function pe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ge(t,e){pe(t,e);const r=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:Ht(t),maxNumber:r,shiftBy:BigInt(t)}}function me(t,e,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r;let a=Number(t&i),f=t>>s;a>n&&(a-=o,f+=he);const c=e*n;return{nextN:f,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:c}}const ye=new WeakMap,we=new WeakMap;function ve(t){return we.get(t)||1}function Ae(t){if(t!==de)throw new Error("invalid wNAF")}class Ee{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,r=this.ZERO){let n=t;for(;e>de;)e&he&&(r=r.add(n)),n=n.double(),e>>=he;return r}precomputeWindow(t,e){const{windows:r,windowSize:n}=ge(e,this.bits),i=[];let o=t,s=o;for(let t=0;t<r;t++){s=o,i.push(s);for(let t=1;t<n;t++)s=s.add(o),i.push(s);o=s.double()}return i}wNAF(t,e,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,i=this.BASE;const o=ge(t,this.bits);for(let t=0;t<o.windows;t++){const{nextN:s,offset:a,isZero:f,isNeg:c,isNegF:u,offsetF:d}=me(r,t,o);r=s,f?i=i.add(le(u,e[d])):n=n.add(le(c,e[a]))}return Ae(r),{p:n,f:i}}wNAFUnsafe(t,e,r,n=this.ZERO){const i=ge(t,this.bits);for(let t=0;t<i.windows&&r!==de;t++){const{nextN:o,offset:s,isZero:a,isNeg:f}=me(r,t,i);if(r=o,!a){const t=e[s];n=n.add(f?t.negate():t)}}return Ae(r),n}getPrecomputes(t,e,r){let n=ye.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&("function"==typeof r&&(n=r(n)),ye.set(e,n))),n}cached(t,e,r){const n=ve(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)}unsafe(t,e,r,n){const i=ve(t);return 1===i?this._unsafeLadder(t,e,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,n)}createCache(t,e){pe(e,this.bits),we.set(t,e),ye.delete(t)}hasCache(t){return 1!==ve(t)}}function _e(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ne(e),e}return fe(t,{isLE:r})}const Se=Ot;function Re(t,e){if(Te(t),Te(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function Ie(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Te(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Oe(t){if(!J(t)&&"string"!=typeof t)throw new Error("DST must be Uint8Array or string");return"string"==typeof t?ut(t):t}function Me(t,e,r){Dt(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:o,hash:s,expand:a,DST:f}=r;if("function"!=typeof(c=r.hash)||!Number.isSafeInteger(c.outputLen))throw new Error("expected valid hash");var c;Q(t),Te(e);const u=n.toString(2).length,d=Math.ceil((u+i)/8),h=e*o*d;let l;if("xmd"===a)l=function(t,e,r,n){Q(t),Te(r),(e=Oe(e)).length>255&&(e=n(ht(ut("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(r>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=ht(e,Re(e.length,1)),f=Re(0,o),c=Re(r,2),u=new Array(s),d=n(ht(f,t,c,Re(0,1),a));u[0]=n(ht(d,Re(1,1),a));for(let t=1;t<=s;t++){const e=[Ie(d,u[t-1]),Re(t+1,1),a];u[t]=n(ht(...e))}return ht(...u).slice(0,r)}(t,f,h,s);else if("xof"===a)l=function(t,e,r,n,i){if(Q(t),Te(r),(e=Oe(e)).length>255){const t=Math.ceil(2*n/8);e=i.create({dkLen:t}).update(ut("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Re(r,2)).update(e).update(Re(e.length,1)).digest()}(t,f,h,i,s);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');l=t}const b=new Array(e);for(let t=0;t<e;t++){const e=new Array(o);for(let r=0;r<o;r++){const i=d*(r+t*o),s=l.subarray(i,i+d);e[r]=Xt(Se(s),n)}b[t]=e}return b}function Pe(t,e){const r=e.map((t=>Array.from(t).reverse()));return(e,n)=>{const[i,o,s,a]=r.map((r=>r.reduce(((r,n)=>t.add(t.mul(r,e),n))))),[f,c]=oe(t,[o,a],!0);return e=t.mul(i,f),n=t.mul(n,t.mul(s,c)),{x:e,y:n}}}const Le=ut("HashToScalar-");function Be(t,e,r){if("function"!=typeof e)throw new Error("mapToCurve() must be defined");function n(r){return t.fromAffine(e(r))}function i(e){const r=e.clearCofactor();return r.equals(t.ZERO)?t.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(t,e){const o=Me(t,2,Object.assign({},r,e)),s=n(o[0]),a=n(o[1]);return i(s.add(a))},encodeToCurve(t,e){const o=r.encodeDST?{DST:r.encodeDST}:{};return i(n(Me(t,1,Object.assign({},r,o,e))[0]))},mapToCurve(t){if(!Array.isArray(t))throw new Error("expected array of bigints");for(const e of t)if("bigint"!=typeof e)throw new Error("expected array of bigints");return i(n(t))},hashToScalar(e,n){const i=t.Fn.ORDER;return Me(e,1,Object.assign({},r,{p:i,m:1,DST:Le},n))[0][0]}}}const xe=(t,e)=>(t+(t>=0?e:-e)/He)/e;Error;const Ne=BigInt(0),Ue=BigInt(1),He=BigInt(2),De=BigInt(3),Ce=BigInt(4);function ke(t,e){const{BYTES:r}=t;let n;if("bigint"==typeof e)n=e;else{let i=Bt("private key",e);try{n=t.fromBytes(i)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Fe(t,e={}){const r=function(t,e,r={},n){if(void 0===n&&(n="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const r=e[t];if(!("bigint"==typeof r&&r>de))throw new Error(`CURVE.${t} must be positive bigint`)}const i=_e(e.p,r.Fp,n),o=_e(e.n,r.Fn,n),s=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of s)if(!i.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:i,Fn:o}}("weierstrass",t,e),{Fp:n,Fn:i}=r;let o=r.CURVE;const{h:s,n:a}=o;Dt(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!n.is0(o.a)||"bigint"!=typeof f.beta||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=function(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=e.toBytes||function(t,e,r){const{x:i,y:o}=e.toAffine(),s=n.toBytes(i);return Rt(r,"isCompressed"),r?(u(),ht((a=!n.isOdd(o),Uint8Array.of(a?2:3)),s)):ht(Uint8Array.of(4),s,n.toBytes(o));var a},h=e.fromBytes||function(t){It(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:r}=c,i=t.length,o=t[0],s=t.subarray(1);if(i!==e||2!==o&&3!==o){if(i===r&&4===o){const t=n.BYTES,e=n.fromBytes(s.subarray(0,t)),r=n.fromBytes(s.subarray(t,2*t));if(!b(e,r))throw new Error("bad point: is not on curve");return{x:e,y:r}}throw new Error(`bad point: got length ${i}, expected compressed=${e} or uncompressed=${r}`)}{const t=n.fromBytes(s);if(!n.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=l(t);let r;try{r=n.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}return u(),!(1&~o)!==n.isOdd(r)&&(r=n.neg(r)),{x:t,y:r}}};function l(t){const e=n.sqr(t),r=n.mul(e,t);return n.add(n.add(r,n.mul(t,o.a)),o.b)}function b(t,e){const r=n.sqr(e),i=l(t);return n.eql(r,i)}if(!b(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(o.a,De),Ce),g=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function m(t,e,r=!1){if(!n.isValid(e)||r&&n.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function y(t){if(!(t instanceof _))throw new Error("ProjectivePoint expected")}function w(t){if(!f||!f.basises)throw new Error("no endo");return function(t,e,r){const[[n,i],[o,s]]=e,a=xe(s*t,r),f=xe(-i*t,r);let c=t-a*n-f*o,u=-a*i-f*s;const d=c<Ne,h=u<Ne;d&&(c=-c),h&&(u=-u);const l=Ht(Math.ceil(Nt(r)/2))+Ue;if(c<Ne||c>=l||u<Ne||u>=l)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:c,k2neg:h,k2:u}}(t,f.basises,i.ORDER)}const v=kt(((t,e)=>{const{X:r,Y:i,Z:o}=t;if(n.eql(o,n.ONE))return{x:r,y:i};const s=t.is0();null==e&&(e=s?n.ONE:n.inv(o));const a=n.mul(r,e),f=n.mul(i,e),c=n.mul(o,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:f}})),A=kt((t=>{if(t.is0()){if(e.allowInfinityPoint&&!n.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=t.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!b(r,i))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));function E(t,e,r,i,o){return r=new _(n.mul(r.X,t),r.Y,r.Z),e=le(i,e),r=le(o,r),e.add(r)}class _{constructor(t,e,r){this.X=m("x",t),this.Y=m("y",e,!0),this.Z=m("z",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof _)throw new Error("projective point not allowed");return n.is0(e)&&n.is0(r)?_.ZERO:new _(e,r,n.ONE)}static fromBytes(t){const e=_.fromAffine(h(It(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return _.fromBytes(Bt("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return R.createCache(this,t),e||this.multiply(De),this}assertValidity(){A(this)}hasEvenY(){const{y:t}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(t)}equals(t){y(t);const{X:e,Y:r,Z:i}=this,{X:o,Y:s,Z:a}=t,f=n.eql(n.mul(e,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return f&&c}negate(){return new _(this.X,n.neg(this.Y),this.Z)}double(){const{a:t,b:e}=o,r=n.mul(e,De),{X:i,Y:s,Z:a}=this;let f=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(i,i),h=n.mul(s,s),l=n.mul(a,a),b=n.mul(i,s);return b=n.add(b,b),u=n.mul(i,a),u=n.add(u,u),f=n.mul(t,u),c=n.mul(r,l),c=n.add(f,c),f=n.sub(h,c),c=n.add(h,c),c=n.mul(f,c),f=n.mul(b,f),u=n.mul(r,u),l=n.mul(t,l),b=n.sub(d,l),b=n.mul(t,b),b=n.add(b,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,l),d=n.mul(d,b),c=n.add(c,d),l=n.mul(s,a),l=n.add(l,l),d=n.mul(l,b),f=n.sub(f,d),u=n.mul(l,h),u=n.add(u,u),u=n.add(u,u),new _(f,c,u)}add(t){y(t);const{X:e,Y:r,Z:i}=this,{X:s,Y:a,Z:f}=t;let c=n.ZERO,u=n.ZERO,d=n.ZERO;const h=o.a,l=n.mul(o.b,De);let b=n.mul(e,s),p=n.mul(r,a),g=n.mul(i,f),m=n.add(e,r),w=n.add(s,a);m=n.mul(m,w),w=n.add(b,p),m=n.sub(m,w),w=n.add(e,i);let v=n.add(s,f);return w=n.mul(w,v),v=n.add(b,g),w=n.sub(w,v),v=n.add(r,i),c=n.add(a,f),v=n.mul(v,c),c=n.add(p,g),v=n.sub(v,c),d=n.mul(h,w),c=n.mul(l,g),d=n.add(c,d),c=n.sub(p,d),d=n.add(p,d),u=n.mul(c,d),p=n.add(b,b),p=n.add(p,b),g=n.mul(h,g),w=n.mul(l,w),p=n.add(p,g),g=n.sub(b,g),g=n.mul(h,g),w=n.add(w,g),b=n.mul(p,w),u=n.add(u,b),b=n.mul(v,w),c=n.mul(m,c),c=n.sub(c,b),b=n.mul(m,p),d=n.mul(v,d),d=n.add(d,b),new _(c,u,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(_.ZERO)}multiply(t){const{endo:r}=e;if(!i.isValidNot0(t))throw new Error("invalid scalar: out of range");let n,o;const s=t=>R.cached(this,t,(t=>be(_,t)));if(r){const{k1neg:e,k1:i,k2neg:a,k2:f}=w(t),{p:c,f:u}=s(i),{p:d,f:h}=s(f);o=u.add(h),n=E(r.beta,c,d,e,a)}else{const{p:e,f:r}=s(t);n=e,o=r}return be(_,[n,o])[0]}multiplyUnsafe(t){const{endo:r}=e,n=this;if(!i.isValid(t))throw new Error("invalid scalar: out of range");if(t===Ne||n.is0())return _.ZERO;if(t===Ue)return n;if(R.hasCache(this))return this.multiply(t);if(r){const{k1neg:e,k1:i,k2neg:o,k2:s}=w(t),{p1:a,p2:f}=function(t,e,r,n){let i=e,o=t.ZERO,s=t.ZERO;for(;r>de||n>de;)r&he&&(o=o.add(i)),n&he&&(s=s.add(i)),i=i.double(),r>>=he,n>>=he;return{p1:o,p2:s}}(_,n,i,s);return E(r.beta,a,f,e,o)}return R.unsafe(n,t)}multiplyAndAddUnsafe(t,e,r){const n=this.multiplyUnsafe(e).add(t.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(t){return v(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return s===Ue||(t?t(_,this):R.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:t}=e;return s===Ue?this:t?t(_,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(t=!0){return Rt(t,"isCompressed"),this.assertValidity(),d(_,this,t)}toHex(t=!0){return st(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return be(_,t)}static msm(t,e){return function(t,e,r,n){(function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach(((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)}))})(r,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)}))}(n,e);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=Nt(BigInt(i));let f=1;a>12?f=a-3:a>4?f=a-2:a>0&&(f=2);const c=Ht(f),u=new Array(Number(c)+1).fill(s);let d=s;for(let t=Math.floor((e.BITS-1)/f)*f;t>=0;t-=f){u.fill(s);for(let e=0;e<o;e++){const i=n[e],o=Number(i>>BigInt(t)&c);u[o]=u[o].add(r[e])}let e=s;for(let t=u.length-1,r=s;t>0;t--)r=r.add(u[t]),e=e.add(r);if(d=d.add(e),0!==t)for(let t=0;t<f;t++)d=d.double()}return d}(_,i,t,e)}static fromPrivateKey(t){return _.BASE.multiply(ke(i,t))}}_.BASE=new _(o.Gx,o.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=i;const S=i.BITS,R=new Ee(_,e.endo?Math.ceil(S/2):S);return _.BASE.precompute(8),_}function Ke(t,e){ne(t);const{A:r,B:n,Z:i}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=function(t,e){const r=t.ORDER;let n=Ne;for(let t=r-Ue;t%He===Ne;t/=He)n+=Ue;const i=n,o=He<<i-Ue-Ue,s=o*He,a=(r-Ue)/s,f=(a-Ue)/He,c=s-Ue,u=o,d=t.pow(e,a),h=t.pow(e,(a+Ue)/He);let l=(e,r)=>{let n=d,o=t.pow(r,c),s=t.sqr(o);s=t.mul(s,r);let a=t.mul(e,s);a=t.pow(a,f),a=t.mul(a,o),o=t.mul(a,r),s=t.mul(a,e);let l=t.mul(s,o);a=t.pow(l,u);let b=t.eql(a,t.ONE);o=t.mul(s,h),a=t.mul(l,n),s=t.cmov(o,s,b),l=t.cmov(a,l,b);for(let e=i;e>Ue;e--){let r=e-He;r=He<<r-Ue;let i=t.pow(l,r);const a=t.eql(i,t.ONE);o=t.mul(s,n),n=t.mul(n,n),i=t.mul(l,n),s=t.cmov(o,s,a),l=t.cmov(i,l,a)}return{isValid:b,value:s}};if(t.ORDER%Ce===De){const r=(t.ORDER-De)/Ce,n=t.sqrt(t.neg(e));l=(e,i)=>{let o=t.sqr(i);const s=t.mul(e,i);o=t.mul(o,s);let a=t.pow(o,r);a=t.mul(a,s);const f=t.mul(a,n),c=t.mul(t.sqr(a),i),u=t.eql(c,e);return{isValid:u,value:t.cmov(f,a,u)}}}return l}(t,i);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return e=>{let s,a,f,c,u,d,h,l;s=t.sqr(e),s=t.mul(s,i),a=t.sqr(s),a=t.add(a,s),f=t.add(a,t.ONE),f=t.mul(f,n),c=t.cmov(i,t.neg(a),!t.eql(a,t.ZERO)),c=t.mul(c,r),a=t.sqr(f),d=t.sqr(c),u=t.mul(d,r),a=t.add(a,u),a=t.mul(a,f),d=t.mul(d,c),u=t.mul(d,n),a=t.add(a,u),h=t.mul(s,f);const{isValid:b,value:p}=o(a,d);l=t.mul(s,e),l=t.mul(l,p),h=t.cmov(h,f,b),l=t.cmov(l,p,b);const g=t.isOdd(e)===t.isOdd(l);l=t.cmov(t.neg(l),l,g);const m=oe(t,[c],!0)[0];return h=t.mul(h,m),{x:h,y:l}}}function Ze(t){const{CURVE:e,curveOpts:r}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map((t=>Math.ceil(t/2))))):void 0;return{CURVE:e,curveOpts:{Fp:r,Fn:fe(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t);return function(t,e){const{Fp:r,Fn:n}=e;const i=function(t,e,r){return function(n){const i=t.sqr(n),o=t.mul(i,n);return t.add(t.add(o,t.mul(n,e)),r)}}(r,t.a,t.b);return Object.assign({},{CURVE:t,Point:e,ProjectivePoint:e,normPrivateKeyToScalar:t=>ke(n,t),weierstrassEquation:i,isWithinCurveOrder:function(t){return e=t,r=Ue,i=n.ORDER,xt(e)&&xt(r)&&xt(i)&&r<=e&&e<i;var e,r,i}})}(t,Fe(e,r))}const Ge=BigInt(0),qe=BigInt(1),ze=BigInt(2),Ve=BigInt(3);function je(t){if(!Array.isArray(t)||0===t.length)throw new Error("expected non-empty array")}function $e(t,e,r,n,i){const{Fp12:o,pairingBatch:s}=t;function a(t){return t instanceof e.Point?t:e.Point.fromHex(t)}function f(t){return t instanceof r.Point?t:r.Point.fromHex(t)}function c(t){if(!(t instanceof r.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return t}const u=i?(t,e)=>({g1:e,g2:t}):(t,e)=>({g1:t,g2:e});return{getPublicKey(t){const r=ke(e.Point.Fn,t);return e.Point.BASE.multiply(r)},sign(t,r,n){if(null!=n)throw new Error("sign() expects 2 arguments");const i=ke(e.Point.Fn,r);return c(t).assertValidity(),t.multiply(i)},verify(t,r,n,i){if(null!=i)throw new Error("verify() expects 3 arguments");t=f(t);const d=(n=a(n)).negate(),h=e.Point.BASE,l=c(r),b=t,p=s([u(d,l),u(h,b)]);return o.eql(p,o.ONE)},verifyBatch(t,r,n){if(je(r),n.length!==r.length)throw new Error("amount of public keys and messages should be equal");const i=f(t),c=r,d=n.map(a),h=new Map;for(let t=0;t<d.length;t++){const e=d[t],r=c[t];let n=h.get(r);void 0===n&&(n=[],h.set(r,n)),n.push(e)}const l=[],b=e.Point.BASE;try{for(const[t,e]of h){const r=e.reduce(((t,e)=>t.add(e)));l.push(u(r,t))}return l.push(u(b.negate(),i)),o.eql(s(l),o.ONE)}catch{return!1}},aggregatePublicKeys(t){je(t);const r=(t=t.map((t=>a(t)))).reduce(((t,e)=>t.add(e)),e.Point.ZERO);return r.assertValidity(),r},aggregateSignatures(t){je(t);const e=(t=t.map((t=>f(t)))).reduce(((t,e)=>t.add(e)),r.Point.ZERO);return e.assertValidity(),e},hash(t,e){Q(t);const n=e?{DST:e}:void 0;return r.hashToCurve(t,n)},Signature:n}}const Ye=BigInt(0),Xe=BigInt(1),We=BigInt(2),Je=BigInt(3);function Qe(t,e,r,n,i=1,o){const s=BigInt(void 0===o?n:o),a=r**BigInt(n),f=[];for(let o=0;o<i;o++){const i=BigInt(o+1),c=[];for(let o=0,f=Xe;o<n;o++){const n=(i*f-i)/s%a;c.push(t.pow(e,n)),f*=r}f.push(c)}return f}const tr=(t,e)=>{if(2!==e.length)throw new Error("invalid tuple");const r=e.map((e=>t.create(e)));return{c0:r[0],c1:r[1]}};class er{constructor(t,e={}){this.MASK=Xe;const r=t.ORDER,n=r*r;this.Fp=t,this.ORDER=n,this.BITS=Nt(n),this.BYTES=Math.ceil(Nt(n)/8),this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.Fp_NONRESIDUE=t.create(e.NONRESIDUE||BigInt(-1)),this.Fp_div2=t.div(t.ONE,We),this.NONRESIDUE=tr(t,e.FP2_NONRESIDUE),this.FROBENIUS_COEFFICIENTS=Qe(t,this.Fp_NONRESIDUE,t.ORDER,2)[0],this.mulByB=e.Fp2mulByB,Object.seal(this)}fromBigTuple(t){return tr(this.Fp,t)}create(t){return t}isValid({c0:t,c1:e}){function r(t,e){return"bigint"==typeof t&&Ye<=t&&t<e}return r(t,this.ORDER)&&r(e,this.ORDER)}is0({c0:t,c1:e}){return this.Fp.is0(t)&&this.Fp.is0(e)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}eql({c0:t,c1:e},{c0:r,c1:n}){return this.Fp.eql(t,r)&&this.Fp.eql(e,n)}neg({c0:t,c1:e}){return{c0:this.Fp.neg(t),c1:this.Fp.neg(e)}}pow(t,e){return ie(this,t,e)}invertBatch(t){return oe(this,t)}add(t,e){const{c0:r,c1:n}=t,{c0:i,c1:o}=e;return{c0:this.Fp.add(r,i),c1:this.Fp.add(n,o)}}sub({c0:t,c1:e},{c0:r,c1:n}){return{c0:this.Fp.sub(t,r),c1:this.Fp.sub(e,n)}}mul({c0:t,c1:e},r){const{Fp:n}=this;if("bigint"==typeof r)return{c0:n.mul(t,r),c1:n.mul(e,r)};const{c0:i,c1:o}=r;let s=n.mul(t,i),a=n.mul(e,o);return{c0:n.sub(s,a),c1:n.sub(n.mul(n.add(t,e),n.add(i,o)),n.add(s,a))}}sqr({c0:t,c1:e}){const{Fp:r}=this,n=r.add(t,e),i=r.sub(t,e),o=r.add(t,t);return{c0:r.mul(n,i),c1:r.mul(o,e)}}addN(t,e){return this.add(t,e)}subN(t,e){return this.sub(t,e)}mulN(t,e){return this.mul(t,e)}sqrN(t){return this.sqr(t)}div(t,e){const{Fp:r}=this;return this.mul(t,"bigint"==typeof e?r.inv(r.create(e)):this.inv(e))}inv({c0:t,c1:e}){const{Fp:r}=this,n=r.inv(r.create(t*t+e*e));return{c0:r.mul(n,r.create(t)),c1:r.mul(n,r.create(-e))}}sqrt(t){const{Fp:e}=this,r=this,{c0:n,c1:i}=t;if(e.is0(i))return 1===se(e,n)?r.create({c0:e.sqrt(n),c1:e.ZERO}):r.create({c0:e.ZERO,c1:e.sqrt(e.div(n,this.Fp_NONRESIDUE))});const o=e.sqrt(e.sub(e.sqr(n),e.mul(e.sqr(i),this.Fp_NONRESIDUE)));let s=e.mul(e.add(o,n),this.Fp_div2);-1===se(e,s)&&(s=e.sub(s,o));const a=e.sqrt(s),f=r.create({c0:a,c1:e.div(e.mul(i,this.Fp_div2),a)});if(!r.eql(r.sqr(f),t))throw new Error("Cannot find square root");const c=f,u=r.neg(c),{re:d,im:h}=r.reim(c),{re:l,im:b}=r.reim(u);return h>b||h===b&&d>l?c:u}isOdd(t){const{re:e,im:r}=this.reim(t);return BigInt(e%We||e===Ye&&r%We)==Xe}fromBytes(t){const{Fp:e}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:e.fromBytes(t.subarray(0,e.BYTES)),c1:e.fromBytes(t.subarray(e.BYTES))}}toBytes({c0:t,c1:e}){return ht(this.Fp.toBytes(t),this.Fp.toBytes(e))}cmov({c0:t,c1:e},{c0:r,c1:n},i){return{c0:this.Fp.cmov(t,r,i),c1:this.Fp.cmov(e,n,i)}}reim({c0:t,c1:e}){return{re:t,im:e}}Fp4Square(t,e){const r=this,n=r.sqr(t),i=r.sqr(e);return{first:r.add(r.mulByNonresidue(i),n),second:r.sub(r.sub(r.sqr(r.add(t,e)),n),i)}}mulByNonresidue({c0:t,c1:e}){return this.mul({c0:t,c1:e},this.NONRESIDUE)}frobeniusMap({c0:t,c1:e},r){return{c0:t,c1:this.Fp.mul(e,this.FROBENIUS_COEFFICIENTS[r%2])}}}class rr{constructor(t){this.MASK=Xe,this.Fp2=t,this.ORDER=t.ORDER,this.BITS=3*t.BITS,this.BYTES=3*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO,c2:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO,c2:t.ZERO};const{Fp:e}=t,r=Qe(t,t.NONRESIDUE,e.ORDER,6,2,3);this.FROBENIUS_COEFFICIENTS_1=r[0],this.FROBENIUS_COEFFICIENTS_2=r[1],Object.seal(this)}add({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o}){const{Fp2:s}=this;return{c0:s.add(t,n),c1:s.add(e,i),c2:s.add(r,o)}}sub({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o}){const{Fp2:s}=this;return{c0:s.sub(t,n),c1:s.sub(e,i),c2:s.sub(r,o)}}mul({c0:t,c1:e,c2:r},n){const{Fp2:i}=this;if("bigint"==typeof n)return{c0:i.mul(t,n),c1:i.mul(e,n),c2:i.mul(r,n)};const{c0:o,c1:s,c2:a}=n,f=i.mul(t,o),c=i.mul(e,s),u=i.mul(r,a);return{c0:i.add(f,i.mulByNonresidue(i.sub(i.mul(i.add(e,r),i.add(s,a)),i.add(c,u)))),c1:i.add(i.sub(i.mul(i.add(t,e),i.add(o,s)),i.add(f,c)),i.mulByNonresidue(u)),c2:i.sub(i.add(c,i.mul(i.add(t,r),i.add(o,a))),i.add(f,u))}}sqr({c0:t,c1:e,c2:r}){const{Fp2:n}=this;let i=n.sqr(t),o=n.mul(n.mul(t,e),We),s=n.mul(n.mul(e,r),We),a=n.sqr(r);return{c0:n.add(n.mulByNonresidue(s),i),c1:n.add(n.mulByNonresidue(a),o),c2:n.sub(n.sub(n.add(n.add(o,n.sqr(n.add(n.sub(t,e),r))),s),i),a)}}addN(t,e){return this.add(t,e)}subN(t,e){return this.sub(t,e)}mulN(t,e){return this.mul(t,e)}sqrN(t){return this.sqr(t)}create(t){return t}isValid({c0:t,c1:e,c2:r}){const{Fp2:n}=this;return n.isValid(t)&&n.isValid(e)&&n.isValid(r)}is0({c0:t,c1:e,c2:r}){const{Fp2:n}=this;return n.is0(t)&&n.is0(e)&&n.is0(r)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:e,c2:r}){const{Fp2:n}=this;return{c0:n.neg(t),c1:n.neg(e),c2:n.neg(r)}}eql({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o}){const{Fp2:s}=this;return s.eql(t,n)&&s.eql(e,i)&&s.eql(r,o)}sqrt(t){return Ct()}div(t,e){const{Fp2:r}=this,{Fp:n}=r;return this.mul(t,"bigint"==typeof e?n.inv(n.create(e)):this.inv(e))}pow(t,e){return ie(this,t,e)}invertBatch(t){return oe(this,t)}inv({c0:t,c1:e,c2:r}){const{Fp2:n}=this;let i=n.sub(n.sqr(t),n.mulByNonresidue(n.mul(r,e))),o=n.sub(n.mulByNonresidue(n.sqr(r)),n.mul(t,e)),s=n.sub(n.sqr(e),n.mul(t,r)),a=n.inv(n.add(n.mulByNonresidue(n.add(n.mul(r,o),n.mul(e,s))),n.mul(t,i)));return{c0:n.mul(a,i),c1:n.mul(a,o),c2:n.mul(a,s)}}fromBytes(t){const{Fp2:e}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);const r=e.BYTES;return{c0:e.fromBytes(t.subarray(0,r)),c1:e.fromBytes(t.subarray(r,2*r)),c2:e.fromBytes(t.subarray(2*r))}}toBytes({c0:t,c1:e,c2:r}){const{Fp2:n}=this;return ht(n.toBytes(t),n.toBytes(e),n.toBytes(r))}cmov({c0:t,c1:e,c2:r},{c0:n,c1:i,c2:o},s){const{Fp2:a}=this;return{c0:a.cmov(t,n,s),c1:a.cmov(e,i,s),c2:a.cmov(r,o,s)}}fromBigSix(t){const{Fp2:e}=this;if(!Array.isArray(t)||6!==t.length)throw new Error("invalid Fp6 usage");return{c0:e.fromBigTuple(t.slice(0,2)),c1:e.fromBigTuple(t.slice(2,4)),c2:e.fromBigTuple(t.slice(4,6))}}frobeniusMap({c0:t,c1:e,c2:r},n){const{Fp2:i}=this;return{c0:i.frobeniusMap(t,n),c1:i.mul(i.frobeniusMap(e,n),this.FROBENIUS_COEFFICIENTS_1[n%6]),c2:i.mul(i.frobeniusMap(r,n),this.FROBENIUS_COEFFICIENTS_2[n%6])}}mulByFp2({c0:t,c1:e,c2:r},n){const{Fp2:i}=this;return{c0:i.mul(t,n),c1:i.mul(e,n),c2:i.mul(r,n)}}mulByNonresidue({c0:t,c1:e,c2:r}){const{Fp2:n}=this;return{c0:n.mulByNonresidue(r),c1:t,c2:e}}mul1({c0:t,c1:e,c2:r},n){const{Fp2:i}=this;return{c0:i.mulByNonresidue(i.mul(r,n)),c1:i.mul(t,n),c2:i.mul(e,n)}}mul01({c0:t,c1:e,c2:r},n,i){const{Fp2:o}=this;let s=o.mul(t,n),a=o.mul(e,i);return{c0:o.add(o.mulByNonresidue(o.sub(o.mul(o.add(e,r),i),a)),s),c1:o.sub(o.sub(o.mul(o.add(n,i),o.add(t,e)),s),a),c2:o.add(o.sub(o.mul(o.add(t,r),n),s),a)}}}class nr{constructor(t,e){this.MASK=Xe;const{Fp2:r}=t,{Fp:n}=r;this.Fp6=t,this.ORDER=r.ORDER,this.BITS=2*t.BITS,this.BYTES=2*t.BYTES,this.isLE=t.isLE,this.ZERO={c0:t.ZERO,c1:t.ZERO},this.ONE={c0:t.ONE,c1:t.ZERO},this.FROBENIUS_COEFFICIENTS=Qe(r,r.NONRESIDUE,n.ORDER,12,1,6)[0],this.X_LEN=e.X_LEN,this.finalExponentiate=e.Fp12finalExponentiate}create(t){return t}isValid({c0:t,c1:e}){const{Fp6:r}=this;return r.isValid(t)&&r.isValid(e)}is0({c0:t,c1:e}){const{Fp6:r}=this;return r.is0(t)&&r.is0(e)}isValidNot0(t){return!this.is0(t)&&this.isValid(t)}neg({c0:t,c1:e}){const{Fp6:r}=this;return{c0:r.neg(t),c1:r.neg(e)}}eql({c0:t,c1:e},{c0:r,c1:n}){const{Fp6:i}=this;return i.eql(t,r)&&i.eql(e,n)}sqrt(t){Ct()}inv({c0:t,c1:e}){const{Fp6:r}=this;let n=r.inv(r.sub(r.sqr(t),r.mulByNonresidue(r.sqr(e))));return{c0:r.mul(t,n),c1:r.neg(r.mul(e,n))}}div(t,e){const{Fp6:r}=this,{Fp2:n}=r,{Fp:i}=n;return this.mul(t,"bigint"==typeof e?i.inv(i.create(e)):this.inv(e))}pow(t,e){return ie(this,t,e)}invertBatch(t){return oe(this,t)}add({c0:t,c1:e},{c0:r,c1:n}){const{Fp6:i}=this;return{c0:i.add(t,r),c1:i.add(e,n)}}sub({c0:t,c1:e},{c0:r,c1:n}){const{Fp6:i}=this;return{c0:i.sub(t,r),c1:i.sub(e,n)}}mul({c0:t,c1:e},r){const{Fp6:n}=this;if("bigint"==typeof r)return{c0:n.mul(t,r),c1:n.mul(e,r)};let{c0:i,c1:o}=r,s=n.mul(t,i),a=n.mul(e,o);return{c0:n.add(s,n.mulByNonresidue(a)),c1:n.sub(n.mul(n.add(t,e),n.add(i,o)),n.add(s,a))}}sqr({c0:t,c1:e}){const{Fp6:r}=this;let n=r.mul(t,e);return{c0:r.sub(r.sub(r.mul(r.add(r.mulByNonresidue(e),t),r.add(t,e)),n),r.mulByNonresidue(n)),c1:r.add(n,n)}}addN(t,e){return this.add(t,e)}subN(t,e){return this.sub(t,e)}mulN(t,e){return this.mul(t,e)}sqrN(t){return this.sqr(t)}fromBytes(t){const{Fp6:e}=this;if(t.length!==this.BYTES)throw new Error("fromBytes invalid length="+t.length);return{c0:e.fromBytes(t.subarray(0,e.BYTES)),c1:e.fromBytes(t.subarray(e.BYTES))}}toBytes({c0:t,c1:e}){const{Fp6:r}=this;return ht(r.toBytes(t),r.toBytes(e))}cmov({c0:t,c1:e},{c0:r,c1:n},i){const{Fp6:o}=this;return{c0:o.cmov(t,r,i),c1:o.cmov(e,n,i)}}fromBigTwelve(t){const{Fp6:e}=this;return{c0:e.fromBigSix(t.slice(0,6)),c1:e.fromBigSix(t.slice(6,12))}}frobeniusMap(t,e){const{Fp6:r}=this,{Fp2:n}=r,{c0:i,c1:o,c2:s}=r.frobeniusMap(t.c1,e),a=this.FROBENIUS_COEFFICIENTS[e%12];return{c0:r.frobeniusMap(t.c0,e),c1:r.create({c0:n.mul(i,a),c1:n.mul(o,a),c2:n.mul(s,a)})}}mulByFp2({c0:t,c1:e},r){const{Fp6:n}=this;return{c0:n.mulByFp2(t,r),c1:n.mulByFp2(e,r)}}conjugate({c0:t,c1:e}){return{c0:t,c1:this.Fp6.neg(e)}}mul014({c0:t,c1:e},r,n,i){const{Fp6:o}=this,{Fp2:s}=o;let a=o.mul01(t,r,n),f=o.mul1(e,i);return{c0:o.add(o.mulByNonresidue(f),a),c1:o.sub(o.sub(o.mul01(o.add(e,t),r,s.add(n,i)),a),f)}}mul034({c0:t,c1:e},r,n,i){const{Fp6:o}=this,{Fp2:s}=o,a=o.create({c0:s.mul(t.c0,r),c1:s.mul(t.c1,r),c2:s.mul(t.c2,r)}),f=o.mul01(e,n,i),c=o.mul01(o.add(t,e),s.add(r,n),i);return{c0:o.add(o.mulByNonresidue(f),a),c1:o.sub(c,o.add(a,f))}}_cyclotomicSquare({c0:t,c1:e}){const{Fp6:r}=this,{Fp2:n}=r,{c0:i,c1:o,c2:s}=t,{c0:a,c1:f,c2:c}=e,{first:u,second:d}=n.Fp4Square(i,f),{first:h,second:l}=n.Fp4Square(a,s),{first:b,second:p}=n.Fp4Square(o,c),g=n.mulByNonresidue(p);return{c0:r.create({c0:n.add(n.mul(n.sub(u,i),We),u),c1:n.add(n.mul(n.sub(h,o),We),h),c2:n.add(n.mul(n.sub(b,s),We),b)}),c1:r.create({c0:n.add(n.mul(n.add(g,a),We),g),c1:n.add(n.mul(n.add(d,f),We),d),c2:n.add(n.mul(n.add(l,c),We),l)})}}_cyclotomicExp(t,e){let r=this.ONE;for(let n=this.X_LEN-1;n>=0;n--)r=this._cyclotomicSquare(r),Ut(e,n)&&(r=this.mul(r,t));return r}}const ir=BigInt(0),or=BigInt(1),sr=BigInt(2),ar=BigInt(3),fr=BigInt(4),cr=BigInt("0xd201000000010000"),ur=Nt(cr),dr={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:ir,b:fr,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},hr=fe(dr.n,{modFromBytes:!0,isLE:!0}),{Fp:lr,Fp2:br,Fp6:pr,Fp12:gr}=function(t){const e=fe(t.ORDER),r=new er(e,t),n=new rr(r);return{Fp:e,Fp2:r,Fp6:n,Fp12:new nr(n,t)}}({ORDER:dr.p,X_LEN:ur,FP2_NONRESIDUE:[or,or],Fp2mulByB:({c0:t,c1:e})=>{const r=lr.mul(t,fr),n=lr.mul(e,fr);return{c0:lr.sub(r,n),c1:lr.add(r,n)}},Fp12finalExponentiate:t=>{const e=cr,r=gr.div(gr.frobeniusMap(t,6),t),n=gr.mul(gr.frobeniusMap(r,2),r),i=gr.conjugate(gr._cyclotomicExp(n,e)),o=gr.mul(gr.conjugate(gr._cyclotomicSquare(n)),i),s=gr.conjugate(gr._cyclotomicExp(o,e)),a=gr.conjugate(gr._cyclotomicExp(s,e)),f=gr.mul(gr.conjugate(gr._cyclotomicExp(a,e)),gr._cyclotomicSquare(i)),c=gr.conjugate(gr._cyclotomicExp(f,e)),u=gr.frobeniusMap(gr.mul(i,a),2),d=gr.frobeniusMap(gr.mul(s,n),3),h=gr.frobeniusMap(gr.mul(f,gr.conjugate(n)),1),l=gr.mul(gr.mul(c,gr.conjugate(o)),n);return gr.mul(gr.mul(gr.mul(u,d),h),l)}}),{G2psi:mr,G2psi2:yr}=function(t,e,r){const n=e.pow(r,(t.ORDER-Xe)/Je),i=e.pow(r,(t.ORDER-Xe)/We);function o(t,r){return[e.mul(e.frobeniusMap(t,1),n),e.mul(e.frobeniusMap(r,1),i)]}const s=e.pow(r,(t.ORDER**We-Xe)/Je),a=e.pow(r,(t.ORDER**We-Xe)/We);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function f(t,r){return[e.mul(t,s),e.neg(r)]}const c=t=>(e,r)=>{const n=r.toAffine(),i=t(n.x,n.y);return e.fromAffine({x:i[0],y:i[1]})};return{psi:o,psi2:f,G2psi:c(o),G2psi2:c(f),PSI_X:n,PSI_Y:i,PSI2_X:s,PSI2_Y:a}}(lr,br,br.div(br.ONE,br.NONRESIDUE)),wr=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:lr.ORDER,m:2,k:128,expand:"xmd",hash:Et}),vr={p:br.ORDER,n:dr.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:br.ZERO,b:br.fromBigTuple([fr,fr]),Gx:br.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:br.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},Ar=_r(lr.toBytes(ir),{infinity:!0,compressed:!0});function Er(t){const e=224&(t=t.slice())[0],r=!!(e>>7&1),n=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:r,infinity:n,sort:i,value:t}}function _r(t,e){if(224&t[0])throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function Sr(t){t.assertValidity();const{BYTES:e,ORDER:r}=lr,{x:n,y:i}=t.toAffine();if(t.is0())return Ar.slice();const o=Boolean(i*sr/r);return _r(Pt(n,e),{compressed:!0,sort:o})}function Rr(t){const{infinity:e,sort:r,value:n}=Er(Bt("signatureHex",t,48)),i=lr.ORDER,o=Or.G1.Point,s=Ot(n);if(e)return o.ZERO;const a=lr.create(s&Ht(lr.BITS)),f=lr.add(lr.pow(a,ar),lr.create(dr.b));let c=lr.sqrt(f);if(!c)throw new Error("invalid G1 point: compressed");const u=BigInt(r);c*sr/i!==u&&(c=lr.neg(c));const d=o.fromAffine({x:a,y:c});return d.assertValidity(),d}function Ir(t){t.assertValidity();const{BYTES:e}=lr;if(t.is0())return ht(Ar,Pt(ir,e));const{x:r,y:n}=t.toAffine(),{re:i,im:o}=br.reim(r),{re:s,im:a}=br.reim(n),f=Boolean((a>ir?a*sr:s*sr)/lr.ORDER&or),c=i;return ht(_r(Pt(o,e),{sort:f,compressed:!0}),Pt(c,e))}function Tr(t){const{ORDER:e}=lr,{infinity:r,sort:n,value:i}=Er(Bt("signatureHex",t)),o=Or.G2.Point,s=i.length/2;if(48!==s&&96!==s)throw new Error("invalid compressed signature length, expected 96/192 bytes");const a=Ot(i.slice(0,s)),f=Ot(i.slice(s));if(r)return o.ZERO;const c=lr.create(a&Ht(lr.BITS)),u=lr.create(f),d=br.create({c0:u,c1:c}),h=br.add(br.pow(d,ar),vr.b);let l=br.sqrt(h);if(!l)throw new Error("Failed to find a square root");const{re:b,im:p}=br.reim(l),g=BigInt(n);(p>ir&&p*sr/e!==g||p===ir&&b*sr/e!==g)&&(l=br.neg(l));const m=o.fromAffine({x:d,y:l});return m.assertValidity(),m}const Or=function(t){const{Fp:e,Fr:r,Fp2:n,Fp6:i,Fp12:o}=t.fields,s=Ze(t.G1),a=Object.assign(s,Be(s.Point,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),f=Ze(t.G2),c=Object.assign(f,Be(f.Point,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults})),u=function(t,e,r,n){const{Fp2:i,Fp12:o}=t,{twistType:s,ateLoopSize:a,xNegative:f,postPrecompute:c}=n;let u;if("multiplicative"===s)u=(t,e,r,n,s,a)=>o.mul014(n,t,i.mul(e,s),i.mul(r,a));else{if("divisive"!==s)throw new Error("bls: unknown twist type");u=(t,e,r,n,s,a)=>o.mul034(n,i.mul(r,a),i.mul(e,s),t)}const d=i.div(i.ONE,i.mul(i.ONE,ze));function h(t,e,r,n){const o=i.sqr(r),s=i.sqr(n),a=i.mulByB(i.mul(s,Ve)),f=i.mul(a,Ve),c=i.sub(i.sub(i.sqr(i.add(r,n)),s),o),u=i.sub(a,o),h=i.mul(i.sqr(e),Ve),l=i.neg(c);return t.push([u,h,l]),{Rx:e=i.mul(i.mul(i.mul(i.sub(o,f),e),r),d),Ry:r=i.sub(i.sqr(i.mul(i.add(o,f),d)),i.mul(i.sqr(a),Ve)),Rz:n=i.mul(o,c)}}function l(t,e,r,n,o,s){const a=i.sub(r,i.mul(s,n)),f=i.sub(e,i.mul(o,n)),c=i.sub(i.mul(a,o),i.mul(f,s)),u=i.neg(a),d=f;t.push([c,u,d]);const h=i.sqr(f),l=i.mul(h,f),b=i.mul(h,e),p=i.add(i.sub(l,i.mul(b,ze)),i.mul(i.sqr(a),n));return{Rx:e=i.mul(f,p),Ry:r=i.sub(i.mul(i.sub(b,p),a),i.mul(l,r)),Rz:n=i.mul(n,l)}}const b=function(t){const e=[];for(;t>qe;t>>=qe)(t&qe)===Ge?e.unshift(0):(t&Ve)===Ve?(e.unshift(-1),t+=qe):e.unshift(1);return e}(a),p=kt((t=>{const e=t,{x:r,y:n}=e.toAffine(),o=r,s=n,a=i.neg(n);let f=o,u=s,d=i.ONE;const p=[];for(const t of b){const e=[];({Rx:f,Ry:u,Rz:d}=h(e,f,u,d)),t&&({Rx:f,Ry:u,Rz:d}=l(e,f,u,d,o,-1===t?a:s)),p.push(e)}if(c){const t=p[p.length-1];c(f,u,d,o,s,l.bind(null,t))}return p}));function g(t,e=!1){let r=o.ONE;if(t.length){const e=t[0][0].length;for(let n=0;n<e;n++){r=o.sqr(r);for(const[e,i,o]of t)for(const[t,s,a]of e[n])r=u(t,s,a,r,i,o)}}return f&&(r=o.conjugate(r)),e?o.finalExponentiate(r):r}function m(t,n=!0){const i=[];be(e,t.map((({g1:t})=>t))),be(r,t.map((({g2:t})=>t)));for(const{g1:e,g2:r}of t){if(e.is0()||r.is0())throw new Error("pairing is not available for ZERO point");e.assertValidity(),r.assertValidity();const t=e.toAffine();i.push([p(r),t.x,t.y])}return g(i,n)}return{Fp12:o,millerLoopBatch:g,pairing:function(t,e,r=!0){return m([{g1:t,g2:e}],r)},pairingBatch:m,calcPairingPrecomputes:p}}(t.fields,a.Point,c.Point,{...t.params,postPrecompute:t.postPrecompute}),{millerLoopBatch:d,pairing:h,pairingBatch:l,calcPairingPrecomputes:b}=u,p=$e(u,a,c,t.G2.Signature,!1),g=$e(u,c,a,t.G1.ShortSignature,!0),m=t.randomBytes||pt,y=()=>{const t=ue(r.ORDER);return function(t,e,r=!1){const n=t.length,i=ce(e),o=ue(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=Xt(r?Mt(t):Ot(t),e-Kt)+Kt;return r?Lt(s,i):Pt(s,i)}(m(t),r.ORDER)},w={randomSecretKey:y,randomPrivateKey:y,calcPairingPrecomputes:b},{ShortSignature:v}=t.G1,{Signature:A}=t.G2;function E(t,e){return t instanceof a.Point?t:g.hash(Bt("point",t),e?.DST)}function _(t,e){return t instanceof c.Point?t:p.hash(Bt("point",t),e?.DST)}return a.Point.BASE.precompute(4),{longSignatures:p,shortSignatures:g,millerLoopBatch:d,pairing:h,pairingBatch:l,verifyBatch:function(t,e,r,n){const i=e.map((t=>_(t,n)));return p.verifyBatch(t,i,r)},fields:{Fr:r,Fp:e,Fp2:n,Fp6:i,Fp12:o},params:{ateLoopSize:t.params.ateLoopSize,twistType:t.params.twistType,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:w,getPublicKey:function(t){return p.getPublicKey(t).toBytes(!0)},getPublicKeyForShortSignatures:function(t){return g.getPublicKey(t).toBytes(!0)},sign:function(t,e,r){const n=_(t,r),i=p.sign(n,e);return t instanceof c.Point?i:A.toBytes(i)},signShortSignature:function(t,e,r){const n=E(t,r),i=g.sign(n,e);return t instanceof a.Point?i:v.toBytes(i)},verify:function(t,e,r,n){const i=_(e,n);return p.verify(t,i,r)},verifyShortSignature:function(t,e,r,n){const i=E(e,n);return g.verify(t,i,r)},aggregatePublicKeys:function(t){const e=p.aggregatePublicKeys(t);return t[0]instanceof a.Point?e:e.toBytes(!0)},aggregateSignatures:function(t){const e=p.aggregateSignatures(t);return t[0]instanceof c.Point?e:A.toBytes(e)},aggregateShortSignatures:function(t){const e=g.aggregateSignatures(t);return t[0]instanceof a.Point?e:v.toBytes(e)},G1:a,G2:c,Signature:A,ShortSignature:v}}({fields:{Fp:lr,Fp2:br,Fp6:pr,Fp12:gr,Fr:hr},G1:{...dr,Fp:lr,htfDefaults:{...wr,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new t(lr.mul(e.X,r),e.Y,e.Z);return e.multiplyUnsafe(cr).negate().multiplyUnsafe(cr).equals(n)},clearCofactor:(t,e)=>e.multiplyUnsafe(cr).add(e),mapToCurve:function(t){const{x:e,y:r}=Lr(lr.create(t[0]));return Pr(e,r)},fromBytes:function(t){const{compressed:e,infinity:r,sort:n,value:i}=Er(t),{BYTES:o,ORDER:s}=lr;if(48===i.length&&e){const t=Ot(i),e=lr.create(t&Ht(lr.BITS));if(r){if(e!==ir)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:ir,y:ir}}const o=lr.add(lr.pow(e,ar),lr.create(dr.b));let a=lr.sqrt(o);if(!a)throw new Error("invalid G1 point: compressed point");return a*sr/s!==BigInt(n)&&(a=lr.neg(a)),{x:lr.create(e),y:lr.create(a)}}if(96!==i.length||e)throw new Error("invalid G1 point: expected 48/96 bytes");{const t=Ot(i.subarray(0,o)),e=Ot(i.subarray(o));if(r){if(t!==ir||e!==ir)throw new Error("G1: non-empty point at infinity");return Or.G1.Point.ZERO.toAffine()}return{x:lr.create(t),y:lr.create(e)}}},toBytes:function(t,e,r){const{BYTES:n,ORDER:i}=lr,o=e.is0(),{x:s,y:a}=e.toAffine();if(r){if(o)return Ar.slice();const t=Boolean(a*sr/i);return _r(Pt(s,n),{compressed:!0,sort:t})}return o?ht(Uint8Array.of(64),new Uint8Array(2*n-1)):ht(Pt(s,n),Pt(a,n))},ShortSignature:{fromBytes:t=>(Q(t),Rr(t)),fromHex:t=>Rr(t),toBytes:t=>Sr(t),toRawBytes:t=>Sr(t),toHex:t=>st(Sr(t))}},G2:{...vr,Fp:br,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...wr},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:function(t){const{x:e,y:r}=Br(br.fromBigTuple(t));return Mr(e,r)},isTorsionFree:(t,e)=>e.multiplyUnsafe(cr).negate().equals(mr(t,e)),clearCofactor:(t,e)=>{const r=cr;let n=e.multiplyUnsafe(r).negate(),i=mr(t,e),o=e.double();return o=yr(t,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n),o.subtract(e)},fromBytes:function(t){const{BYTES:e,ORDER:r}=lr,{compressed:n,infinity:i,sort:o,value:s}=Er(t);if(!n&&!i&&o||!n&&i&&o||o&&i&&n)throw new Error("invalid encoding flag: "+(224&t[0]));const a=(t,e,r)=>Ot(t.slice(e,r));if(96===s.length&&n){if(i){if(s.reduce(((t,e)=>0!==t?e+1:e),0)>0)throw new Error("invalid G2 point: compressed");return{x:br.ZERO,y:br.ZERO}}const t=a(s,0,e),n=a(s,e,2*e),f=br.create({c0:lr.create(n),c1:lr.create(t)}),c=br.add(br.pow(f,ar),vr.b);let u=br.sqrt(c);const d=u.c1===ir?u.c0*sr/r:u.c1*sr/r?or:ir;return u=o&&d>0?u:br.neg(u),{x:f,y:u}}if(192!==s.length||n)throw new Error("invalid G2 point: expected 96/192 bytes");{if(i){if(s.reduce(((t,e)=>0!==t?e+1:e),0)>0)throw new Error("invalid G2 point: uncompressed");return{x:br.ZERO,y:br.ZERO}}const t=a(s,0*e,1*e),r=a(s,1*e,2*e),n=a(s,2*e,3*e),o=a(s,3*e,4*e);return{x:br.fromBigTuple([r,t]),y:br.fromBigTuple([o,n])}}},toBytes:function(t,e,r){const{BYTES:n,ORDER:i}=lr,o=e.is0(),{x:s,y:a}=e.toAffine();if(r){if(o)return ht(Ar,Pt(ir,n));const t=Boolean(a.c1===ir?a.c0*sr/i:a.c1*sr/i);return ht(_r(Pt(s.c1,n),{compressed:!0,sort:t}),Pt(s.c0,n))}{if(o)return ht(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:t,im:e}=br.reim(s),{re:r,im:i}=br.reim(a);return ht(Pt(e,n),Pt(t,n),Pt(i,n),Pt(r,n))}},Signature:{fromBytes:t=>(Q(t),Tr(t)),fromHex:t=>Tr(t),toBytes:t=>Ir(t),toRawBytes:t=>Ir(t),toHex:t=>st(Ir(t))}},params:{ateLoopSize:cr,r:dr.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:wr,hash:Et}),Mr=Pe(br,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map((t=>t.map((t=>br.fromBigTuple(t.map(BigInt))))))),Pr=Pe(lr,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map((t=>t.map((t=>BigInt(t)))))),Lr=Ke(lr,{A:lr.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:lr.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:lr.create(BigInt(11))}),Br=Ke(br,{A:br.create({c0:lr.create(ir),c1:lr.create(BigInt(240))}),B:br.create({c0:lr.create(BigInt(1012)),c1:lr.create(BigInt(1012))}),Z:br.create({c0:lr.create(BigInt(-2)),c1:lr.create(BigInt(-1))})});var xr;!function(t){t.TZ1="tz1",t.TZ2="tz2",t.TZ3="tz3",t.TZ4="tz4",t.KT="KT",t.KT1="KT1",t.EDSK="edsk",t.EDSK2="edsk2",t.SPSK="spsk",t.P2SK="p2sk",t.BLSK="BLsk",t.EDPK="edpk",t.SPPK="sppk",t.P2PK="p2pk",t.BLPK="BLpk",t.EDESK="edesk",t.SPESK="spesk",t.P2ESK="p2esk",t.BLESK="BLesk",t.EDSIG="edsig",t.SPSIG="spsig",t.P2SIG="p2sig",t.BLSIG="BLsig",t.SIG="sig",t.NET="Net",t.NCE="nce",t.B="B",t.O="o",t.LO="Lo",t.LLO="LLo",t.P="P",t.CO="Co",t.ID="id",t.EXPR="expr",t.TZ="TZ",t.VH="vh",t.SASK="sask",t.ZET1="zet1",t.SR1="sr1",t.SRC1="src1",t.SH="sh"}(xr||(xr={}));const Nr={[xr.TZ1]:new Uint8Array([6,161,159]),[xr.TZ2]:new Uint8Array([6,161,161]),[xr.TZ3]:new Uint8Array([6,161,164]),[xr.TZ4]:new Uint8Array([6,161,166]),[xr.KT]:new Uint8Array([2,90,121]),[xr.KT1]:new Uint8Array([2,90,121]),[xr.EDSK]:new Uint8Array([43,246,78,7]),[xr.EDSK2]:new Uint8Array([13,15,58,7]),[xr.SPSK]:new Uint8Array([17,162,224,201]),[xr.P2SK]:new Uint8Array([16,81,238,189]),[xr.BLSK]:new Uint8Array([3,150,192,40]),[xr.EDPK]:new Uint8Array([13,15,37,217]),[xr.SPPK]:new Uint8Array([3,254,226,86]),[xr.P2PK]:new Uint8Array([3,178,139,127]),[xr.BLPK]:new Uint8Array([6,149,135,204]),[xr.EDESK]:new Uint8Array([7,90,60,179,41]),[xr.SPESK]:new Uint8Array([9,237,241,174,150]),[xr.P2ESK]:new Uint8Array([9,48,57,115,171]),[xr.BLESK]:new Uint8Array([2,5,30,53,25]),[xr.EDSIG]:new Uint8Array([9,245,205,134,18]),[xr.SPSIG]:new Uint8Array([13,115,101,19,63]),[xr.P2SIG]:new Uint8Array([54,240,44,52]),[xr.BLSIG]:new Uint8Array([40,171,64,207]),[xr.SIG]:new Uint8Array([4,130,43]),[xr.NET]:new Uint8Array([87,82,0]),[xr.NCE]:new Uint8Array([69,220,169]),[xr.B]:new Uint8Array([1,52]),[xr.O]:new Uint8Array([5,116]),[xr.LO]:new Uint8Array([133,233]),[xr.LLO]:new Uint8Array([29,159,109]),[xr.P]:new Uint8Array([2,170]),[xr.CO]:new Uint8Array([79,179]),[xr.ID]:new Uint8Array([153,103]),[xr.EXPR]:new Uint8Array([13,44,64,27]),[xr.TZ]:new Uint8Array([2,90,121]),[xr.VH]:new Uint8Array([1,106,242]),[xr.SASK]:new Uint8Array([11,237,20,92]),[xr.ZET1]:new Uint8Array([18,71,40,223]),[xr.SR1]:new Uint8Array([6,124,117]),[xr.SRC1]:new Uint8Array([17,165,134,138]),[xr.SH]:new Uint8Array([2,116,180])},Ur={[xr.TZ1]:20,[xr.TZ2]:20,[xr.TZ3]:20,[xr.TZ4]:20,[xr.KT]:20,[xr.KT1]:20,[xr.EDPK]:32,[xr.SPPK]:33,[xr.P2PK]:33,[xr.BLPK]:48,[xr.EDSIG]:64,[xr.SPSIG]:64,[xr.P2SIG]:64,[xr.BLSIG]:96,[xr.SIG]:64,[xr.NET]:4,[xr.B]:32,[xr.P]:32,[xr.O]:32,[xr.VH]:32,[xr.SASK]:169,[xr.ZET1]:43,[xr.SR1]:20,[xr.SRC1]:32,[xr.SH]:48};var Hr;!function(t){t.BlockHash="B",t.OperationHash="o",t.OperationListHash="Lo",t.OperationListListHash="LLo",t.ProtocolHash="P",t.ContextHash="Co",t.BlockMetadataHash="bm",t.OperationMetadataHash="r",t.OperationMetadataListHash="Lr",t.OperationMetadataListListHash="LLr",t.Ed25519PublicKeyHash="tz1",t.Secp256k1PublicKeyHash="tz2",t.P256PublicKeyHash="tz3",t.ContractHash="KT1",t.BlindedPublicKeyHash="btz1",t.BLS12_381PublicKeyHash="tz4",t.TXRollupAddress="txr1",t.ZkRollupHash="epx1",t.ScRollupHash="scr1",t.SmartRollupHash="sr1",t.CryptoboxPublicKeyHash="id",t.Ed25519Seed="edsk",t.Ed25519PublicKey="edpk",t.Secp256k1SecretKey="spsk",t.P256SecretKey="p2sk",t.BLS12_381SecretKey="BLsk",t.ValueHash="vh",t.CycleNonce="nce",t.ScriptExpr="expr",t.InboxHash="txi",t.MessageHash="txm",t.CommitmentHash="txc",t.MessageResultHash="txmr",t.MessageResultListHash="txM",t.WithdrawListHash="txw",t.ScRollupStateHash="scs1",t.ScRollupCommitmentHash="scc1",t.SmartRollupStateHash="srs1",t.SmartRollupCommitmentHash="src1",t.Ed25519EncryptedSeed="edesk",t.Secp256k1EncryptedSecretKey="spesk",t.P256EncryptedSecretKey="p2esk",t.BLS12_381EncryptedSecretKey="BLesk",t.Secp256k1EncryptedScalar="seesk",t.Secp256k1PublicKey="sppk",t.P256PublicKey="p2pk",t.Secp256k1Scalar="SSp",t.Secp256k1Element="GSp",t.Ed25519SecretKey="_edsk",t.Ed25519Signature="edsig",t.Secp256k1Signature="spsig1",t.P256Signature="p2sig",t.GenericSignature="sig",t.ChainID="Net",t.SaplingSpendingKey="sask",t.EncryptedSaplingSpendingKey="_sask",t.SaplingAddress="zet1",t.GenericAggregateSignature="asig",t.BLS12_381Signature="BLsig",t.BLS12_381PublicKey="BLpk",t.SlotHeader="sh"}(Hr||(Hr={}));const Dr={[Hr.BlockHash]:new Uint8Array([1,52]),[Hr.OperationHash]:new Uint8Array([5,116]),[Hr.OperationListHash]:new Uint8Array([133,233]),[Hr.OperationListListHash]:new Uint8Array([29,159,109]),[Hr.ProtocolHash]:new Uint8Array([2,170]),[Hr.ContextHash]:new Uint8Array([79,199]),[Hr.BlockMetadataHash]:new Uint8Array([234,249]),[Hr.OperationMetadataHash]:new Uint8Array([5,183]),[Hr.OperationMetadataListHash]:new Uint8Array([134,39]),[Hr.OperationMetadataListListHash]:new Uint8Array([29,159,182]),[Hr.Ed25519PublicKeyHash]:new Uint8Array([6,161,159]),[Hr.Secp256k1PublicKeyHash]:new Uint8Array([6,161,161]),[Hr.P256PublicKeyHash]:new Uint8Array([6,161,164]),[Hr.ContractHash]:new Uint8Array([2,90,121]),[Hr.BlindedPublicKeyHash]:new Uint8Array([1,2,49,223]),[Hr.BLS12_381PublicKeyHash]:new Uint8Array([6,161,166]),[Hr.TXRollupAddress]:new Uint8Array([1,128,120,31]),[Hr.ZkRollupHash]:new Uint8Array([1,23,224,125]),[Hr.ScRollupHash]:new Uint8Array([1,118,132,217]),[Hr.SmartRollupHash]:new Uint8Array([6,124,117]),[Hr.CryptoboxPublicKeyHash]:new Uint8Array([153,103]),[Hr.Ed25519Seed]:new Uint8Array([13,15,58,7]),[Hr.Ed25519PublicKey]:new Uint8Array([13,15,37,217]),[Hr.Secp256k1SecretKey]:new Uint8Array([17,162,224,201]),[Hr.P256SecretKey]:new Uint8Array([16,81,238,189]),[Hr.BLS12_381SecretKey]:new Uint8Array([3,150,192,40]),[Hr.ValueHash]:new Uint8Array([1,106,242]),[Hr.CycleNonce]:new Uint8Array([69,220,169]),[Hr.ScriptExpr]:new Uint8Array([13,44,64,27]),[Hr.InboxHash]:new Uint8Array([79,148,196]),[Hr.MessageHash]:new Uint8Array([79,149,30]),[Hr.CommitmentHash]:new Uint8Array([79,148,17]),[Hr.MessageResultHash]:new Uint8Array([18,7,206,87]),[Hr.MessageResultListHash]:new Uint8Array([79,146,82]),[Hr.WithdrawListHash]:new Uint8Array([79,150,72]),[Hr.ScRollupStateHash]:new Uint8Array([17,144,122,202]),[Hr.ScRollupCommitmentHash]:new Uint8Array([17,144,21,100]),[Hr.SmartRollupStateHash]:new Uint8Array([17,165,235,240]),[Hr.SmartRollupCommitmentHash]:new Uint8Array([17,165,134,138]),[Hr.Ed25519EncryptedSeed]:new Uint8Array([7,90,60,179,41]),[Hr.Secp256k1EncryptedSecretKey]:new Uint8Array([9,237,241,174,150]),[Hr.P256EncryptedSecretKey]:new Uint8Array([9,48,57,115,171]),[Hr.BLS12_381EncryptedSecretKey]:new Uint8Array([2,5,30,53,25]),[Hr.Secp256k1EncryptedScalar]:new Uint8Array([1,131,36,86,248]),[Hr.Secp256k1PublicKey]:new Uint8Array([3,254,226,86]),[Hr.P256PublicKey]:new Uint8Array([3,178,139,127]),[Hr.Secp256k1Scalar]:new Uint8Array([38,248,136]),[Hr.Secp256k1Element]:new Uint8Array([5,92,0]),[Hr.Ed25519SecretKey]:new Uint8Array([43,246,78,7]),[Hr.Ed25519Signature]:new Uint8Array([9,245,205,134,18]),[Hr.Secp256k1Signature]:new Uint8Array([13,115,101,19,63]),[Hr.P256Signature]:new Uint8Array([54,240,44,52]),[Hr.GenericSignature]:new Uint8Array([4,130,43]),[Hr.ChainID]:new Uint8Array([87,82,0]),[Hr.SaplingSpendingKey]:new Uint8Array([11,237,20,92]),[Hr.EncryptedSaplingSpendingKey]:new Uint8Array([11,237,20,92]),[Hr.SaplingAddress]:new Uint8Array([18,71,40,223]),[Hr.GenericAggregateSignature]:new Uint8Array([2,75,234,101]),[Hr.BLS12_381Signature]:new Uint8Array([40,171,64,207]),[Hr.BLS12_381PublicKey]:new Uint8Array([6,149,135,204]),[Hr.SlotHeader]:new Uint8Array([2,116,180])},Cr={[Hr.BlockHash]:32,[Hr.OperationHash]:32,[Hr.OperationListHash]:32,[Hr.OperationListListHash]:32,[Hr.ProtocolHash]:32,[Hr.ContextHash]:32,[Hr.BlockMetadataHash]:32,[Hr.OperationMetadataHash]:32,[Hr.OperationMetadataListHash]:32,[Hr.OperationMetadataListListHash]:32,[Hr.Ed25519PublicKeyHash]:20,[Hr.Secp256k1PublicKeyHash]:20,[Hr.P256PublicKeyHash]:20,[Hr.ContractHash]:20,[Hr.BlindedPublicKeyHash]:20,[Hr.BLS12_381PublicKeyHash]:20,[Hr.TXRollupAddress]:20,[Hr.ZkRollupHash]:20,[Hr.ScRollupHash]:20,[Hr.SmartRollupHash]:20,[Hr.CryptoboxPublicKeyHash]:16,[Hr.Ed25519Seed]:32,[Hr.Ed25519PublicKey]:32,[Hr.Secp256k1SecretKey]:32,[Hr.P256SecretKey]:32,[Hr.BLS12_381SecretKey]:32,[Hr.ValueHash]:32,[Hr.CycleNonce]:32,[Hr.ScriptExpr]:32,[Hr.InboxHash]:32,[Hr.MessageHash]:32,[Hr.CommitmentHash]:32,[Hr.MessageResultHash]:32,[Hr.MessageResultListHash]:32,[Hr.WithdrawListHash]:32,[Hr.ScRollupStateHash]:32,[Hr.ScRollupCommitmentHash]:32,[Hr.SmartRollupStateHash]:32,[Hr.SmartRollupCommitmentHash]:32,[Hr.Ed25519EncryptedSeed]:56,[Hr.Secp256k1EncryptedSecretKey]:56,[Hr.P256EncryptedSecretKey]:56,[Hr.BLS12_381EncryptedSecretKey]:56,[Hr.Secp256k1EncryptedScalar]:60,[Hr.Secp256k1PublicKey]:33,[Hr.P256PublicKey]:33,[Hr.Secp256k1Scalar]:33,[Hr.Secp256k1Element]:33,[Hr.Ed25519SecretKey]:64,[Hr.Ed25519Signature]:64,[Hr.Secp256k1Signature]:64,[Hr.P256Signature]:64,[Hr.GenericSignature]:64,[Hr.ChainID]:4,[Hr.SaplingSpendingKey]:169,[Hr.EncryptedSaplingSpendingKey]:193,[Hr.SaplingAddress]:43,[Hr.GenericAggregateSignature]:96,[Hr.BLS12_381Signature]:96,[Hr.BLS12_381PublicKey]:48,[Hr.SlotHeader]:48};function kr(t){switch(t){case x.NO_PREFIX_MATCHED:return"with unsupported prefix";case x.INVALID_CHECKSUM:return"failed checksum";case x.INVALID_LENGTH:return"with incorrect length";default:return""}}Or.longSignatures;const Fr=[Hr.P256PublicKeyHash,Hr.Secp256k1PublicKeyHash,Hr.Ed25519PublicKeyHash,Hr.BLS12_381PublicKeyHash,Hr.ContractHash,Hr.SmartRollupHash],Kr=[Hr.P256PublicKey,Hr.Secp256k1PublicKey,Hr.Ed25519PublicKey,Hr.BLS12_381PublicKey],Zr=[Hr.P256PublicKeyHash,Hr.Secp256k1PublicKeyHash,Hr.Ed25519PublicKeyHash,Hr.BLS12_381PublicKeyHash],Gr=[Hr.P256Signature,Hr.Secp256k1Signature,Hr.Ed25519Signature,Hr.BLS12_381Signature,Hr.GenericSignature];function qr(t,e,r){const n=(()=>{try{return h().decode(t)}catch(t){throw t instanceof Error?t.message.includes("checksum")?new k(x.INVALID_CHECKSUM):new k(x.INVALID_ENCODING):t}})();let i;for(i in Hr){const t=Hr[i],o=Dr[t];if(n.length===o.length+Cr[t]&&n.slice(0,o.length).every(((t,e)=>t==o[e]))){if(void 0!==e&&e.indexOf(t)<0)throw new k(x.PREFIX_NOT_ALLOWED);return r?n.slice(o.length):[n.slice(o.length),t]}}throw new k(x.NO_PREFIX_MATCHED)}function zr(t,e){const r=t.indexOf("%");r>=0&&(t=t.slice(0,r));const[n,i]=qr(t,Fr),o=new Uint8Array(22);if(i===Hr.ContractHash||i===Hr.SmartRollupHash||i===Hr.ZkRollupHash){let t;switch(i){case Hr.ContractHash:t=1;break;case Hr.SmartRollupHash:t=3;break;case Hr.ZkRollupHash:t=4}o[0]=t,o.set(n,1)}else{let e;switch(i){case Hr.Ed25519PublicKeyHash:e=0;break;case Hr.Secp256k1PublicKeyHash:e=1;break;case Hr.P256PublicKeyHash:e=2;break;case Hr.BLS12_381PublicKeyHash:e=3;break;default:throw new K(t,x.NO_PREFIX_MATCHED)}o[0]=0,o[1]=e,o.set(n,2)}return void 0!==e&&"array"===e?o:jr(o)}function Vr(t){if((t=t.startsWith("0x")?t.slice(2):t).length%2!=0)throw new G(t,"Expecting even number of characters");if(!t.match(/^([\da-f]{2})*$/gi))throw new G(t,"Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");const e=new Uint8Array(t.length/2);let r=0;for(let n=0;n<t.length;n+=2){const i=t.slice(n,n+2),o=parseInt(i,16);if(Number.isNaN(o))throw new G(t,"Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");e[r++]=o}return e}function jr(t){return Array.from(t).map((t=>(t>>4&15).toString(16)+(15&t).toString(16))).join("")}class $r extends k{constructor(t,e){super(),this.operation=t,this.errorDetail=e,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",e&&(this.message+=` ${e}.`)}}class Yr extends k{constructor(t){super(),this.entrypoint=t,this.name="OversizedEntryPointError",this.message=`Invalid entrypoint length "${t.length}", maximum length is "31".`}}class Xr extends k{constructor(t){super(),this.ballotValue=t,this.name="InvalidBallotValueError",this.message=`Invalid ballot value "${t}" expecting one of the following: "yay", "nay", "pass".`}}class Wr extends k{constructor(t){super(),this.ballotValue=t,this.name="DecodeBallotValueError",this.message=`Invalid ballot value "${t}", cannot be decoded.`}}class Jr extends k{constructor(t){super(),this.value=t,this.name="UnexpectedMichelsonValueError",this.message=`Invalid Michelson value "${t}", unalbe to encode.`}}class Qr extends k{constructor(t){super(),this.message=t,this.name="OperationDecodingError"}}class tn extends k{constructor(t){super(),this.message=t,this.name="OperationEncodingError"}}class en extends k{constructor(t){super(),this.op=t,this.name="UnsupportedOperationError",this.message=`Unsupported operation "${t}", can submit an issue on our github for feature request.`}}class rn extends k{constructor(t){super(),this.pvm=t,this.name="UnsupportedPvmKindError",this.message=`Invalid Pvm kind "${t}" expecting either "arith" or "wasm_2_0_0".`}}class nn extends k{constructor(t){super(),this.pvm=t,this.name="DecodePvmKindError",this.message=`Invalid Pvm kind "${t}", cannot be decoded.`}}class on extends k{constructor(t,e){super(),this.address=t,this.errorDetail=e,this.name="InvalidSmartRollupAddress",this.message=`Invalid smart rollup address "${t}"`,e&&(this.message+=` ${e}.`)}}class sn extends k{constructor(t,e){super(),this.hash=t,this.errorDetail=e,this.name="InvalidSmartRollupCommitmentHashError",this.message=`Invalid smart rollup commitment hash "${t}"`,e&&(this.message+=` ${e}.`)}}class an extends k{constructor(t,e){super(),this.commitment=t,this.errorDetail=e,this.name="InvalidDalCommitmentError",this.message=`Invalid dal commitment "${t}"`,e&&(this.message+=` ${e}.`)}}class fn{static fromHexString(t){const e=t.toLowerCase();if(/^(([a-f]|\d){2})*$/.test(e)){const t=new Uint8Array((e.match(/([a-z]|\d){2}/g)||[]).map((t=>parseInt(t,16))));return new fn(t)}throw new G(e)}constructor(t,e=0){this.arr=t,this.offset=e}consume(t){const e=this.arr.subarray(this.offset,this.offset+t);return this.offset+=t,e}get(t){return this.arr[this.offset+t]}length(){return this.arr.length-this.offset}slice(t,e){return new fn(this.arr.slice(t,e))}}var cn=r(1048).hp;const un=t=>{if(Array.isArray(t)){const r=t.map((t=>un(t))).join(""),n=r.length/2;return`02${e(n)}${r}`}if((t=>"prim"in t)(t))return wn(t);if((t=>"bytes"in t&&"string"==typeof t.bytes)(t))return ln(t);if((t=>"string"in t&&"string"==typeof t.string)(t))return pn(t);if((t=>"int"in t&&"string"==typeof t.int)(t))return mn(t);throw new Jr(JSON.stringify(t))},dn=t=>{const e=t.consume(1);switch(e[0]){case 10:return bn(t);case 1:return gn(t);case 0:return yn(t);case 2:{const e=new fn(hn(t)),r=[];for(;e.length()>0;)r.push(dn(e));return r}default:return vn(t,e)}},hn=(t,e=4)=>{const r=t.consume(e),n=parseInt(cn.from(r).toString("hex"),16);return t.consume(n)},ln=t=>{if(!/^([A-Fa-f0-9]{2})*$/.test(t.bytes))throw new G(t.bytes);const r=t.bytes.length/2;return`0a${e(r)}${t.bytes}`},bn=t=>{const e=hn(t);return{bytes:cn.from(e).toString("hex")}},pn=t=>{const r=cn.from(t.string,"utf8").toString("hex"),n=r.length/2;return`01${e(n)}${r}`},gn=t=>{const e=hn(t);return{string:cn.from(e).toString("utf8")}},mn=({int:t})=>{const e=new L(t,10),r="-"===e.toString(2)[0]?"1":"0",n=e.toString(2).replace(/-/g,""),i=n.length<=6?6:(n.length-6)%7?n.length+7-(n.length-6)%7:n.length,o=n.padStart(i,"0").match(/\d{6,7}/g).reverse();return o[0]=r+o[0],`00${o.map(((t,e)=>parseInt((e===o.length-1?"0":"1")+t,2).toString(16).padStart(2,"0"))).join("")}`},yn=t=>{let e=t.consume(1)[0];const r=[];for(;128&e;)r.push(e),e=t.consume(1)[0];r.push(e);const n=!!(64&r[0]);r[0]=127&r[0];const i=r.map(((t,e)=>t.toString(2).slice(0===e?-6:-7).padStart(0===e?6:7,"0"))).reverse();let o=new L(i.join(""),2);return n&&(o=o.times(-1)),{int:o.toFixed()}},wn=t=>{const r=+Array.isArray(t.annots),n=Array.isArray(t.args)?t.args.length:0,i=e(Math.min(2*n+r+3,9),2),o=s[t.prim];let a=(t.args||[]).map((t=>un(t))).join("");const f=Array.isArray(t.annots)?_n(t.annots):"";return"LAMBDA"!==t.prim&&"LAMBDA_REC"!==t.prim||!n||(a=e(a.length/2)+a+e(0)),("pair"===t.prim||"Pair"===t.prim)&&n>2&&(a=""===f?e(a.length/2)+a+e(0):e(a.length/2)+a),"view"===t.prim&&t.args&&(a=e(a.length/2)+a+e(0)),`${i}${o}${a}${f}`},vn=(t,e)=>{const r=(e[0]-3)%2==1;let n=Math.floor((e[0]-3)/2);const i=t.consume(1)[0].toString(16).padStart(2,"0"),s={prim:o[i]};if("LAMBDA"!==o[i]&&"LAMBDA_REC"!==o[i]||t.consume(4),"view"===o[i])return 0!=n?An(t,s):s;let a,f;("pair"===o[i]||"Pair"===o[i])&&n>2&&(a=En(t),n=0,f=Sn(t));const c=new Array(n).fill(0).map((()=>dn(t)));return"LAMBDA"!==o[i]&&"LAMBDA_REC"!==o[i]||t.consume(4),a?s.args=a:c.length&&(s.args=c),f&&""!==f[0]?s.annots=f:r&&(s.annots=Sn(t)),s},An=(t,e)=>(t.consume(4),e.args=new Array(4).fill(0).map((()=>dn(t))),t.consume(4),e),En=t=>{const e=new fn(hn(t)),r=[];for(;e.length()>0;)r.push(dn(e));return r},_n=t=>{const r=t.map((t=>cn.from(t,"utf8").toString("hex"))).join("20"),n=r.length/2;return`${e(n)}${r}`},Sn=t=>{const e=t.consume(4),r=parseInt(cn.from(e).toString("hex"),16),n=t.consume(r);return cn.from(n).toString("hex").split("20").map((t=>cn.from(t,"hex").toString("utf8")))};var Rn=r(1048).hp;const In=t=>e=>{const[r]=qr(e,[t]);return jr(r)},Tn=t=>e=>function(t,e){const r="string"==typeof t?Vr(t):t,n=Dr[e],i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),h().encode(H()(i))}(e.consume(Cr[t]),t),On=Tn(Hr.Ed25519PublicKeyHash),Mn=Tn(Hr.BlockHash),Pn=t=>{const e=t.consume(1);return 0===e[0]?Tn(Hr.Ed25519PublicKeyHash)(t):1===e[0]?Tn(Hr.Secp256k1PublicKeyHash)(t):2===e[0]?Tn(Hr.P256PublicKeyHash)(t):3===e[0]?Tn(Hr.BLS12_381PublicKeyHash)(t):void 0},Ln=In(Hr.BlockHash),Bn=In(Hr.Ed25519PublicKeyHash),xn=t=>t?"ff":"00",Nn=t=>In(Hr.ProtocolHash)(t),Un=t=>Tn(Hr.ProtocolHash)(t),Hn=t=>255===t.consume(1)[0],Dn=t=>{try{return function(t){const[e,r]=qr(t,Zr),n=new Uint8Array(21);let i;switch(r){case Hr.Ed25519PublicKeyHash:i=0;break;case Hr.Secp256k1PublicKeyHash:i=1;break;case Hr.P256PublicKeyHash:i=2;break;case Hr.BLS12_381PublicKeyHash:i=3;break;default:throw new K(t,x.NO_PREFIX_MATCHED)}return n[0]=i,n.set(e,1),jr(n)}(t)}catch(e){throw new $(t,e instanceof k?e.result:void 0)}},Cn=t=>{const e=[];let r=new B(t,10);if(r.isNaN())throw new TypeError(`Invalid zarith number ${t}`);for(;;){if(r.lt(128)){r.lt(16)&&e.push("0"),e.push(r.toString(16));break}{let t=r.mod(128);r=r.minus(t),r=r.dividedBy(128),t=t.plus(128),e.push(t.toString(16))}}return e.join("")},kn=t=>{let e=0;for(;e<t.length()&&128&t.get(e);)e+=1;let r=new B(0);for(let n=e;n>=0;n-=1){const e=127&t.get(n);r=r.multipliedBy(128),r=r.plus(e)}return t.consume(e+1),new B(r).toString()},Fn=In(Hr.ValueHash),Kn=Tn(Hr.ValueHash),Zn=(t,r=8)=>`${e(t.length/2,r)}${t}`,Gn=t=>Tn(Hr.SlotHeader)(t),qn={branch:i.BRANCH,contents:[i.OPERATION]},zn={pkh:i.TZ1,secret:i.SECRET},Vn={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,public_key:i.PUBLIC_KEY,proof:i.SIGNATURE_PROOF},jn={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,delegate:i.DELEGATE},$n={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,amount:i.ZARITH,destination:i.ADDRESS,parameters:i.PARAMETERS},Yn={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,balance:i.ZARITH,delegate:i.DELEGATE,script:i.SCRIPT},Xn={source:i.PKH,period:i.INT32,proposal:i.PROPOSAL,ballot:i.BALLOT_STATEMENT},Wn={slot:i.INT16,level:i.INT32,round:i.INT32,block_payload_hash:i.BLOCK_PAYLOAD_HASH},Jn={slot:i.INT16,level:i.INT32,round:i.INT32,block_payload_hash:i.BLOCK_PAYLOAD_HASH,dal_attestation:i.ZARITH},Qn={level:i.INT32,nonce:i.RAW},ti={source:i.PKH,period:i.INT32,proposals:i.PROPOSAL_ARR},ei={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,value:i.VALUE},ri={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,ticket_contents:i.VALUE,ticket_ty:i.VALUE,ticket_ticketer:i.ADDRESS,ticket_amount:i.ZARITH,destination:i.ADDRESS,entrypoint:i.ENTRYPOINT},ni={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,amount:i.ZARITH,destination:i.SMART_CONTRACT_ADDRESS},ii={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,pk:i.PUBLIC_KEY,proof:i.SIGNATURE_PROOF},oi={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,pk:i.PUBLIC_KEY,proof:i.SIGNATURE_PROOF},si={consensus_key:i.PKH,delegate:i.PKH,destination:i.PKH},ai={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,limit:i.DEPOSITS_LIMIT},fi={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,pvm_kind:i.PVM_KIND,kernel:i.PADDED_BYTES,parameters_ty:i.VALUE,whitelist:i.PKH_ARR},ci={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,message:i.SMART_ROLLUP_MESSAGE},ui={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,rollup:i.SMART_ROLLUP_ADDRESS,cemented_commitment:i.SMART_ROLLUP_COMMITMENT_HASH,output_proof:i.PADDED_BYTES},di={source:i.PKH,fee:i.ZARITH,counter:i.ZARITH,gas_limit:i.ZARITH,storage_limit:i.ZARITH,slot_header:i.SLOT_HEADER},hi={arbitrary:i.PADDED_BYTES},li=t=>e=>r=>Object.keys(e).reduce(((n,i)=>{const o=e[i];if(r&&Array.isArray(o)){const e=t[o[0]],s=r[i];if(!Array.isArray(s))throw new tn(`Invalid operation value "${JSON.stringify(s)}" of key "${i}, expected value to be Array.`);return n+s.reduce(((t,r)=>t+e(r)),"")}return n+(0,t[o])(r[i])}),""),bi=t=>e=>r=>Object.keys(e).reduce(((n,i)=>{const o=e[i];if(Array.isArray(o)){const e=t[o[0]],s=[],a=r.length();for(;r.length()>0;)if(s.push(e(r)),a===r.length())throw new Qr("Unable to decode value");return Object.assign(Object.assign({},n),{[i]:s})}{const e=(0,t[o])(r);return void 0!==e?Object.assign(Object.assign({},n),{[i]:e}):Object.assign({},n)}}),{}),pi={[i.SECRET]:e=>t(e.consume(20)),[i.RAW]:e=>t(e.consume(32)),[i.TZ1]:On,[i.BRANCH]:Mn,[i.ZARITH]:kn,[i.PUBLIC_KEY]:t=>{switch(t.consume(1)[0]){case 0:return Tn(Hr.Ed25519PublicKey)(t);case 1:return Tn(Hr.Secp256k1PublicKey)(t);case 2:return Tn(Hr.P256PublicKey)(t);case 3:return Tn(Hr.BLS12_381PublicKey)(t);default:throw new z(void 0,x.NO_PREFIX_MATCHED)}},[i.PKH]:Pn,[i.PKH_ARR]:t=>{if(!Hn(t))return;const e=[];for(t.consume(4);t.length()>0;)e.push(Pn(t));return e},[i.DELEGATE]:t=>{if(Hn(t))return Pn(t)},[i.INT32]:t=>{const e=t.consume(4);let r=0;for(let t=0;t<e.length;t++)r|=e[t]<<8*(e.length-(t+1));return r},[i.SCRIPT]:t=>{const e=hn(t),r=hn(t);return{code:dn(new fn(e)),storage:dn(new fn(r))}},[i.BALLOT_STATEMENT]:t=>{const e=t.consume(1);switch(e[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new Wr(e[0].toString())}},[i.PROPOSAL]:Un,[i.PROPOSAL_ARR]:t=>{const e=[];for(t.consume(4);t.length()>0;)e.push(Un(t));return e},[i.PARAMETERS]:t=>{if(0!==t.consume(1)[0]){const r=(t=>{const r=e(t.consume(1)[0],2);if(r in c)return c[r];{const e=hn(t,1),r=Rn.from(e).toString("utf8");if(r.length>31)throw new Yr(r);return r}})(t),n=hn(t);return{entrypoint:r,value:dn(new fn(n))}}},[i.ADDRESS]:t=>{switch(t.consume(1)[0]){case 0:return Pn(t);case 1:{const e=Tn(Hr.ContractHash)(t);return t.consume(1),e}default:throw new K(t.toString(),": Unable to decode.")}},[i.SMART_ROLLUP_ADDRESS]:t=>Tn(Hr.SmartRollupHash)(t),[i.SMART_CONTRACT_ADDRESS]:t=>{if(1===t.consume(1)[0]){const e=Tn(Hr.ContractHash)(t);return t.consume(1),e}throw new j(t.toString(),x.NO_PREFIX_MATCHED)},[i.SMART_ROLLUP_COMMITMENT_HASH]:t=>Tn(Hr.SmartRollupCommitmentHash)(t),[i.VALUE]:t=>{const e=hn(t);return dn(new fn(e))},[i.INT16]:t=>{const e=t.consume(2);let r=0;for(let t=0;t<e.length;t++)r|=e[t]<<8*(e.length-(t+1));return r},[i.BLOCK_PAYLOAD_HASH]:Kn,[i.ENTRYPOINT]:t=>{const e=hn(t);return Rn.from(e).toString("utf8")},[i.BURN_LIMIT]:t=>{const e=t.consume(1);if("00"!==Rn.from(e).toString("hex"))return kn(t)},[i.DEPOSITS_LIMIT]:t=>{const e=t.consume(1);if("00"!==Rn.from(e).toString("hex"))return kn(t)},[i.SIGNATURE_PROOF]:t=>{if(Hn(t))return(t=>{if(t.consume(4),"96"===t.length().toString())return Tn(Hr.BLS12_381Signature)(t);throw new X("we only support decoding of BLSIG signatures")})(t)},[i.PVM_KIND]:t=>{const e=t.consume(1);switch(e[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new nn(e[0].toString())}},[i.PADDED_BYTES]:t=>{const e=hn(t);return Rn.from(e).toString("hex")},[i.SMART_ROLLUP_MESSAGE]:t=>{const e=hn(t);return((t,e=4)=>{const r=[];let n=t;for(;n.length();){const t=n.consume(e),i=parseInt(cn.from(t).toString("hex"),16);r.push(n.consume(i)),n=n.slice(i+e)}return r})(new fn(e)).map((t=>Rn.from(t).toString("hex")))},[i.SLOT_HEADER]:e=>{const r=e.consume(1);return{slot_index:Number(r[0].toString(10)),commitment:Gn(e),commitment_proof:t(e.consume(96))}}};var gi;pi[i.OPERATION]=(t=>e=>{const r=e.consume(1),n=a[r[0]];if(void 0===n)throw new en(r[0].toString());const i=t[n](e);if("object"!=typeof i)throw new Qr("Invalid operation, cannot be decoded.");return Object.assign({kind:n},i)})(pi),pi[i.OP_ACTIVATE_ACCOUNT]=t=>bi(pi)(zn)(t),pi[i.OP_FAILING_NOOP]=t=>bi(pi)(hi)(t),pi[i.OP_DELEGATION]=t=>bi(pi)(jn)(t),pi[i.OP_TRANSACTION]=t=>bi(pi)($n)(t),pi[i.OP_ORIGINATION]=t=>bi(pi)(Yn)(t),pi[i.OP_BALLOT]=t=>bi(pi)(Xn)(t),pi[i.OP_ATTESTATION]=t=>bi(pi)(Wn)(t),pi[i.OP_ATTESTATION_WITH_DAL]=t=>bi(pi)(Jn)(t),pi[i.OP_SEED_NONCE_REVELATION]=t=>bi(pi)(Qn)(t),pi[i.OP_PROPOSALS]=t=>bi(pi)(ti)(t),pi[i.OP_REVEAL]=t=>bi(pi)(Vn)(t),pi[i.OP_REGISTER_GLOBAL_CONSTANT]=t=>bi(pi)(ei)(t),pi[i.OP_TRANSFER_TICKET]=t=>bi(pi)(ri)(t),pi[i.OP_INCREASE_PAID_STORAGE]=t=>bi(pi)(ni)(t),pi[i.OP_UPDATE_CONSENSUS_KEY]=t=>bi(pi)(ii)(t),pi[i.OP_UPDATE_COMPANION_KEY]=t=>bi(pi)(oi)(t),pi[i.OP_DRAIN_DELEGATE]=t=>bi(pi)(si)(t),pi[i.OP_SMART_ROLLUP_ORIGINATE]=t=>bi(pi)(fi)(t),pi[i.OP_SMART_ROLLUP_ADD_MESSAGES]=t=>bi(pi)(ci)(t),pi[i.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=t=>bi(pi)(ui)(t),pi[i.OP_DAL_PUBLISH_COMMITMENT]=t=>bi(pi)(di)(t),pi[i.MANAGER]=bi(pi)(qn),pi[i.OP_SET_DEPOSITS_LIMIT]=t=>bi(pi)(ai)(t),function(t){t.SECRET="secret",t.RAW="raw",t.TZ1="tz1",t.BRANCH="branch",t.ZARITH="zarith",t.PUBLIC_KEY="public_key",t.PKH="pkh",t.PKH_ARR="pkhArr",t.DELEGATE="delegate",t.SCRIPT="script",t.BALLOT_STATEMENT="ballotStmt",t.PROPOSAL="proposal",t.PROPOSAL_ARR="proposalArr",t.INT32="int32",t.INT16="int16",t.PARAMETERS="parameters",t.ADDRESS="address",t.SMART_CONTRACT_ADDRESS="smart_contract_address",t.SMART_ROLLUP_ADDRESS="smart_rollup_address",t.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",t.VALUE="value",t.PADDED_BYTES="padded_bytes",t.SMART_ROLLUP_MESSAGE="smart_rollup_message",t.MANAGER="manager",t.BLOCK_PAYLOAD_HASH="blockPayloadHash",t.ENTRYPOINT="entrypoint",t.OPERATION="operation",t.OP_ACTIVATE_ACCOUNT="activate_account",t.OP_DELEGATION="delegation",t.OP_TRANSACTION="transaction",t.OP_ORIGINATION="origination",t.OP_BALLOT="ballot",t.OP_FAILING_NOOP="failing_noop",t.OP_ATTESTATION="attestation",t.OP_ATTESTATION_WITH_DAL="attestation_with_dal",t.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",t.OP_REVEAL="reveal",t.OP_PROPOSALS="proposals",t.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",t.OP_TRANSFER_TICKET="transfer_ticket",t.BURN_LIMIT="burn_limit",t.OP_INCREASE_PAID_STORAGE="increase_paid_storage",t.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",t.SIGNATURE_PROOF="signature_proof",t.OP_DRAIN_DELEGATE="drain_delegate",t.DEPOSITS_LIMIT="deposits_limit",t.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",t.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",t.PVM_KIND="pvm_kind",t.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",t.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",t.OP_DAL_PUBLISH_COMMITMENT="dal_publish_commitment",t.SLOT_HEADER="slot_header"}(gi||(gi={}));const mi={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT","9d":"Ticket"},yi=(()=>{const t={};return Object.keys(mi).forEach((e=>{t[mi[e]]=e})),t})(),wi={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",23:"attestation_with_dal",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",230:"dal_publish_commitment",17:"failing_noop"},vi=(()=>{const t={};return Object.keys(wi).forEach((r=>{const n="string"==typeof r?parseInt(r,10):r;t[wi[n]]=e(n,2)})),t})(),Ai={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},Ei=(()=>{const t={};return Object.keys(Ai).forEach((e=>{t[Ai[e]]=e})),t})();var _i=r(1048).hp;const Si=t=>{if(Array.isArray(t)){const r=t.map((t=>Si(t))).join(""),n=r.length/2;return`02${e(n)}${r}`}if((t=>"prim"in t)(t))return xi(t);if((t=>"bytes"in t&&"string"==typeof t.bytes)(t))return Ti(t);if((t=>"string"in t&&"string"==typeof t.string)(t))return Mi(t);if((t=>"int"in t&&"string"==typeof t.int)(t))return Li(t);throw new Jr(JSON.stringify(t))},Ri=t=>{const e=t.consume(1);switch(e[0]){case 10:return Oi(t);case 1:return Pi(t);case 0:return Bi(t);case 2:{const e=new fn(Ii(t)),r=[];for(;e.length()>0;)r.push(Ri(e));return r}default:return Ni(t,e)}},Ii=(t,e=4)=>{const r=t.consume(e),n=parseInt(_i.from(r).toString("hex"),16);return t.consume(n)},Ti=t=>{if(!/^([A-Fa-f0-9]{2})*$/.test(t.bytes))throw new G(t.bytes);const r=t.bytes.length/2;return`0a${e(r)}${t.bytes}`},Oi=t=>{const e=Ii(t);return{bytes:_i.from(e).toString("hex")}},Mi=t=>{const r=_i.from(t.string,"utf8").toString("hex"),n=r.length/2;return`01${e(n)}${r}`},Pi=t=>{const e=Ii(t);return{string:_i.from(e).toString("utf8")}},Li=({int:t})=>{const e=new L(t,10),r="-"===e.toString(2)[0]?"1":"0",n=e.toString(2).replace(/-/g,""),i=n.length<=6?6:(n.length-6)%7?n.length+7-(n.length-6)%7:n.length,o=n.padStart(i,"0").match(/\d{6,7}/g).reverse();return o[0]=r+o[0],`00${o.map(((t,e)=>parseInt((e===o.length-1?"0":"1")+t,2).toString(16).padStart(2,"0"))).join("")}`},Bi=t=>{let e=t.consume(1)[0];const r=[];for(;128&e;)r.push(e),e=t.consume(1)[0];r.push(e);const n=!!(64&r[0]);r[0]=127&r[0];const i=r.map(((t,e)=>t.toString(2).slice(0===e?-6:-7).padStart(0===e?6:7,"0"))).reverse();let o=new L(i.join(""),2);return n&&(o=o.times(-1)),{int:o.toFixed()}},xi=t=>{const r=+Array.isArray(t.annots),n=Array.isArray(t.args)?t.args.length:0,i=e(Math.min(2*n+r+3,9),2),o=yi[t.prim];let s=(t.args||[]).map((t=>Si(t))).join("");const a=Array.isArray(t.annots)?Di(t.annots):"";return"LAMBDA"!==t.prim&&"LAMBDA_REC"!==t.prim||!n||(s=e(s.length/2)+s+e(0)),("pair"===t.prim||"Pair"===t.prim)&&n>2&&(s=""===a?e(s.length/2)+s+e(0):e(s.length/2)+s),"view"===t.prim&&t.args&&(s=e(s.length/2)+s+e(0)),`${i}${o}${s}${a}`},Ni=(t,e)=>{const r=(e[0]-3)%2==1;let n=Math.floor((e[0]-3)/2);const i=t.consume(1)[0].toString(16).padStart(2,"0"),o={prim:mi[i]};if("LAMBDA"!==mi[i]&&"LAMBDA_REC"!==mi[i]||t.consume(4),"view"===mi[i])return 0!=n?Ui(t,o):o;let s,a;("pair"===mi[i]||"Pair"===mi[i])&&n>2&&(s=Hi(t),n=0,a=Ci(t));const f=new Array(n).fill(0).map((()=>Ri(t)));return"LAMBDA"!==mi[i]&&"LAMBDA_REC"!==mi[i]||t.consume(4),s?o.args=s:f.length&&(o.args=f),a&&""!==a[0]?o.annots=a:r&&(o.annots=Ci(t)),o},Ui=(t,e)=>(t.consume(4),e.args=new Array(4).fill(0).map((()=>Ri(t))),t.consume(4),e),Hi=t=>{const e=new fn(Ii(t)),r=[];for(;e.length()>0;)r.push(Ri(e));return r},Di=t=>{const r=t.map((t=>_i.from(t,"utf8").toString("hex"))).join("20"),n=r.length/2;return`${e(n)}${r}`},Ci=t=>{const e=t.consume(4),r=parseInt(_i.from(e).toString("hex"),16),n=t.consume(r);return _i.from(n).toString("hex").split("20").map((t=>_i.from(t,"hex").toString("utf8")))};var ki=r(1048).hp;const Fi=t=>e=>{return jr(ki.from((r=e,n=Nr[t],h().decode(r).slice(n.length))));var r,n},Ki=t=>e=>function(t,e){const r="string"==typeof t?Vr(t):t,n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),h().encode(H()(n))}(e.consume(Ur[t]),Nr[t]),Zi=Ki(xr.TZ1),Gi=Ki(xr.B),qi=t=>{const e=t.consume(1);return 0===e[0]?Ki(xr.TZ1)(t):1===e[0]?Ki(xr.TZ2)(t):2===e[0]?Ki(xr.TZ3)(t):3===e[0]?Ki(xr.TZ4)(t):void 0},zi=Fi(xr.B),Vi=Fi(xr.TZ1),ji=t=>t?"ff":"00",$i=t=>Fi(xr.P)(t),Yi=t=>Ki(xr.P)(t),Xi=t=>255===t.consume(1)[0],Wi=t=>{switch(t.substring(0,3)){case xr.TZ1:return"00"+Fi(xr.TZ1)(t);case xr.TZ2:return"01"+Fi(xr.TZ2)(t);case xr.TZ3:return"02"+Fi(xr.TZ3)(t);case xr.TZ4:return"03"+Fi(xr.TZ4)(t);default:throw new $(t,kr(x.NO_PREFIX_MATCHED)+` expecting one for the following "${xr.TZ1}", "${xr.TZ2}", "${xr.TZ3}" or "${xr.TZ4}".`)}},Ji=t=>{const e=[];let r=new B(t,10);if(r.isNaN())throw new TypeError(`Invalid zarith number ${t}`);for(;;){if(r.lt(128)){r.lt(16)&&e.push("0"),e.push(r.toString(16));break}{let t=r.mod(128);r=r.minus(t),r=r.dividedBy(128),t=t.plus(128),e.push(t.toString(16))}}return e.join("")},Qi=t=>{let e=0;for(;e<t.length()&&128&t.get(e);)e+=1;let r=new B(0);for(let n=e;n>=0;n-=1){const e=127&t.get(n);r=r.multipliedBy(128),r=r.plus(e)}return t.consume(e+1),new B(r).toString()},to=Fi(xr.VH),eo=Ki(xr.VH),ro=(t,r=8)=>`${e(t.length/2,r)}${t}`,no=t=>{const e=Ki(xr.SH)(t);if(e.substring(0,2)!==xr.SH)throw new an(e,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SH}'`);return e},io={branch:gi.BRANCH,contents:[gi.OPERATION]},oo={pkh:gi.TZ1,secret:gi.SECRET},so={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,public_key:gi.PUBLIC_KEY},ao={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,delegate:gi.DELEGATE},fo={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,amount:gi.ZARITH,destination:gi.ADDRESS,parameters:gi.PARAMETERS},co={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,balance:gi.ZARITH,delegate:gi.DELEGATE,script:gi.SCRIPT},uo={source:gi.PKH,period:gi.INT32,proposal:gi.PROPOSAL,ballot:gi.BALLOT_STATEMENT},ho={slot:gi.INT16,level:gi.INT32,round:gi.INT32,block_payload_hash:gi.BLOCK_PAYLOAD_HASH},lo={slot:gi.INT16,level:gi.INT32,round:gi.INT32,block_payload_hash:gi.BLOCK_PAYLOAD_HASH,dal_attestation:gi.ZARITH},bo={level:gi.INT32,nonce:gi.RAW},po={source:gi.PKH,period:gi.INT32,proposals:gi.PROPOSAL_ARR},go={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,value:gi.VALUE},mo={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,ticket_contents:gi.VALUE,ticket_ty:gi.VALUE,ticket_ticketer:gi.ADDRESS,ticket_amount:gi.ZARITH,destination:gi.ADDRESS,entrypoint:gi.ENTRYPOINT},yo={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,amount:gi.ZARITH,destination:gi.SMART_CONTRACT_ADDRESS},wo={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,pk:gi.PUBLIC_KEY,proof:gi.SIGNATURE_PROOF},vo={consensus_key:gi.PKH,delegate:gi.PKH,destination:gi.PKH},Ao={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,limit:gi.DEPOSITS_LIMIT},Eo={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,pvm_kind:gi.PVM_KIND,kernel:gi.PADDED_BYTES,parameters_ty:gi.VALUE,whitelist:gi.PKH_ARR},_o={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,message:gi.SMART_ROLLUP_MESSAGE},So={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,rollup:gi.SMART_ROLLUP_ADDRESS,cemented_commitment:gi.SMART_ROLLUP_COMMITMENT_HASH,output_proof:gi.PADDED_BYTES},Ro={source:gi.PKH,fee:gi.ZARITH,counter:gi.ZARITH,gas_limit:gi.ZARITH,storage_limit:gi.ZARITH,slot_header:gi.SLOT_HEADER},Io={arbitrary:gi.PADDED_BYTES},To=t=>e=>r=>Object.keys(e).reduce(((n,i)=>{const o=e[i];if(r&&Array.isArray(o)){const e=t[o[0]],s=r[i];if(!Array.isArray(s))throw new tn(`Invalid operation value "${JSON.stringify(s)}" of key "${i}, expected value to be Array.`);return n+s.reduce(((t,r)=>t+e(r)),"")}return n+(0,t[o])(r[i])}),""),Oo=t=>e=>r=>Object.keys(e).reduce(((n,i)=>{const o=e[i];if(Array.isArray(o)){const e=t[o[0]],s=[],a=r.length();for(;r.length()>0;)if(s.push(e(r)),a===r.length())throw new Qr("Unable to decode value");return Object.assign(Object.assign({},n),{[i]:s})}{const e=(0,t[o])(r);return void 0!==e?Object.assign(Object.assign({},n),{[i]:e}):Object.assign({},n)}}),{}),Mo={[gi.SECRET]:e=>t(e.consume(20)),[gi.RAW]:e=>t(e.consume(32)),[gi.TZ1]:Zi,[gi.BRANCH]:Gi,[gi.ZARITH]:Qi,[gi.PUBLIC_KEY]:t=>{switch(t.consume(1)[0]){case 0:return Ki(xr.EDPK)(t);case 1:return Ki(xr.SPPK)(t);case 2:return Ki(xr.P2PK)(t);case 3:return Ki(xr.BLPK)(t);default:throw new z(t.toString(),kr(x.NO_PREFIX_MATCHED))}},[gi.PKH]:qi,[gi.PKH_ARR]:t=>{if(!Xi(t))return;const e=[];for(t.consume(4);t.length()>0;)e.push(qi(t));return e},[gi.DELEGATE]:t=>{if(Xi(t))return qi(t)},[gi.INT32]:t=>{const e=t.consume(4);let r=0;for(let t=0;t<e.length;t++)r|=e[t]<<8*(e.length-(t+1));return r},[gi.SCRIPT]:t=>{const e=Ii(t),r=Ii(t);return{code:Ri(new fn(e)),storage:Ri(new fn(r))}},[gi.BALLOT_STATEMENT]:t=>{const e=t.consume(1);switch(e[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new Wr(e[0].toString())}},[gi.PROPOSAL]:Yi,[gi.PROPOSAL_ARR]:t=>{const e=[];for(t.consume(4);t.length()>0;)e.push(Yi(t));return e},[gi.PARAMETERS]:t=>{if(0!==t.consume(1)[0]){const r=(t=>{const r=e(t.consume(1)[0],2);if(r in Ai)return Ai[r];{const e=Ii(t,1),r=ki.from(e).toString("utf8");if(r.length>31)throw new Yr(r);return r}})(t),n=Ii(t);return{entrypoint:r,value:Ri(new fn(n))}}},[gi.ADDRESS]:t=>{switch(t.consume(1)[0]){case 0:return qi(t);case 1:{const e=Ki(xr.KT1)(t);return t.consume(1),e}default:throw new K(t.toString(),": Unable to decode.")}},[gi.SMART_ROLLUP_ADDRESS]:t=>{const e=Ki(xr.SR1)(t);if(e.substring(0,3)!==xr.SR1)throw new on(e,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SR1}'.`);return e},[gi.SMART_CONTRACT_ADDRESS]:t=>{if(1===t.consume(1)[0]){const e=Ki(xr.KT1)(t);return t.consume(1),e}throw new j(t.toString(),kr(x.NO_PREFIX_MATCHED))},[gi.SMART_ROLLUP_COMMITMENT_HASH]:t=>{const e=Ki(xr.SRC1)(t);if(e.substring(0,4)!==xr.SRC1)throw new sn(e,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SRC1}'`);return e},[gi.VALUE]:t=>{const e=Ii(t);return Ri(new fn(e))},[gi.INT16]:t=>{const e=t.consume(2);let r=0;for(let t=0;t<e.length;t++)r|=e[t]<<8*(e.length-(t+1));return r},[gi.BLOCK_PAYLOAD_HASH]:eo,[gi.ENTRYPOINT]:t=>{const e=Ii(t);return ki.from(e).toString("utf8")},[gi.BURN_LIMIT]:t=>{const e=t.consume(1);if("00"!==ki.from(e).toString("hex"))return Qi(t)},[gi.DEPOSITS_LIMIT]:t=>{const e=t.consume(1);if("00"!==ki.from(e).toString("hex"))return Qi(t)},[gi.SIGNATURE_PROOF]:t=>{if(Xi(t))return(t=>{if(t.consume(4),"96"===t.length().toString())return Ki(xr.BLSIG)(t);throw new X("currently we only support decoding of BLSIG signatures")})(t)},[gi.PVM_KIND]:t=>{const e=t.consume(1);switch(e[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new nn(e[0].toString())}},[gi.PADDED_BYTES]:t=>{const e=Ii(t);return ki.from(e).toString("hex")},[gi.SMART_ROLLUP_MESSAGE]:t=>{const e=Ii(t);return((t,e=4)=>{const r=[];let n=t;for(;n.length();){const t=n.consume(e),i=parseInt(_i.from(t).toString("hex"),16);r.push(n.consume(i)),n=n.slice(i+e)}return r})(new fn(e)).map((t=>ki.from(t).toString("hex")))},[gi.SLOT_HEADER]:e=>{const r=e.consume(1);return{slot_index:Number(r[0].toString(10)),commitment:no(e),commitment_proof:t(e.consume(96))}}};Mo[gi.OPERATION]=(t=>e=>{const r=e.consume(1),n=wi[r[0]];if(void 0===n)throw new en(r[0].toString());const i=t[n](e);if("object"!=typeof i)throw new Qr("Invalid operation, cannot be decoded.");return Object.assign({kind:n},i)})(Mo),Mo[gi.OP_ACTIVATE_ACCOUNT]=t=>Oo(Mo)(oo)(t),Mo[gi.OP_FAILING_NOOP]=t=>Oo(Mo)(Io)(t),Mo[gi.OP_DELEGATION]=t=>Oo(Mo)(ao)(t),Mo[gi.OP_TRANSACTION]=t=>Oo(Mo)(fo)(t),Mo[gi.OP_ORIGINATION]=t=>Oo(Mo)(co)(t),Mo[gi.OP_BALLOT]=t=>Oo(Mo)(uo)(t),Mo[gi.OP_ATTESTATION]=t=>Oo(Mo)(ho)(t),Mo[gi.OP_ATTESTATION_WITH_DAL]=t=>Oo(Mo)(lo)(t),Mo[gi.OP_SEED_NONCE_REVELATION]=t=>Oo(Mo)(bo)(t),Mo[gi.OP_PROPOSALS]=t=>Oo(Mo)(po)(t),Mo[gi.OP_REVEAL]=t=>Oo(Mo)(so)(t),Mo[gi.OP_REGISTER_GLOBAL_CONSTANT]=t=>Oo(Mo)(go)(t),Mo[gi.OP_TRANSFER_TICKET]=t=>Oo(Mo)(mo)(t),Mo[gi.OP_INCREASE_PAID_STORAGE]=t=>Oo(Mo)(yo)(t),Mo[gi.OP_UPDATE_CONSENSUS_KEY]=t=>Oo(Mo)(wo)(t),Mo[gi.OP_DRAIN_DELEGATE]=t=>Oo(Mo)(vo)(t),Mo[gi.OP_SMART_ROLLUP_ORIGINATE]=t=>Oo(Mo)(Eo)(t),Mo[gi.OP_SMART_ROLLUP_ADD_MESSAGES]=t=>Oo(Mo)(_o)(t),Mo[gi.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=t=>Oo(Mo)(So)(t),Mo[gi.OP_DAL_PUBLISH_COMMITMENT]=t=>Oo(Mo)(Ro)(t),Mo[gi.MANAGER]=Oo(Mo)(io),Mo[gi.OP_SET_DEPOSITS_LIMIT]=t=>Oo(Mo)(Ao)(t);const Po={[i.SECRET]:t=>t,[i.RAW]:t=>t,[i.TZ1]:Bn,[i.BRANCH]:Ln,[i.ZARITH]:Cn,[i.PUBLIC_KEY]:t=>{try{return function(t){const[e,r]=qr(t,Kr);let n;switch(r){case Hr.Ed25519PublicKey:n=0;break;case Hr.Secp256k1PublicKey:n=1;break;case Hr.P256PublicKey:n=2;break;case Hr.BLS12_381PublicKey:n=3;break;default:throw new q(x.NO_PREFIX_MATCHED)}const i=new Uint8Array(e.length+1);return i[0]=n,i.set(e,1),jr(i)}(t)}catch(e){throw new z(t,e instanceof k?e.result:void 0)}},[i.PKH]:Dn,[i.PKH_ARR]:t=>{if(!t)return xn(!1);if(0===t.length)return xn(!0)+e(0);const r=t.reduce(((t,e)=>t+Dn(e)),"");return xn(!0)+e(r.length/2)+r},[i.DELEGATE]:t=>t?xn(!0)+Dn(t):xn(!1),[i.SCRIPT]:t=>{const r=un(t.code),n=un(t.storage);return`${e(r.length/2,8)}${r}${e(n.length/2,8)}${n}`},[i.BALLOT_STATEMENT]:t=>{switch(t){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new Xr(t)}},[i.PROPOSAL]:Nn,[i.PROPOSAL_ARR]:t=>e(32*t.length)+t.map((t=>Nn(t))).join(""),[i.INT32]:t=>{const e=parseInt(String(t),10),r=[];for(let t=0;t<4;t++){const n=8*(4-(t+1));r.push((e&255<<n)>>n)}return Rn.from(r).toString("hex")},[i.PARAMETERS]:t=>{if(!t||"default"===t.entrypoint&&"prim"in t.value&&"Unit"===t.value.prim)return"00";const r=(t=>{if(t in u)return`${u[t]}`;if(t.length>31)throw new Yr(t);return`ff${un({string:t}).slice(8)}`})(t.entrypoint),n=un(t.value);return`ff${r}${e(n.length/2)}${n}`},[i.ADDRESS]:t=>zr(t),[i.SMART_ROLLUP_ADDRESS]:t=>{try{return In(Hr.SmartRollupHash)(t)}catch(e){throw e instanceof k?new on(t):e}},[i.SMART_CONTRACT_ADDRESS]:t=>zr(t),[i.SMART_ROLLUP_COMMITMENT_HASH]:t=>{try{return In(Hr.SmartRollupCommitmentHash)(t)}catch(e){throw e instanceof k?new sn(t):e}},[i.VALUE]:t=>{const r=un(t);return`${e(r.length/2)}${r}`},[i.INT16]:t=>{const e=parseInt(String(t),10),r=[];for(let t=0;t<2;t++){const n=8*(2-(t+1));r.push((e&255<<n)>>n)}return Rn.from(r).toString("hex")},[i.BLOCK_PAYLOAD_HASH]:Fn,[i.ENTRYPOINT]:t=>`${un({string:t}).slice(2)}`,[i.BURN_LIMIT]:t=>t?`ff${Cn(t)}`:"00",[i.DEPOSITS_LIMIT]:t=>t?`ff${Cn(t)}`:"00",[i.SIGNATURE_PROOF]:t=>t?xn(!0)+(t=>{try{const[e,r]=qr(t,Gr);if(r===Hr.BLS12_381Signature)return Zn(jr(e));throw new X("we only support encoding of BLSIG signatures from protocol Seoul")}catch(e){throw e instanceof k?new V(t,e.result):e}})(t):xn(!1),[i.PVM_KIND]:t=>{switch(t){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new rn(t)}},[i.PADDED_BYTES]:Zn,[i.SMART_ROLLUP_MESSAGE]:t=>{const r=t.reduce(((t,r)=>t+`${e(r.length/2)}${r}`),"");return`${e(r.length/2)}${r}`},[i.SLOT_HEADER]:t=>e(t.slot_index,2)+(t=>{try{return In(Hr.SlotHeader)(t)}catch(e){throw e instanceof k?new an(t):e}})(t.commitment)+t.commitment_proof};Po[i.OPERATION]=(t=>e=>{if(!(e.kind in t)||!(e.kind in f))throw new Y(e.kind);return f[e.kind]+t[e.kind](e)})(Po),Po[i.OP_ACTIVATE_ACCOUNT]=t=>li(Po)(zn)(t),Po[i.OP_DELEGATION]=t=>li(Po)(jn)(t),Po[i.OP_TRANSACTION]=t=>li(Po)($n)(t),Po[i.OP_ORIGINATION]=t=>li(Po)(Yn)(t),Po[i.OP_BALLOT]=t=>li(Po)(Xn)(t),Po[i.OP_ATTESTATION]=t=>li(Po)(Wn)(t),Po[i.OP_ATTESTATION_WITH_DAL]=t=>li(Po)(Jn)(t),Po[i.OP_SEED_NONCE_REVELATION]=t=>li(Po)(Qn)(t),Po[i.OP_PROPOSALS]=t=>li(Po)(ti)(t),Po[i.OP_REVEAL]=t=>li(Po)(Vn)(t),Po[i.OP_REGISTER_GLOBAL_CONSTANT]=t=>li(Po)(ei)(t),Po[i.OP_TRANSFER_TICKET]=t=>li(Po)(ri)(t),Po[i.OP_INCREASE_PAID_STORAGE]=t=>li(Po)(ni)(t),Po[i.OP_UPDATE_CONSENSUS_KEY]=t=>li(Po)(ii)(t),Po[i.OP_UPDATE_COMPANION_KEY]=t=>li(Po)(oi)(t),Po[i.OP_DRAIN_DELEGATE]=t=>li(Po)(si)(t),Po[i.OP_SMART_ROLLUP_ORIGINATE]=t=>li(Po)(fi)(t),Po[i.OP_SMART_ROLLUP_ADD_MESSAGES]=t=>li(Po)(ci)(t),Po[i.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=t=>li(Po)(ui)(t),Po[i.OP_DAL_PUBLISH_COMMITMENT]=t=>li(Po)(di)(t),Po[i.MANAGER]=li(Po)(qn),Po[i.OP_SET_DEPOSITS_LIMIT]=t=>li(Po)(ai)(t),Po[i.OP_FAILING_NOOP]=t=>li(Po)(hi)(t);const Lo={[gi.SECRET]:t=>t,[gi.RAW]:t=>t,[gi.TZ1]:Vi,[gi.BRANCH]:zi,[gi.ZARITH]:Ji,[gi.PUBLIC_KEY]:t=>{switch(t.substring(0,4)){case xr.EDPK:return"00"+Fi(xr.EDPK)(t);case xr.SPPK:return"01"+Fi(xr.SPPK)(t);case xr.P2PK:return"02"+Fi(xr.P2PK)(t);case xr.BLPK:return"03"+Fi(xr.BLPK)(t);default:throw new z(t,kr(x.NO_PREFIX_MATCHED)+` expecting one of the following '${xr.EDPK}', '${xr.SPPK}', '${xr.P2PK}' or '${xr.BLPK}'.`)}},[gi.PKH]:Wi,[gi.PKH_ARR]:t=>{if(!t)return ji(!1);if(0===t.length)return ji(!0)+e(0);const r=t.reduce(((t,e)=>t+Wi(e)),"");return ji(!0)+e(r.length/2)+r},[gi.DELEGATE]:t=>t?ji(!0)+Wi(t):ji(!1),[gi.SCRIPT]:t=>{const r=Si(t.code),n=Si(t.storage);return`${e(r.length/2,8)}${r}${e(n.length/2,8)}${n}`},[gi.BALLOT_STATEMENT]:t=>{switch(t){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new Xr(t)}},[gi.PROPOSAL]:$i,[gi.PROPOSAL_ARR]:t=>e(32*t.length)+t.map((t=>$i(t))).join(""),[gi.INT32]:t=>{const e=parseInt(String(t),10),r=[];for(let t=0;t<4;t++){const n=8*(4-(t+1));r.push((e&255<<n)>>n)}return ki.from(r).toString("hex")},[gi.PARAMETERS]:t=>{if(!t||"default"===t.entrypoint&&"prim"in t.value&&"Unit"===t.value.prim)return"00";const r=(t=>{if(t in Ei)return`${Ei[t]}`;if(t.length>31)throw new Yr(t);return`ff${Si({string:t}).slice(8)}`})(t.entrypoint),n=Si(t.value);return`ff${r}${e(n.length/2)}${n}`},[gi.ADDRESS]:t=>{switch(t.substring(0,3)){case xr.TZ1:case xr.TZ2:case xr.TZ3:case xr.TZ4:return"00"+Wi(t);case xr.KT1:return"01"+Fi(xr.KT1)(t)+"00";default:throw new K(t,kr(x.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${xr.TZ1}', ${xr.TZ2}', '${xr.TZ3}', '${xr.TZ4}' or '${xr.KT1}'.`)}},[gi.SMART_ROLLUP_ADDRESS]:t=>{if(t.substring(0,3)!==xr.SR1)throw new on(t,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SR1}'.`);return Fi(xr.SR1)(t)},[gi.SMART_CONTRACT_ADDRESS]:t=>{if(t.substring(0,3)===xr.KT1)return"01"+Fi(xr.KT1)(t)+"00";throw new j(t,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.KT1}'.`)},[gi.SMART_ROLLUP_COMMITMENT_HASH]:t=>{if(t.substring(0,4)===xr.SRC1)return Fi(xr.SRC1)(t);throw new sn(t,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SRC1}'`)},[gi.VALUE]:t=>{const r=Si(t);return`${e(r.length/2)}${r}`},[gi.INT16]:t=>{const e=parseInt(String(t),10),r=[];for(let t=0;t<2;t++){const n=8*(2-(t+1));r.push((e&255<<n)>>n)}return ki.from(r).toString("hex")},[gi.BLOCK_PAYLOAD_HASH]:to,[gi.ENTRYPOINT]:t=>`${Si({string:t}).slice(2)}`,[gi.BURN_LIMIT]:t=>t?`ff${Ji(t)}`:"00",[gi.DEPOSITS_LIMIT]:t=>t?`ff${Ji(t)}`:"00",[gi.SIGNATURE_PROOF]:t=>t?ji(!0)+(t=>{switch(t.substring(0,5)){case xr.EDSIG:return ro(Fi(xr.EDSIG)(t));case xr.SPSIG:return ro(Fi(xr.SPSIG)(t));case xr.P2SIG:return ro(Fi(xr.P2SIG)(t));case xr.BLSIG:return ro(Fi(xr.BLSIG)(t));default:throw new V(t,kr(x.NO_PREFIX_MATCHED)+` expecting one of the following '${xr.EDSIG}', '${xr.SPSIG}', '${xr.P2SIG}' or '${xr.BLSIG}'.`)}})(t):ji(!1),[gi.PVM_KIND]:t=>{switch(t){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new rn(t)}},[gi.PADDED_BYTES]:ro,[gi.SMART_ROLLUP_MESSAGE]:t=>{const r=t.reduce(((t,r)=>t+`${e(r.length/2)}${r}`),"");return`${e(r.length/2)}${r}`},[gi.SLOT_HEADER]:t=>e(t.slot_index,2)+(t=>{if(t.substring(0,2)===xr.SH)return Fi(xr.SH)(t);throw new an(t,kr(x.NO_PREFIX_MATCHED)+` expecting prefix '${xr.SH}'`)})(t.commitment)+t.commitment_proof};Lo[gi.OPERATION]=(t=>e=>{if(!(e.kind in t)||!(e.kind in vi))throw new Y(e.kind);return vi[e.kind]+t[e.kind](e)})(Lo),Lo[gi.OP_ACTIVATE_ACCOUNT]=t=>To(Lo)(oo)(t),Lo[gi.OP_DELEGATION]=t=>To(Lo)(ao)(t),Lo[gi.OP_TRANSACTION]=t=>To(Lo)(fo)(t),Lo[gi.OP_ORIGINATION]=t=>To(Lo)(co)(t),Lo[gi.OP_BALLOT]=t=>To(Lo)(uo)(t),Lo[gi.OP_ATTESTATION]=t=>To(Lo)(ho)(t),Lo[gi.OP_ATTESTATION_WITH_DAL]=t=>To(Lo)(lo)(t),Lo[gi.OP_SEED_NONCE_REVELATION]=t=>To(Lo)(bo)(t),Lo[gi.OP_PROPOSALS]=t=>To(Lo)(po)(t),Lo[gi.OP_REVEAL]=t=>To(Lo)(so)(t),Lo[gi.OP_REGISTER_GLOBAL_CONSTANT]=t=>To(Lo)(go)(t),Lo[gi.OP_TRANSFER_TICKET]=t=>To(Lo)(mo)(t),Lo[gi.OP_INCREASE_PAID_STORAGE]=t=>To(Lo)(yo)(t),Lo[gi.OP_UPDATE_CONSENSUS_KEY]=t=>To(Lo)(wo)(t),Lo[gi.OP_DRAIN_DELEGATE]=t=>To(Lo)(vo)(t),Lo[gi.OP_SMART_ROLLUP_ORIGINATE]=t=>To(Lo)(Eo)(t),Lo[gi.OP_SMART_ROLLUP_ADD_MESSAGES]=t=>To(Lo)(_o)(t),Lo[gi.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=t=>To(Lo)(So)(t),Lo[gi.OP_DAL_PUBLISH_COMMITMENT]=t=>To(Lo)(Ro)(t),Lo[gi.MANAGER]=To(Lo)(io),Lo[gi.OP_SET_DEPOSITS_LIMIT]=t=>To(Lo)(Ao)(t),Lo[gi.OP_FAILING_NOOP]=t=>To(Lo)(Io)(t);const Bo={activate_account:zn,reveal:Vn,delegation:jn,transaction:$n,origination:Yn,ballot:Xn,attestation:Wn,attestation_with_dal:Jn,seed_nonce_revelation:Qn,proposals:ti,register_global_constant:ei,transfer_ticket:ri,increase_paid_storage:ni,update_consensus_key:ii,update_companion_key:oi,drain_delegate:si,set_deposits_limit:ai,smart_rollup_originate:fi,smart_rollup_add_messages:ci,smart_rollup_execute_outbox_message:ui,dal_publish_commitment:di,failing_noop:hi},xo=t=>{const e=t.kind,r=Object.keys(t),n=r.filter((t=>"kind"!==t));const i=Object.keys(Bo[e]);return o=n,i.filter((t=>!o.includes(t)));var o};var No;!function(t){t.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",t.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",t.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",t.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",t.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",t.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",t.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",t.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",t.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",t.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",t.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",t.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",t.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",t.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",t.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",t.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",t.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",t.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",t.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",t.PsQuebecn="PsQuebecnLByd3JwTiGadoG4nGWi3HYiLXUjkibeFV8dCFeVMUg",t.PsRiotuma="PsRiotumaAMotcRoDWW1bysEhQy2n1M5fy8JgRp8jjRfHGmfeA7",t.PtSeouLou="PtSeouLouXkxhg39oWzjxDWaCydNfR3RxCUrNe4Q9Ro8BTehcbh",t.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"}(No||(No={}));const Uo={Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg:14,PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW:15,PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc:16,PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1:16,PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf:17,ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH:19,PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ:20,PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi:20,PsQuebecnLByd3JwTiGadoG4nGWi3HYiLXUjkibeFV8dCFeVMUg:21,PsRiotumaAMotcRoDWW1bysEhQy2n1M5fy8JgRp8jjRfHGmfeA7:22,PtSeouLouXkxhg39oWzjxDWaCydNfR3RxCUrNe4Q9Ro8BTehcbh:23,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:23},Ho={commitHash:"c26a3d67ae3694c157f4f56fb5bf85ca3c495a9b",version:"23.0.1"};void 0===globalThis.TextEncoder&&(globalThis.TextEncoder=TextEncoder),void 0===globalThis.TextDecoder&&(globalThis.TextDecoder=TextDecoder);const Do=No.PtSeouLou;function Co(t,e){return e===No.PsRiotuma||(r=e,n=No.PsRiotuma,Uo[r]<Uo[n])?{encoder:Lo[t],decoder:e=>{const r=fn.fromHexString(e);return Mo[t](r)}}:{encoder:Po[t],decoder:e=>{const r=fn.fromHexString(e);return pi[t](r)}};var r,n}class ko{constructor(t=Do){this.protocolHash=t,this.codec=Co(i.MANAGER,this.protocolHash)}forge(t){const e=function(t,e){try{qr(t,e)}catch(t){return t instanceof k&&void 0!==t.result?t.result:x.OTHER}return x.VALID}(t.branch,[Hr.BlockHash]);var r;if(e!==x.VALID)throw new Z(t.branch,e);for(const e of t.contents){if(r=e.kind,!Object.keys(Bo).includes(r))throw new Y(e.kind);const t=xo(e);if(1===t.length){if("delegation"===e.kind&&"delegate"===t[0])continue;if("origination"===e.kind&&"delegate"===t[0])continue;if("transaction"===e.kind&&"parameters"===t[0])continue;if("set_deposits_limit"===e.kind&&"limit"===t[0])continue;if("smart_rollup_originate"===e.kind&&"whitelist"===t[0])continue;if("update_consensus_key"===e.kind&&"proof"===t[0])continue;if("update_companion_key"===e.kind&&"proof"===t[0])continue;if("reveal"===e.kind&&"proof"===t[0])continue;throw new $r(e,`missing properties "${t.join(", ")}"`)}if(t.length>1)throw new $r(e,`missing properties "${t.join(", ")}"`)}const n=this.codec.encoder(t).toLowerCase();return Promise.resolve(n)}parse(t){return Promise.resolve(this.codec.decoder(t))}}const Fo=new ko})(),taquito_local_forging=n})();
//# sourceMappingURL=taquito_local_forging.js.map