<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KukaiCoreSwift - TzKTClient</title>
    <link rel="stylesheet" type="text/css" href="https://kukai-core-swift.kukai.app/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kukai-core-swift.kukai.app/">
            <strong>
                KukaiCoreSwift
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Nested Types</a></li><li><a href="#relationships">Conforms To</a></li></ul></li><li><a href="#initializers">Initializers</a><ul><li class="initializer"><a href="#tzktclient.init(networkservice:config:bettercalldevclient:dipdupclient:)">init(network​Service:​config:​better​Call​Dev​Client:​dip​Dup​Client:​)</a></li></ul></li><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#tzktclient.islistening">is​Listening</a></li><li class="variable"><a href="#tzktclient.accountdidchange">account​Did​Change</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#tzktclient.getstorage(forcontract:oftype:completion:)">get​Storage(for​Contract:​of​Type:​completion:​)</a></li><li class="function"><a href="#tzktclient.getbigmap(forid:oftype:completion:)">get​Big​Map(for​Id:​of​Type:​completion:​)</a></li><li class="function"><a href="#tzktclient.getbigmapkey(forid:key:oftype:completion:)">get​Big​Map​Key(for​Id:​key:​of​Type:​completion:​)</a></li><li class="function"><a href="#tzktclient.suggestaccount(forstring:completion:)">suggest​Account(for​String:​completion:​)</a></li><li class="function"><a href="#tzktclient.bakers(completion:)">bakers(completion:​)</a></li><li class="function"><a href="#tzktclient.bakerconfig(foraddress:completion:)">baker​Config(for​Address:​completion:​)</a></li><li class="function"><a href="#tzktclient.delegatorrewards(foraddress:limit:completion:)">delegator​Rewards(for​Address:​limit:​completion:​)</a></li><li class="function"><a href="#tzktclient.estimatelastandnextreward(foraddress:delegate:completion:)">estimate​Last​And​Next​Reward(for​Address:​delegate:​completion:​)</a></li><li class="function"><a href="#tzktclient.getlastreward(foraddress:uniquebakers:payoutaddresses:completion:)">get​Last​Reward(for​Address:​unique​Bakers:​payout​Addresses:​completion:​)</a></li><li class="function"><a href="#tzktclient.cycles(limit:completion:)">cycles(limit:​completion:​)</a></li><li class="function"><a href="#tzktclient.cycleforlevel(cycles:level:)">cycle​For​Level(cycles:​level:​)</a></li><li class="function"><a href="#tzktclient.getoperation(byhash:completion:)">get​Operation(by​Hash:​completion:​)</a></li><li class="function"><a href="#tzktclient.listenforaccountchanges(addresses:withdebugging:)">listen​For​Account​Changes(addresses:​with​Debugging:​)</a></li><li class="function"><a href="#tzktclient.stoplisteningforaccountchanges()">stop​Listening​For​Account​Changes()</a></li><li class="function"><a href="#tzktclient.changeaddresstolistenforchanges(addresses:)">change​Address​ToListen​For​Changes(addresses:​)</a></li><li class="function"><a href="#tzktclient.getbalancecount(foraddress:completion:)">get​Balance​Count(for​Address:​completion:​)</a></li><li class="function"><a href="#tzktclient.getbalancepage(foraddress:offset:completion:)">get​Balance​Page(for​Address:​offset:​completion:​)</a></li><li class="function"><a href="#tzktclient.getaccount(foraddress:completion:)">get​Account(for​Address:​completion:​)</a></li><li class="function"><a href="#tzktclient.getallbalances(foraddress:completion:)">get​All​Balances(for​Address:​completion:​)</a></li><li class="function"><a href="#tzktclient.avatarurl(fortoken:)">avatar​URL(for​Token:​)</a></li><li class="function"><a href="#tzktclient.fetchtransactions(foraddress:limit:completion:)">fetch​Transactions(for​Address:​limit:​completion:​)</a></li><li class="function"><a href="#tzktclient.grouptransactions(transactions:currentwalletaddress:)">group​Transactions(transactions:​current​Wallet​Address:​)</a></li><li class="function"><a href="#tzktclient.connectiondidopen(hubconnection:)">connection​Did​Open(hub​Connection:​)</a></li><li class="function"><a href="#tzktclient.connectiondidclose(error:)">connection​Did​Close(error:​)</a></li><li class="function"><a href="#tzktclient.connectiondidfailtoopen(error:)">connection​Did​Fail​ToOpen(error:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">TzKTClient</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">class</span> <span class="type">TzKTClient</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>TzKT is an indexer for Tezos, who's API allows developers to query details about wallets, transactions, bakers, account status etc</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        <figure>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %695 Pages: 1 -->
<svg width="872pt" height="116pt"
 viewBox="0.00 0.00 872.00 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>%695</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 868,-112 868,4 -4,4"/>
<!-- TzKTClient -->
<g id="node1" class="node class current">
<title>TzKTClient</title>
<g id="a_node1"><a xlink:href="https://kukai-core-swift.kukai.app/TzKTClient" xlink:title="TzKTClient">
<path fill="none" stroke="#000000" stroke-width="3" d="M528,-108C528,-108 336,-108 336,-108 330,-108 324,-102 324,-96 324,-96 324,-84 324,-84 324,-78 330,-72 336,-72 336,-72 528,-72 528,-72 534,-72 540,-78 540,-84 540,-84 540,-96 540,-96 540,-102 534,-108 528,-108"/>
<text text-anchor="middle" x="432" y="-86.3" font-family="Menlo" font-size="14.00" fill="#000000">TzKTClient</text>
</a>
</g>
</g>
<!-- HubConnectionDelegate -->
<g id="node2" class="node unknown">
<title>HubConnectionDelegate</title>
<path fill="none" stroke="#000000" d="M528,-36C528,-36 336,-36 336,-36 330,-36 324,-30 324,-24 324,-24 324,-12 324,-12 324,-6 330,0 336,0 336,0 528,0 528,0 534,0 540,-6 540,-12 540,-12 540,-24 540,-24 540,-30 534,-36 528,-36"/>
<text text-anchor="middle" x="432" y="-14.3" font-family="Menlo" font-size="14.00" fill="#000000">HubConnectionDelegate</text>
</g>
<!-- TzKTClient&#45;&gt;HubConnectionDelegate -->
<g id="edge1" class="edge conformsTo">
<title>TzKTClient&#45;&gt;HubConnectionDelegate</title>
<path fill="none" stroke="#000000" d="M432,-71.8314C432,-64.131 432,-54.9743 432,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="435.5001,-46.4132 432,-36.4133 428.5001,-46.4133 435.5001,-46.4132"/>
</g>
</g>
</svg>


    <figcaption hidden>Inheritance graph for TzKTClient.</figcaption>
</figure>
        <h3>Nested Types</h3>
<dl>
    <dt class="enumeration"><code><a href="https://kukai-core-swift.kukai.app/TzKTClient_TzKTServiceError">TzKTClient.TzKTServiceError</a></code></dt>
<dd><p>Unique Errors that TzKTClient can throw</p>
</dd>
<dt class="structure"><code><a href="https://kukai-core-swift.kukai.app/TzKTClient_Constants">TzKTClient.Constants</a></code></dt>
<dd><p>Constants needed for interacting with the API</p>
</dd>
</dl>
<h3>Conforms To</h3>
<dl>
    <dt class="unknown"><code>HubConnectionDelegate</code></dt>
</dl>
</section>
    <section id="initializers">
        <h2>Initializers</h2>

        <div role="article" class="initializer" id="tzktclient.init(networkservice:config:bettercalldevclient:dipdupclient:)">
    <h3>
        <code><a href="#tzktclient.init(networkservice:config:bettercalldevclient:dipdupclient:)">init(network​Service:​config:​better​Call​Dev​Client:​dip​Dup​Client:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">init</span>(<span class="variable">networkService</span>: <a href="https://kukai-core-swift.kukai.app/NetworkService"><span class="type">NetworkService</span></a>, <span class="variable">config</span>: <a href="https://kukai-core-swift.kukai.app/TezosNodeClientConfig"><span class="type">TezosNodeClientConfig</span></a>, <span class="variable">betterCallDevClient</span>: <a href="https://kukai-core-swift.kukai.app/BetterCallDevClient"><span class="type">BetterCallDevClient</span></a>, <span class="variable">dipDupClient</span>: <a href="https://kukai-core-swift.kukai.app/DipDupClient"><span class="type">DipDupClient</span></a>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Init a <code>TzKTClient</code> with a <code>NetworkService</code> and a <code>TezosNodeClientConfig</code> and a <code>BetterCallDevClient</code>.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>network​Service</th>
    <td><code class="type">Network​Service</code></td>
    <td><p><code>NetworkService</code> used to manage network communication.</p>
</td>
</tr>
<tr>
    <th>config</th>
    <td><code class="type">Tezos​Node​Client​Config</code></td>
    <td><p><code>TezosNodeClientConfig</code> used to apss in settings.</p>
</td>
</tr>
<tr>
    <th>better​Call​Dev​Client</th>
    <td><code class="type">Better​Call​Dev​Client</code></td>
    <td><p><code>BetterCallDevClient</code> used to fetch more detailed errors about operation failures involving smart contracts.</p>
</td>
</tr>
<tr>
    <th>dip​Dup​Client</th>
    <td><code class="type">Dip​Dup​Client</code></td>
    <td><p><code>DipDupClient</code> used to fetch additional information about the tokens owned.</p>
</td>
</tr>
  </tbody>
</table>
</div>
    </section>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="tzktclient.islistening">
    <h3>
        <code><a href="#tzktclient.islistening">is​Listening</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">isListening</span> = <span class="keyword">false</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Is currently monitoring an address for update notifications</p>

</div>
</div>
<div role="article" class="variable" id="tzktclient.accountdidchange">
    <h3>
        <code><a href="#tzktclient.accountdidchange">account​Did​Change</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">@</span><span class="type">Published</span> <span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">accountDidChange</span>: [<span class="type">String</span>] = [] </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Notifications of monitored addresses that have changed</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="tzktclient.getstorage(forcontract:oftype:completion:)">
    <h3>
        <code><a href="#tzktclient.getstorage(forcontract:oftype:completion:)">get​Storage(for​Contract:​of​Type:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getStorage</span>&lt;<span class="variable">T</span>: <span class="type">Codable</span>&gt;(<span class="variable">forContract</span> <span class="variable">contract</span>: <span class="type">String</span>, <span class="variable">ofType</span>: <span class="type">T</span>.<span class="type">Type</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<span class="type">T</span>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get the storage of a given contract and parse it to a supplied model type</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Contract</th>
    <td><code class="type">String</code></td>
    <td><p>The KT1 contract address to query</p>
</td>
</tr>
<tr>
    <th>of​Type</th>
    <td><code class="type">T.​Type</code></td>
    <td><p>The Codable compliant model to parse the response as</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;T, Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>A completion block called, returning a Swift Result type</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.getbigmap(forid:oftype:completion:)">
    <h3>
        <code><a href="#tzktclient.getbigmap(forid:oftype:completion:)">get​Big​Map(for​Id:​of​Type:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getBigMap</span>&lt;<span class="variable">T</span>: <span class="type">Codable</span>&gt;(<span class="variable">forId</span> <span class="variable">id</span>: <span class="type">String</span>, <span class="variable">ofType</span>: <span class="type">T</span>.<span class="type">Type</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<span class="type">T</span>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get the keys of a big map, by ID and parse it to a model</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Id</th>
    <td><code class="type">String</code></td>
    <td><p>The numeric ID of the big map</p>
</td>
</tr>
<tr>
    <th>of​Type</th>
    <td><code class="type">T.​Type</code></td>
    <td><p>The Codable compliant model to parse the response as</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;T, Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>A completion block called, returning a Swift Result type</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.getbigmapkey(forid:key:oftype:completion:)">
    <h3>
        <code><a href="#tzktclient.getbigmapkey(forid:key:oftype:completion:)">get​Big​Map​Key(for​Id:​key:​of​Type:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getBigMapKey</span>&lt;<span class="variable">T</span>: <span class="type">Codable</span>&gt;(<span class="variable">forId</span> <span class="variable">id</span>: <span class="type">String</span>, <span class="variable">key</span>: <span class="type">String</span>, <span class="variable">ofType</span>: <span class="type">T</span>.<span class="type">Type</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<span class="type">T</span>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get the keys of a big map, but filtered to only one specific key. Parse the response as the supplied model</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Id</th>
    <td><code class="type">String</code></td>
    <td><p>The numeric ID of the big map</p>
</td>
</tr>
<tr>
    <th>key</th>
    <td><code class="type">String</code></td>
    <td><p>The key to filter by</p>
</td>
</tr>
<tr>
    <th>of​Type</th>
    <td><code class="type">T.​Type</code></td>
    <td><p>The Codable compliant model to parse the response as</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;T, Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>A completion block called, returning a Swift Result type</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.suggestaccount(forstring:completion:)">
    <h3>
        <code><a href="#tzktclient.suggestaccount(forstring:completion:)">suggest​Account(for​String:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">suggestAccount</span>(<span class="variable">forString</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<a href="https://kukai-core-swift.kukai.app/TzKTAddress"><span class="type">TzKTAddress</span></a>?, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Call https://api.tzkt.io/v1/suggest/accounts/... appending the supplied string, in an attempt to search for an account with a known alias</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.bakers(completion:)">
    <h3>
        <code><a href="#tzktclient.bakers(completion:)">bakers(completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">bakers</span>(<span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<a href="https://kukai-core-swift.kukai.app/TzKTBaker"><span class="type">TzKTBaker</span></a>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Call https://api.baking-bad.org/v2/bakers/ for a list of public bakers if on mainnet, else search for all accounts self delegating on testnet</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.bakerconfig(foraddress:completion:)">
    <h3>
        <code><a href="#tzktclient.bakerconfig(foraddress:completion:)">baker​Config(for​Address:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">bakerConfig</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<a href="https://kukai-core-swift.kukai.app/TzKTBaker"><span class="type">TzKTBaker</span></a>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Call https://api.baking-bad.org/v2/bakers/...?configs=true to get the config settings for the given baker</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.delegatorrewards(foraddress:limit:completion:)">
    <h3>
        <code><a href="#tzktclient.delegatorrewards(foraddress:limit:completion:)">delegator​Rewards(for​Address:​limit:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">delegatorRewards</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">limit</span>: <span class="type">Int</span> = <span class="number literal">25</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<a href="https://kukai-core-swift.kukai.app/TzKTDelegatorReward"><span class="type">TzKTDelegatorReward</span></a>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Call https://api.tzkt.io/v1/rewards/delegators/...?limit=... to get the config settings for the given baker</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.estimatelastandnextreward(foraddress:delegate:completion:)">
    <h3>
        <code><a href="#tzktclient.estimatelastandnextreward(foraddress:delegate:completion:)">estimate​Last​And​Next​Reward(for​Address:​delegate:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">estimateLastAndNextReward</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">delegate</span>: <a href="https://kukai-core-swift.kukai.app/TzKTAccountDelegate"><span class="type">TzKTAccountDelegate</span></a>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<a href="https://kukai-core-swift.kukai.app/AggregateRewardInformation"><span class="type">AggregateRewardInformation</span></a>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Make many different calls to attempt to figure out the previous reward the user should have received, and the next potential reward</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.getlastreward(foraddress:uniquebakers:payoutaddresses:completion:)">
    <h3>
        <code><a href="#tzktclient.getlastreward(foraddress:uniquebakers:payoutaddresses:completion:)">get​Last​Reward(for​Address:​unique​Bakers:​payout​Addresses:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getLastReward</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">uniqueBakers</span>: [<a href="https://kukai-core-swift.kukai.app/TzKTAddress"><span class="type">TzKTAddress</span></a>], <span class="variable">payoutAddresses</span>: [<span class="type">String</span>: <a href="https://kukai-core-swift.kukai.app/TzKTAddress"><span class="type">TzKTAddress</span></a>], <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<a href="https://kukai-core-swift.kukai.app/TzKTTransaction"><span class="type">TzKTTransaction</span></a>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Take all the baker addresses and payout addresses and find the last transaction (if any) received from any of them</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.cycles(limit:completion:)">
    <h3>
        <code><a href="#tzktclient.cycles(limit:completion:)">cycles(limit:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">cycles</span>(<span class="variable">limit</span>: <span class="type">Int</span> = <span class="number literal">25</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<a href="https://kukai-core-swift.kukai.app/TzKTCycle"><span class="type">TzKTCycle</span></a>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Call https://api.tzkt.io/v1/cycles?limit=... to get the 10 most recent cycles</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.cycleforlevel(cycles:level:)">
    <h3>
        <code><a href="#tzktclient.cycleforlevel(cycles:level:)">cycle​For​Level(cycles:​level:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">cycleForLevel</span>(<span class="variable">cycles</span>: [<a href="https://kukai-core-swift.kukai.app/TzKTCycle"><span class="type">TzKTCycle</span></a>], <span class="variable">level</span>: <span class="type">Decimal</span>) -&gt; <a href="https://kukai-core-swift.kukai.app/TzKTCycle"><span class="type">TzKTCycle</span></a>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Given a list of cycles, search through them to find what cycle a given block level appeared in
If leveled supplied is less than the firstLevel of the last cycle, return the last</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.getoperation(byhash:completion:)">
    <h3>
        <code><a href="#tzktclient.getoperation(byhash:completion:)">get​Operation(by​Hash:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getOperation</span>(<span class="variable">byHash</span> <span class="variable">hash</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (([<a href="https://kukai-core-swift.kukai.app/TzKTOperation"><span class="type">TzKTOperation</span></a>]?, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>?) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Query details about the given operation</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>by​Hash</th>
    <td><code class="type">String</code></td>
    <td><p>The operation hash to query.</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping (([TzKTOperation]?, Kukai​Error?) -&gt; Void)</code></td>
    <td><p>A completion colsure called when the request is done.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.listenforaccountchanges(addresses:withdebugging:)">
    <h3>
        <code><a href="#tzktclient.listenforaccountchanges(addresses:withdebugging:)">listen​For​Account​Changes(addresses:​with​Debugging:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">listenForAccountChanges</span>(<span class="variable">addresses</span>: [<span class="type">String</span>], <span class="variable">withDebugging</span>: <span class="type">Bool</span> = <span class="keyword">false</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Open a websocket connection to request a notification for any changes to the given account. The @Published var <code>accountDidChange</code> will be notified if something occurs</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>address</th>
    <td></td>
    <td><p>The Tz address of the account to monitor</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.stoplisteningforaccountchanges()">
    <h3>
        <code><a href="#tzktclient.stoplisteningforaccountchanges()">stop​Listening​For​Account​Changes()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">stopListeningForAccountChanges</span>()  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Close the websocket from <code>listenForAccountChanges</code></p>

</div>
</div>
<div role="article" class="function" id="tzktclient.changeaddresstolistenforchanges(addresses:)">
    <h3>
        <code><a href="#tzktclient.changeaddresstolistenforchanges(addresses:)">change​Address​ToListen​For​Changes(addresses:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">changeAddressToListenForChanges</span>(<span class="variable">addresses</span>: [<span class="type">String</span>])  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Close the current connection and open another</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.getbalancecount(foraddress:completion:)">
    <h3>
        <code><a href="#tzktclient.getbalancecount(foraddress:completion:)">get​Balance​Count(for​Address:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getBalanceCount</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">Int</span>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get the count of tokens the given address has balances for (excluding zero balances)</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The tz address to search for</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping (Result&lt;Int, Kukai​Error&gt;) -&gt; Void</code></td>
    <td><p>The completion block called with a <code>Result</code> containing the number or an error</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.getbalancepage(foraddress:offset:completion:)">
    <h3>
        <code><a href="#tzktclient.getbalancepage(foraddress:offset:completion:)">get​Balance​Page(for​Address:​offset:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getBalancePage</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">offset</span>: <span class="type">Int</span> = <span class="number literal">0</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;[<a href="https://kukai-core-swift.kukai.app/TzKTBalance"><span class="type">TzKTBalance</span></a>], <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Tokens balances and metadata need to be fetch from a paginated API. THis function calls a sinlerequest or 1 page of balances / metadata</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The tz address to search for</p>
</td>
</tr>
<tr>
    <th>offset</th>
    <td><code class="type">Int</code></td>
    <td><p>The starting position</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;[TzKTBalance], Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>The completion block called with a <code>Result</code> containing an array of balances or an error</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.getaccount(foraddress:completion:)">
    <h3>
        <code><a href="#tzktclient.getaccount(foraddress:completion:)">get​Account(for​Address:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getAccount</span>(<span class="variable">forAddress</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<a href="https://kukai-core-swift.kukai.app/TzKTAccount"><span class="type">TzKTAccount</span></a>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get the account object from TzKT caontaining information about the address, its balance and baker</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The tz address to search for</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;TzKTAccount, Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>The completion block called with a <code>Result</code> containing an object or an error</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.getallbalances(foraddress:completion:)">
    <h3>
        <code><a href="#tzktclient.getallbalances(foraddress:completion:)">get​All​Balances(for​Address:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">getAllBalances</span>(<span class="variable">forAddress</span> <span class="variable">address</span>: <span class="type">String</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ((<span class="type">Result</span>&lt;<a href="https://kukai-core-swift.kukai.app/Account"><span class="type">Account</span></a>, <a href="https://kukai-core-swift.kukai.app/KukaiError"><span class="type">KukaiError</span></a>&gt;) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Get all balances from one function call, by fetching the result from <code>getBalanceCount</code> and using that to decide how many pages should be called</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The tz address to search for</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping ((Result&lt;Account, Kukai​Error&gt;) -&gt; Void)</code></td>
    <td><p>The completion block called with a <code>Result</code> containing an object or an error</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.avatarurl(fortoken:)">
    <h3>
        <code><a href="#tzktclient.avatarurl(fortoken:)">avatar​URL(for​Token:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">avatarURL</span>(<span class="variable">forToken</span> <span class="variable">token</span>: <span class="type">String</span>) -&gt; <span class="type">URL</span>?  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>In order to access the cached images, you need the URL it was downloaded from. This can either be found inside the <code>Token</code> objects returned as part of <code>Account</code> from the <code>fetchAccountInfo</code> func.
Or, if you need to use it seperately, given the token address you can use this function</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>for​Token</th>
    <td><code class="type">String</code></td>
    <td><p>The token address who's image you are looking for.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="tzktclient.fetchtransactions(foraddress:limit:completion:)">
    <h3>
        <code><a href="#tzktclient.fetchtransactions(foraddress:limit:completion:)">fetch​Transactions(for​Address:​limit:​completion:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">fetchTransactions</span>(<span class="variable">forAddress</span> <span class="variable">address</span>: <span class="type">String</span>, <span class="variable">limit</span>: <span class="type">Int</span> = <span class="number literal">50</span>, <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (([<a href="https://kukai-core-swift.kukai.app/TzKTTransaction"><span class="type">TzKTTransaction</span></a>]) -&gt; <span class="type">Void</span>))  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Fetch all transactions, both account operations, and token transfers, and combine them into 1 response</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.grouptransactions(transactions:currentwalletaddress:)">
    <h3>
        <code><a href="#tzktclient.grouptransactions(transactions:currentwalletaddress:)">group​Transactions(transactions:​current​Wallet​Address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">groupTransactions</span>(<span class="variable">transactions</span>: [<a href="https://kukai-core-swift.kukai.app/TzKTTransaction"><span class="type">TzKTTransaction</span></a>], <span class="variable">currentWalletAddress</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/TzKTTransactionGroup"><span class="type">TzKTTransactionGroup</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Group transactions into logical groups, so user doesn't see N enteries for 1 contract call resulting in many internal operations</p>

</div>
</div>
<div role="article" class="function" id="tzktclient.connectiondidopen(hubconnection:)">
    <h3>
        <code><a href="#tzktclient.connectiondidopen(hubconnection:)">connection​Did​Open(hub​Connection:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">connectionDidOpen</span>(<span class="variable">hubConnection</span>: <span class="type">HubConnection</span>)  </body></html></code></pre>
</div>
</div>
<div role="article" class="function" id="tzktclient.connectiondidclose(error:)">
    <h3>
        <code><a href="#tzktclient.connectiondidclose(error:)">connection​Did​Close(error:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">connectionDidClose</span>(<span class="variable">error</span>: <span class="type">Error</span>?)  </body></html></code></pre>
</div>
</div>
<div role="article" class="function" id="tzktclient.connectiondidfailtoopen(error:)">
    <h3>
        <code><a href="#tzktclient.connectiondidfailtoopen(error:)">connection​Did​Fail​ToOpen(error:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">connectionDidFailToOpen</span>(<span class="variable">error</span>: <span class="type">Error</span>)  </body></html></code></pre>
</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2023-09-25T14:49:09+0000">September 25, 2023</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
