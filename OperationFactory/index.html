<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KukaiCoreSwift - OperationFactory</title>
    <link rel="stylesheet" type="text/css" href="https://kukai-core-swift.kukai.app/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kukai-core-swift.kukai.app/">
            <strong>
                KukaiCoreSwift
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Nested Types</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#operationfactory.sendoperation(_:of:from:to:)">send​Operation(_:​of:​from:​to:​)</a></li><li class="function"><a href="#operationfactory.sendoperation(_:ofnft:from:to:)">send​Operation(_:​of​Nft:​from:​to:​)</a></li><li class="function"><a href="#operationfactory.delegateoperation(to:from:)">delegate​Operation(to:​from:​)</a></li><li class="function"><a href="#operationfactory.undelegateoperation(address:)">undelegate​Operation(address:​)</a></li><li class="function"><a href="#operationfactory.swapxtztotoken(withdex:xtzamount:mintokenamount:walletaddress:timeout:)">swap​Xtz​ToToken(with​Dex:​xtz​Amount:​min​Token​Amount:​wallet​Address:​timeout:​)</a></li><li class="function"><a href="#operationfactory.swaptokentoxtz(withdex:tokenamount:minxtzamount:walletaddress:timeout:)">swap​Token​ToXTZ(with​Dex:​token​Amount:​min​XTZAmount:​wallet​Address:​timeout:​)</a></li><li class="function"><a href="#operationfactory.approveoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">approve​Operation(token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></li><li class="function"><a href="#operationfactory.updateoperatorsoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">update​Operators​Operation(token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></li><li class="function"><a href="#operationfactory.allowanceoperation(standard:tokenaddress:spenderaddress:allowance:walletaddress:)">allowance​Operation(standard:​token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></li><li class="function"><a href="#operationfactory.addliquidity(withdex:xtz:token:minliquidty:isinitialliquidity:walletaddress:timeout:)">add​Liquidity(with​Dex:​xtz:​token:​min​Liquidty:​is​Initial​Liquidity:​wallet​Address:​timeout:​)</a></li><li class="function"><a href="#operationfactory.removeliquidity(withdex:minxtz:mintoken:liquiditytoburn:walletaddress:timeout:)">remove​Liquidity(with​Dex:​min​XTZ:​min​Token:​liquidity​ToBurn:​wallet​Address:​timeout:​)</a></li><li class="function"><a href="#operationfactory.withdrawrewards(withdex:walletaddress:)">withdraw​Rewards(with​Dex:​wallet​Address:​)</a></li><li class="function"><a href="#operationfactory.operationpayload(frommetadata:andoperations:walletaddress:base58encodedpublickey:)">operation​Payload(from​Metadata:​and​Operations:​wallet​Address:​base58Encoded​Public​Key:​)</a></li><li class="function"><a href="#operationfactory.createdextertimestampstring(nowplustimeinterval:)">create​Dexter​Timestamp​String(now​Plus​Time​Interval:​)</a></li><li class="function"><a href="#operationfactory.sendtokenmichelson(forfaversion:tokenamount:tokenid:to:from:)">send​Token​Michelson(for​FaVersion:​token​Amount:​token​Id:​to:​from:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Operation​Factory</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">class</span> <span class="type">OperationFactory</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Class responsible for creating operations necessary to perform a given action, and converting those operations into the single payload expected by the RPC.
Although not every action requires more than one operation, all functions will return an array, for consistency.</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        
        <h3>Nested Types</h3>
<dl>
    <dt class="structure"><code><a href="https://kukai-core-swift.kukai.app/OperationFactory_Extractor">OperationFactory.Extractor</a></code></dt>
<dd><p>Internal Struct to encapsulate helpers methods needed to extract critical information from an array of operations, needed for processing decisions like &quot;do i display a send token screen, or a send NFt screen&quot;, fetching total XTZ sent in 1 action etc</p>
</dd>
</dl>
</section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="operationfactory.sendoperation(_:of:from:to:)">
    <h3>
        <code><a href="#operationfactory.sendoperation(_:of:from:to:)">send​Operation(_:​of:​from:​to:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">sendOperation</span>(<span class="keyword">_</span> <span class="variable">tokenAmount</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">of</span> <span class="variable">token</span>: <a href="https://kukai-core-swift.kukai.app/Token"><span class="type">Token</span></a>, <span class="variable">from</span>: <span class="type">String</span>, <span class="variable">to</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to send an amount of a token to a destination address.</p>

</div>
<div class="discussion">
    <ul>
<li>
<p>parameter _: The amount of the given token to send.</p>
</li>
</ul>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>of</th>
    <td><code class="type">Token</code></td>
    <td><p>The <code>Token</code> type that will be sent.</p>
</td>
</tr>
<tr>
    <th>from</th>
    <td><code class="type">String</code></td>
    <td><p>The address to deduct the funds from.</p>
</td>
</tr>
<tr>
    <th>to</th>
    <td><code class="type">String</code></td>
    <td><p>The destination address that will recieve the funds.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.sendoperation(_:ofnft:from:to:)">
    <h3>
        <code><a href="#operationfactory.sendoperation(_:ofnft:from:to:)">send​Operation(_:​of​Nft:​from:​to:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">sendOperation</span>(<span class="keyword">_</span> <span class="variable">amount</span>: <span class="type">Decimal</span>, <span class="variable">ofNft</span> <span class="variable">nft</span>: <a href="https://kukai-core-swift.kukai.app/NFT"><span class="type">NFT</span></a>, <span class="variable">from</span>: <span class="type">String</span>, <span class="variable">to</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to send aan NFT</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>parameter</th>
    <td></td>
    <td><p>The amount of the given token to send.</p>
</td>
</tr>
<tr>
    <th>of​Nft</th>
    <td><code class="type">NFT</code></td>
    <td><p>The <code>NFT</code> type that will be sent.</p>
</td>
</tr>
<tr>
    <th>from</th>
    <td><code class="type">String</code></td>
    <td><p>The address to deduct the funds from.</p>
</td>
</tr>
<tr>
    <th>to</th>
    <td><code class="type">String</code></td>
    <td><p>The destination address that will recieve the funds.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.delegateoperation(to:from:)">
    <h3>
        <code><a href="#operationfactory.delegateoperation(to:from:)">delegate​Operation(to:​from:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">delegateOperation</span>(<span class="variable">to</span>: <span class="type">String</span>, <span class="variable">from</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to delegate funds to a baker.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>to</th>
    <td><code class="type">String</code></td>
    <td><p>The address of the baker to delegate to.</p>
</td>
</tr>
<tr>
    <th>from</th>
    <td><code class="type">String</code></td>
    <td><p>The address that wishes to delegate its funds.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.undelegateoperation(address:)">
    <h3>
        <code><a href="#operationfactory.undelegateoperation(address:)">undelegate​Operation(address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">undelegateOperation</span>(<span class="variable">address</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to remove the current delegate from an address.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>address</th>
    <td><code class="type">String</code></td>
    <td><p>The address that wishes to remove its delegate.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.swapxtztotoken(withdex:xtzamount:mintokenamount:walletaddress:timeout:)">
    <h3>
        <code><a href="#operationfactory.swapxtztotoken(withdex:xtzamount:mintokenamount:walletaddress:timeout:)">swap​Xtz​ToToken(with​Dex:​xtz​Amount:​min​Token​Amount:​wallet​Address:​timeout:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">swapXtzToToken</span>(<span class="variable">withDex</span> <span class="variable">dex</span>: <a href="https://kukai-core-swift.kukai.app/DipDupExchange"><span class="type">DipDupExchange</span></a>, <span class="variable">xtzAmount</span>: <a href="https://kukai-core-swift.kukai.app/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">minTokenAmount</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>, <span class="variable">timeout</span>: <span class="type">TimeInterval</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to perform an exchange of XTZ for a given FA token, using a given dex</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>with​Dex</th>
    <td><code class="type">Dip​Dup​Exchange</code></td>
    <td><p>Enum controling which dex to use to perform the swap</p>
</td>
</tr>
<tr>
    <th>xtz​Amount</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The amount of XTZ to be swaped</p>
</td>
</tr>
<tr>
    <th>min​Token​Amount</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The minimum token amount you will accept</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet signing the operation</p>
</td>
</tr>
<tr>
    <th>timeout</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>Max amount of time to wait before asking the node to cancel the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.swaptokentoxtz(withdex:tokenamount:minxtzamount:walletaddress:timeout:)">
    <h3>
        <code><a href="#operationfactory.swaptokentoxtz(withdex:tokenamount:minxtzamount:walletaddress:timeout:)">swap​Token​ToXTZ(with​Dex:​token​Amount:​min​XTZAmount:​wallet​Address:​timeout:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">swapTokenToXTZ</span>(<span class="variable">withDex</span> <span class="variable">dex</span>: <a href="https://kukai-core-swift.kukai.app/DipDupExchange"><span class="type">DipDupExchange</span></a>, <span class="variable">tokenAmount</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">minXTZAmount</span>: <a href="https://kukai-core-swift.kukai.app/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>, <span class="variable">timeout</span>: <span class="type">TimeInterval</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to perform an exchange of a given FA token for XTZ, using dex contracts</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>with​Dex</th>
    <td><code class="type">Dip​Dup​Exchange</code></td>
    <td><p><code>DipDupExchange</code> instance providing information about the exchange</p>
</td>
</tr>
<tr>
    <th>token​Amount</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The amount of Token to be swapped</p>
</td>
</tr>
<tr>
    <th>min​XTZAmount</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The minimum xtz amount you will accept</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet signing the operation</p>
</td>
</tr>
<tr>
    <th>timeout</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>Max amount of time to wait before asking the node to cancel the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.approveoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">
    <h3>
        <code><a href="#operationfactory.approveoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">approve​Operation(token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">approveOperation</span>(<span class="variable">tokenAddress</span>: <span class="type">String</span>, <span class="variable">spenderAddress</span>: <span class="type">String</span>, <span class="variable">allowance</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>) -&gt; <a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create an operation to call the entrypoint <code>approve</code>, to allow another address to spend some of your token (only FA1.2)
Used when interacting with smart contract applications like Dexter or QuipuSwap</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address of the token contract</p>
</td>
</tr>
<tr>
    <th>spender​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address that is being given permission to spend the users balance</p>
</td>
</tr>
<tr>
    <th>allowance</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The allowance to set for the given contract</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet signing the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An <code>OperationTransaction</code> which will invoke a smart contract call</p>

</div>
<div role="article" class="function" id="operationfactory.updateoperatorsoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">
    <h3>
        <code><a href="#operationfactory.updateoperatorsoperation(tokenaddress:spenderaddress:allowance:walletaddress:)">update​Operators​Operation(token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">updateOperatorsOperation</span>(<span class="variable">tokenAddress</span>: <span class="type">String</span>, <span class="variable">spenderAddress</span>: <span class="type">String</span>, <span class="variable">allowance</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>) -&gt; <a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create an operation to call the entrypoint <code>update_operators</code>, to allow another address to spend some of your token (only FA2)
Used when interacting with smart contract applications like Dexter or QuipuSwap</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>token​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address of the token contract</p>
</td>
</tr>
<tr>
    <th>spender​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address that is being given permission to spend the users balance</p>
</td>
</tr>
<tr>
    <th>allowance</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The allowance to set for the given contract</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet signing the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An <code>OperationTransaction</code> which will invoke a smart contract call</p>

</div>
<div role="article" class="function" id="operationfactory.allowanceoperation(standard:tokenaddress:spenderaddress:allowance:walletaddress:)">
    <h3>
        <code><a href="#operationfactory.allowanceoperation(standard:tokenaddress:spenderaddress:allowance:walletaddress:)">allowance​Operation(standard:​token​Address:​spender​Address:​allowance:​wallet​Address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">allowanceOperation</span>(<span class="variable">standard</span>: <a href="https://kukai-core-swift.kukai.app/DipDupTokenStandard"><span class="type">DipDupTokenStandard</span></a>, <span class="variable">tokenAddress</span>: <span class="type">String</span>, <span class="variable">spenderAddress</span>: <span class="type">String</span>, <span class="variable">allowance</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>) -&gt; <a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Return the operation necessary to register an allowance (either calling <code>apporve</code> or <code>update_operators</code>) depending on the token standard version. Removing the need to check manually
Used when interacting with smart contract applications like Dexter or QuipuSwap</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>standard</th>
    <td><code class="type">Dip​Dup​Token​Standard</code></td>
    <td><p>The FA standard that the token conforms too</p>
</td>
</tr>
<tr>
    <th>token​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address of the token contract</p>
</td>
</tr>
<tr>
    <th>spender​Address</th>
    <td><code class="type">String</code></td>
    <td><p>The address that is being given permission to spend the users balance</p>
</td>
</tr>
<tr>
    <th>allowance</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The allowance to set for the given contract</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet signing the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An <code>OperationTransaction</code> which will invoke a smart contract call</p>

</div>
<div role="article" class="function" id="operationfactory.addliquidity(withdex:xtz:token:minliquidty:isinitialliquidity:walletaddress:timeout:)">
    <h3>
        <code><a href="#operationfactory.addliquidity(withdex:xtz:token:minliquidty:isinitialliquidity:walletaddress:timeout:)">add​Liquidity(with​Dex:​xtz:​token:​min​Liquidty:​is​Initial​Liquidity:​wallet​Address:​timeout:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">addLiquidity</span>(<span class="variable">withDex</span> <span class="variable">dex</span>: <a href="https://kukai-core-swift.kukai.app/DipDupExchange"><span class="type">DipDupExchange</span></a>, <span class="variable">xtz</span>: <a href="https://kukai-core-swift.kukai.app/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">token</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">minLiquidty</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">isInitialLiquidity</span>: <span class="type">Bool</span>, <span class="variable">walletAddress</span>: <span class="type">String</span>, <span class="variable">timeout</span>: <span class="type">TimeInterval</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to add liquidity to a dex contract. Use DexCalculationService to figure out the numbers required</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>with​Dex</th>
    <td><code class="type">Dip​Dup​Exchange</code></td>
    <td><p><code>DipDupExchange</code> instance providing information about the exchange</p>
</td>
</tr>
<tr>
    <th>xtz</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The amount of XTZ to deposit</p>
</td>
</tr>
<tr>
    <th>token</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The amount of Token to deposit</p>
</td>
</tr>
<tr>
    <th>min​Liquidty</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The minimum amount of liquidity tokens you will accept</p>
</td>
</tr>
<tr>
    <th>is​Initial​Liquidity</th>
    <td><code class="type">Bool</code></td>
    <td><p>Is this the xtzPool and tokenPool empty? If so, the operation needs to set the exchange rate for the dex. Some dex's require extra logic here</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet that will sign the operation</p>
</td>
</tr>
<tr>
    <th>timeout</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>The timeout in seconds, before the dex contract should cancel the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.removeliquidity(withdex:minxtz:mintoken:liquiditytoburn:walletaddress:timeout:)">
    <h3>
        <code><a href="#operationfactory.removeliquidity(withdex:minxtz:mintoken:liquiditytoburn:walletaddress:timeout:)">remove​Liquidity(with​Dex:​min​XTZ:​min​Token:​liquidity​ToBurn:​wallet​Address:​timeout:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">removeLiquidity</span>(<span class="variable">withDex</span> <span class="variable">dex</span>: <a href="https://kukai-core-swift.kukai.app/DipDupExchange"><span class="type">DipDupExchange</span></a>, <span class="variable">minXTZ</span>: <a href="https://kukai-core-swift.kukai.app/XTZAmount"><span class="type">XTZAmount</span></a>, <span class="variable">minToken</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">liquidityToBurn</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>, <span class="variable">timeout</span>: <span class="type">TimeInterval</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to remove liquidity from a dex contract, also withdraw pending rewards if applicable. Use DexCalculationService to figure out the numbers required</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>with​Dex</th>
    <td><code class="type">Dip​Dup​Exchange</code></td>
    <td><p><code>DipDupExchange</code> instance providing information about the exchange</p>
</td>
</tr>
<tr>
    <th>min​XTZ</th>
    <td><code class="type">XTZAmount</code></td>
    <td><p>The minimum XTZ to accept in return for the burned amount of Liquidity</p>
</td>
</tr>
<tr>
    <th>min​Token</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The minimum Token to accept in return for the burned amount of Liquidity</p>
</td>
</tr>
<tr>
    <th>liquidity​ToBurn</th>
    <td><code class="type">Token​Amount</code></td>
    <td><p>The amount of Liqudity to burn</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet that will sign the operation</p>
</td>
</tr>
<tr>
    <th>timeout</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>The timeout in seconds, before the dex contract should cancel the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.withdrawrewards(withdex:walletaddress:)">
    <h3>
        <code><a href="#operationfactory.withdrawrewards(withdex:walletaddress:)">withdraw​Rewards(with​Dex:​wallet​Address:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">withdrawRewards</span>(<span class="variable">withDex</span> <span class="variable">dex</span>: <a href="https://kukai-core-swift.kukai.app/DipDupExchange"><span class="type">DipDupExchange</span></a>, <span class="variable">walletAddress</span>: <span class="type">String</span>) -&gt; [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>]  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Create the operations necessary to withdraw rewards from a dex contract. For example in quipuswap, XTZ provided as liquidity will earn baking rewards. This can been withdrawn at any time while leaving liquidity in palce</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>with​Dex</th>
    <td><code class="type">Dip​Dup​Exchange</code></td>
    <td><p><code>DipDupExchange</code> instance providing information about the exchange</p>
</td>
</tr>
<tr>
    <th>wallet</th>
    <td></td>
    <td><p>The wallet that will sign the operation</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An array of <code>Operation</code> subclasses.</p>

</div>
<div role="article" class="function" id="operationfactory.operationpayload(frommetadata:andoperations:walletaddress:base58encodedpublickey:)">
    <h3>
        <code><a href="#operationfactory.operationpayload(frommetadata:andoperations:walletaddress:base58encodedpublickey:)">operation​Payload(from​Metadata:​and​Operations:​wallet​Address:​base58Encoded​Public​Key:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">operationPayload</span>(<span class="variable">fromMetadata</span> <span class="variable">metadata</span>: <a href="https://kukai-core-swift.kukai.app/OperationMetadata"><span class="type">OperationMetadata</span></a>, <span class="variable">andOperations</span> <span class="variable">operations</span>: [<a href="https://kukai-core-swift.kukai.app/Operation"><span class="type">Operation</span></a>], <span class="variable">walletAddress</span>: <span class="type">String</span>, <span class="variable">base58EncodedPublicKey</span>: <span class="type">String</span>) -&gt; <a href="https://kukai-core-swift.kukai.app/OperationPayload"><span class="type">OperationPayload</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Convert an array of operations into the format expected by the RPC. Will also inject a <code>OperationReveal</code> if the sender has not yet revealed their public key.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>from​Metadata</th>
    <td><code class="type">Operation​Metadata</code></td>
    <td><p><code>OperationMeatdata</code> containing necessary data to form the object.</p>
</td>
</tr>
<tr>
    <th>and​Operations</th>
    <td><code class="type">[Operation]</code></td>
    <td><p>An array of <code>Operation</code> subclasses to send.</p>
</td>
</tr>
<tr>
    <th>with​Wallet</th>
    <td></td>
    <td><p>The <code>Wallet</code> instance that will be responsible for these operations.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>An instance of <code>OperationPayload</code> that can be sent to the RPC</p>

</div>
<div role="article" class="function" id="operationfactory.createdextertimestampstring(nowplustimeinterval:)">
    <h3>
        <code><a href="#operationfactory.createdextertimestampstring(nowplustimeinterval:)">create​Dexter​Timestamp​String(now​Plus​Time​Interval:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">createDexterTimestampString</span>(<span class="variable">nowPlusTimeInterval</span>: <span class="type">TimeInterval</span>) -&gt; <span class="type">String</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Dexter requires date strings to act as deadline dates for exchanges.
This function takes a <code>TimeInterval</code> and uses it to createa date in the future, and returns that as a formatted string.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>now​Plus​Time​Interval</th>
    <td><code class="type">Time​Interval</code></td>
    <td><p>The amount of time in the future the date string should represent.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>A formatted date <code>String</code></p>

</div>
<div role="article" class="function" id="operationfactory.sendtokenmichelson(forfaversion:tokenamount:tokenid:to:from:)">
    <h3>
        <code><a href="#operationfactory.sendtokenmichelson(forfaversion:tokenamount:tokenid:to:from:)">send​Token​Michelson(for​FaVersion:​token​Amount:​token​Id:​to:​from:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="function">sendTokenMichelson</span>(<span class="variable">forFaVersion</span> <span class="variable">faVersion</span>: <a href="https://kukai-core-swift.kukai.app/FaVersion"><span class="type">FaVersion</span></a>, <span class="variable">tokenAmount</span>: <a href="https://kukai-core-swift.kukai.app/TokenAmount"><span class="type">TokenAmount</span></a>, <span class="variable">tokenId</span>: <span class="type">Decimal</span>, <span class="variable">to</span>: <span class="type">String</span>, <span class="variable">from</span>: <span class="type">String</span>) -&gt; [<span class="type">String</span>: <span class="keyword">Any</span>]  </body></html></code></pre>
</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2023-09-25T14:49:08+0000">September 25, 2023</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
